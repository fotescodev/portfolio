<!-- Generated by SpecStory -->

# 2025-12-21 17:31:50Z

<!-- Claude Code Session e5cbafbf-cb1a-4aab-9d94-340ef92a1cf5 (2025-12-21_17-31-50Z) -->

_**User (sidechain)**_

Warmup

---

_**Agent (claude-opus-4-5-20251101) (sidechain)**_

I'll explore the codebase to understand its structure and get familiar with the project.

<function_calls>
<invoke name="Glob">
<parameter name="pattern">**/*</parameter>
<parameter name="path">/Users/dfotesco/Portfolio/portfolio</parameter>
</invoke>
</function_calls>
<result>
- .claude/settings.local.json
- .env
- .env.example
- .env.local
- .github/workflows/deploy.yml
- .gitignore
- .nvmrc
- .specstory/history/.what-is-this.md
- CLAUDE.md
- README.md
- app/admin/analytics/page.tsx
- app/admin/editor/[slug]/page.tsx
- app/admin/editor/page.tsx
- app/admin/layout.tsx
- app/admin/page.tsx
- app/api/admin/article/[slug]/metadata/route.ts
- app/api/admin/article/[slug]/publish/route.ts
- app/api/admin/article/[slug]/route.ts
- app/api/admin/articles/route.ts
- app/api/admin/auth/route.ts
- app/api/admin/upload/route.ts
- app/api/og/route.tsx
- app/articles/[slug]/page.tsx
- app/articles/page.tsx
- app/globals.css
- app/layout.tsx
- app/not-found.tsx
- app/page.tsx
- app/robots.ts
- app/sitemap.ts
- components.json
- components/admin/AdminGuard.tsx
- components/admin/ArticleMetadataPanel.tsx
- components/admin/ImageUploader.tsx
- components/admin/MarkdownEditor.tsx
- components/admin/MarkdownToolbar.tsx
- components/analytics/AnalyticsDashboard.tsx
- components/analytics/DailyViewsChart.tsx
- components/analytics/PageViewsTable.tsx
- components/analytics/TopPagesChart.tsx
- components/article/ArticleCard.tsx
- components/article/ArticleContent.tsx
- components/article/ArticleHeader.tsx
- components/article/CodeBlock.tsx
- components/article/SeriesNavigation.tsx
- components/article/TableOfContents.tsx
- components/layout/Footer.tsx
- components/layout/Header.tsx
- components/layout/Navigation.tsx
- components/layout/ThemeProvider.tsx
- components/layout/ThemeToggle.tsx
- components/seo/ArticleSchema.tsx
- components/seo/PersonSchema.tsx
- components/seo/WebsiteSchema.tsx
- components/ui/badge.tsx
- components/ui/button.tsx
- components/ui/card.tsx
- components/ui/dropdown-menu.tsx
- components/ui/input.tsx
- components/ui/label.tsx
- components/ui/scroll-area.tsx
- components/ui/separator.tsx
- components/ui/sheet.tsx
- components/ui/skeleton.tsx
- components/ui/switch.tsx
- components/ui/tabs.tsx
- components/ui/textarea.tsx
- content/articles/building-modern-portfolio-nextjs.md
- content/articles/getting-started-web3-development.md
- content/articles/mastering-solidity-security.md
- content/articles/smart-contract-best-practices.md
- docs/admin/ADMIN_QUICK_REFERENCE.md
- docs/admin/EDITOR_GUIDE.md
- docs/admin/TROUBLESHOOTING.md
- docs/adr/ADR-001-database-choice.md
- docs/adr/ADR-002-content-strategy.md
- docs/adr/ADR-003-data-fetching.md
- docs/adr/ADR-004-admin-architecture.md
- docs/adr/ADR-005-seo-strategy.md
- docs/adr/ADR-006-sprint-sync.md
- docs/adr/ADR-007-cli-guide.md
- docs/briefings/2025-12-21-hardcore.md
- docs/capstone/workflow-guide.md
- docs/cli-guide.md
- docs/growth/METRICS_GUIDE.md
- docs/growth/SEO_PLAYBOOK.md
- docs/growth/SYNDICATION_GUIDE.md
- docs/launch/FINAL_LAUNCH_CHECKLIST.md
- docs/launch/PRODUCTION_DEPLOYMENT.md
- docs/planning/database-integration.md
- docs/planning/features.md
- docs/planning/sessions/2024-12-17-database-setup.md
- docs/planning/sessions/SESSION-001.md
- docs/planning/sessions/SESSION-002.md
- docs/planning/sessions/SESSION-003.md
- docs/planning/sessions/SESSION-004.md
- docs/planning/sessions/SESSION-005.md
- docs/planning/technical-spec.md
- lib/admin-auth.ts
- lib/analytics.ts
- lib/articles.ts
- lib/db.ts
- lib/hooks/use-debounce.ts
- lib/hooks/use-media-query.ts
- lib/hooks/use-toc.ts
- lib/markdown.ts
- lib/metadata.ts
- lib/supabase.ts
- lib/syndication.ts
- lib/types.ts
- lib/utils.ts
- middleware.ts
- next.config.ts
- package-lock.json
- package.json
- postcss.config.mjs
- public/android-chrome-192x192.png
- public/android-chrome-512x512.png
- public/apple-touch-icon.png
- public/favicon-16x16.png
- public/favicon-32x32.png
- public/favicon.ico
- public/images/profile.svg
- public/site.webmanifest
- scripts/check-env.js
- scripts/migrate.ts
- scripts/seed-analytics.ts
- supabase/migrations/001_initial_schema.sql
- supabase/migrations/002_admin_auth.sql
- supabase/migrations/003_analytics.sql
- tailwind.config.ts
- tsconfig.json
</result>

<function_calls>
<invoke name="Read">
<parameter name="file_path">/Users/dfotesco/Portfolio/portfolio/CLAUDE.md</parameter>
</invoke>
</function_calls>
<result>
# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a professional portfolio and technical blog built with Next.js 15, TypeScript, and Tailwind CSS. It serves as a platform for showcasing Web3/blockchain expertise and publishing technical articles.

## Common Commands

```bash
# Development
npm run dev          # Start development server (port 3000)
npm run build        # Production build
npm run start        # Start production server
npm run lint         # Run ESLint

# Database
npm run db:migrate   # Run Supabase migrations
npm run db:seed      # Seed analytics data

# Git Workflow - IMPORTANT: Push all changes, never leave work uncommitted
# After completing any work:
git add -A && git commit -m "type: description" && git push

# Testing before commits (NO TEST SUITE - use these instead):
npm run build        # Verify no build errors
npm run lint         # Check for lint issues
```

## Architecture Overview

### Content System
- **Markdown-first**: Articles stored as `.md` files in `content/articles/`
- **Frontmatter metadata**: title, date, excerpt, tags, series info, publish status
- **Processing**: `lib/markdown.ts` handles parsing with gray-matter and remark/rehype
- **Database sync**: Articles sync to Supabase for draft management and analytics

### Data Layer
- **Supabase**: PostgreSQL database for articles, analytics, admin auth
- **Hybrid approach**: Filesystem for published content, database for drafts/unpublished
- **Analytics**: Custom page view tracking with daily aggregation

### Key Patterns
- **Server Components by default**: Client components only when needed (interactivity, hooks)
- **Route Groups**: `app/admin/` for protected admin routes
- **Parallel data loading**: Use `Promise.all` for concurrent fetches
- **Type safety**: All data structures typed in `lib/types.ts`

### Admin System
- **Simple password auth**: Environment variable-based, stored in cookies
- **Protected routes**: `AdminGuard` component wraps admin pages
- **Editor**: Full-featured Markdown editor with preview, image upload, metadata management

## File Structure Conventions

```
app/                    # Next.js App Router pages
├── admin/             # Admin dashboard, editor, analytics
├── api/               # API routes (admin, OG images)
├── articles/          # Public article pages
components/
├── admin/             # Admin-specific components
├── analytics/         # Dashboard charts and tables
├── article/           # Article display components
├── layout/            # Header, Footer, Navigation
├── seo/               # Schema.org structured data
├── ui/                # shadcn/ui components
content/articles/      # Markdown article files
lib/                   # Utilities, types, data fetching
docs/                  # Documentation and planning
supabase/migrations/   # Database schema migrations
```

## Important Guidelines

1. **No test files**: Project uses build verification instead of unit tests
2. **Component organization**: Keep related components in feature folders
3. **API routes**: All admin APIs require authentication check
4. **Environment variables**: Check `.env.example` for required vars
5. **Git discipline**: Always push completed work, never leave uncommitted changes

## Database Schema

```sql
-- Core tables (see supabase/migrations/)
articles: id, slug, title, content, excerpt, published, featured, created_at, updated_at
page_views: id, page_path, view_date, view_count, created_at
admin_sessions: id, token, created_at, expires_at
```

## SEO Implementation

- **Metadata API**: Each page exports metadata using Next.js conventions
- **Schema.org**: JSON-LD for Person, Article, WebSite types
- **Sitemap**: Auto-generated from published articles
- **OG Images**: Dynamic generation via `/api/og` route
</result>

<function_calls>
<invoke name="Read">
<parameter name="file_path">/Users/dfotesco/Portfolio/portfolio/package.json</parameter>
</invoke>
</function_calls>
<result>
{
  "name": "portfolio",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "db:migrate": "npx ts-node --project tsconfig.json scripts/migrate.ts",
    "db:seed": "npx ts-node --project tsconfig.json scripts/seed-analytics.ts"
  },
  "dependencies": {
    "@radix-ui/react-dropdown-menu": "^2.1.4",
    "@radix-ui/react-label": "^2.1.1",
    "@radix-ui/react-scroll-area": "^1.2.2",
    "@radix-ui/react-separator": "^1.1.1",
    "@radix-ui/react-slot": "^1.1.1",
    "@radix-ui/react-switch": "^1.1.2",
    "@radix-ui/react-tabs": "^1.1.2",
    "@supabase/supabase-js": "^2.47.10",
    "@vercel/og": "^0.6.4",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "date-fns": "^4.1.0",
    "gray-matter": "^4.0.3",
    "lucide-react": "^0.468.0",
    "next": "15.1.0",
    "next-themes": "^0.4.4",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "recharts": "^2.15.0",
    "rehype-highlight": "^7.0.1",
    "rehype-slug": "^6.0.0",
    "rehype-stringify": "^10.0.1",
    "remark-gfm": "^4.0.0",
    "remark-parse": "^11.0.0",
    "remark-rehype": "^11.1.1",
    "tailwind-merge": "^2.6.0",
    "tailwindcss-animate": "^1.0.7",
    "unified": "^11.0.5",
    "vaul": "^1.1.2"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3",
    "@tailwindcss/typography": "^0.5.15",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "15.1.0",
    "postcss": "^8",
    "tailwindcss": "^3.4.1",
    "ts-node": "^10.9.2",
    "typescript": "^5"
  }
}
</result>

<function_calls>
<invoke name="Read">
<parameter name="file_path">/Users/dfotesco/Portfolio/portfolio/lib/types.ts</parameter>
</invoke>
</function_calls>
<result>
export interface Article {
  slug: string;
  title: string;
  date: string;
  excerpt: string;
  content: string;
  tags: string[];
  readingTime: number;
  published?: boolean;
  featured?: boolean;
  series?: {
    name: string;
    part: number;
    total?: number;
  };
  canonical_url?: string;
  syndication?: {
    dev_to?: string;
    hashnode?: string;
    medium?: string;
  };
}

export interface ArticleMetadata {
  slug: string;
  title: string;
  date: string;
  excerpt: string;
  tags: string[];
  readingTime: number;
  published?: boolean;
  featured?: boolean;
  series?: {
    name: string;
    part: number;
    total?: number;
  };
  canonical_url?: string;
  syndication?: {
    dev_to?: string;
    hashnode?: string;
    medium?: string;
  };
}

export interface NavItem {
  label: string;
  href: string;
}

export interface PageView {
  id: string;
  page_path: string;
  view_date: string;
  view_count: number;
}

export interface AnalyticsSummary {
  totalViews: number;
  todayViews: number;
  weekViews: number;
  monthViews: number;
  topPages: { path: string; views: number }[];
  dailyViews: { date: string; views: number }[];
}
</result>

<function_calls>
<invoke name="Read">
<parameter name="file_path">/Users/dfotesco/Portfolio/portfolio/lib/articles.ts</parameter>
</invoke>
</function_calls>
<result>
import fs from "fs";
import path from "path";
import matter from "gray-matter";
import { Article, ArticleMetadata } from "./types";
import { processMarkdown, calculateReadingTime } from "./markdown";

const articlesDirectory = path.join(process.cwd(), "content/articles");

export async function getArticles(): Promise<ArticleMetadata[]> {
  const fileNames = fs.readdirSync(articlesDirectory);

  const articles = await Promise.all(
    fileNames
      .filter((fileName) => fileName.endsWith(".md"))
      .map(async (fileName) => {
        const slug = fileName.replace(/\.md$/, "");
        const fullPath = path.join(articlesDirectory, fileName);
        const fileContents = fs.readFileSync(fullPath, "utf8");
        const { data, content } = matter(fileContents);

        return {
          slug,
          title: data.title || slug,
          date: data.date || new Date().toISOString(),
          excerpt: data.excerpt || "",
          tags: data.tags || [],
          readingTime: calculateReadingTime(content),
          published: data.published !== false,
          featured: data.featured || false,
          series: data.series,
          canonical_url: data.canonical_url,
          syndication: data.syndication,
        } as ArticleMetadata;
      })
  );

  return articles
    .filter((article) => article.published !== false)
    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
}

export async function getArticle(slug: string): Promise<Article | null> {
  try {
    const fullPath = path.join(articlesDirectory, `${slug}.md`);
    const fileContents = fs.readFileSync(fullPath, "utf8");
    const { data, content } = matter(fileContents);

    const htmlContent = await processMarkdown(content);

    return {
      slug,
      title: data.title || slug,
      date: data.date || new Date().toISOString(),
      excerpt: data.excerpt || "",
      content: htmlContent,
      tags: data.tags || [],
      readingTime: calculateReadingTime(content),
      published: data.published !== false,
      featured: data.featured || false,
      series: data.series,
      canonical_url: data.canonical_url,
      syndication: data.syndication,
    };
  } catch {
    return null;
  }
}

export async function getAllArticleSlugs(): Promise<string[]> {
  const fileNames = fs.readdirSync(articlesDirectory);
  return fileNames
    .filter((fileName) => fileName.endsWith(".md"))
    .map((fileName) => fileName.replace(/\.md$/, ""));
}

export async function getArticlesByTag(tag: string): Promise<ArticleMetadata[]> {
  const articles = await getArticles();
  return articles.filter((article) =>
    article.tags.some((t) => t.toLowerCase() === tag.toLowerCase())
  );
}

export async function getRelatedArticles(
  currentSlug: string,
  tags: string[],
  limit = 3
): Promise<ArticleMetadata[]> {
  const articles = await getArticles();

  return articles
    .filter((article) => article.slug !== currentSlug)
    .map((article) => ({
      ...article,
      relevance: article.tags.filter((tag) =>
        tags.some((t) => t.toLowerCase() === tag.toLowerCase())
      ).length,
    }))
    .filter((article) => article.relevance > 0)
    .sort((a, b) => b.relevance - a.relevance)
    .slice(0, limit);
}

export async function getFeaturedArticles(): Promise<ArticleMetadata[]> {
  const articles = await getArticles();
  return articles.filter((article) => article.featured);
}

export async function getArticlesBySeries(
  seriesName: string
): Promise<ArticleMetadata[]> {
  const articles = await getArticles();
  return articles
    .filter(
      (article) =>
        article.series?.name.toLowerCase() === seriesName.toLowerCase()
    )
    .sort((a, b) => (a.series?.part || 0) - (b.series?.part || 0));
}
</result>

Now I have a good understanding of the project. Let me provide a summary:

---

## Warmup Complete - Project Overview

This is a **professional portfolio and technical blog** built with:

### Tech Stack
- **Next.js 15** with App Router
- **TypeScript** for type safety
- **Tailwind CSS** for styling
- **Supabase** (PostgreSQL) for database
- **shadcn/ui** components

### Core Architecture

1. **Content System**
   - Markdown files in `/content/articles/` with frontmatter metadata
   - Processing via `gray-matter` + `remark/rehype` pipeline
   - Hybrid approach: filesystem for published content, database for drafts

2. **Key Directories**
   - `app/` - Next.js pages (public site, admin dashboard, API routes)
   - `components/` - UI organized by feature (admin, analytics, article, layout, seo, ui)
   - `lib/` - Utilities, types, data fetching, hooks
   - `docs/` - Extensive documentation and planning

3. **Admin System**
   - Password auth via environment variables
   - Full Markdown editor with preview
   - Analytics dashboard with page view tracking

4. **SEO Implementation**
   - Schema.org structured data (Person, Article, WebSite)
   - Dynamic OG image generation
   - Auto-generated sitemap

### Critical Files for Implementation
- `/Users/dfotesco/Portfolio/portfolio/lib/articles.ts` - Core article data fetching logic
- `/Users/dfotesco/Portfolio/portfolio/lib/types.ts` - TypeScript interfaces for all data structures
- `/Users/dfotesco/Portfolio/portfolio/lib/markdown.ts` - Markdown processing pipeline
- `/Users/dfotesco/Portfolio/portfolio/app/layout.tsx` - Root layout with providers
- `/Users/dfotesco/Portfolio/portfolio/CLAUDE.md` - Project conventions and guidelines

