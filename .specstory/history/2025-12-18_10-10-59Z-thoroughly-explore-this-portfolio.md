<!-- Generated by SpecStory -->

# 2025-12-18 10:10:59Z

<!-- Claude Code Session d1229677-081c-4c28-83a4-46f10c8f991a (2025-12-18_10-10-59Z) -->

_**User (sidechain)**_

Thoroughly explore this portfolio codebase to understand:
1. Overall project structure and architecture
2. Key directories: src/lib, src/styles, src/components, src/content
3. Configuration files (astro.config, tailwind, tsconfig)
4. Content schemas and data flow (YAML/MDX to components)
5. Any context/ directory with planning docs

Provide a comprehensive map of the codebase architecture, key files, and how data flows from content to rendering.

---

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

I'll thoroughly explore this portfolio codebase to understand its architecture and data flow. Let me start by examining the project structure and key files.

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** Find package.json to understand project setup

`find /Users/dfotesco/Portfolio/portfolio -type f -name "package.json" | head -1`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** List root directory contents

`ls -la /Users/dfotesco/Portfolio/portfolio`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Glob**

Result:

```
total 1104
drwxr-xr-x@  30 dfotesco  staff     960 Dec 18 05:09 .
drwxr-xr-x@  32 dfotesco  staff    1024 Dec 13 19:44 ..
drwxr-xr-x@   3 dfotesco  staff      96 Dec 16 12:44 .claude
-rw-r--r--@   1 dfotesco  staff    6148 Dec 11 06:21 .DS_Store
drwxr-xr-x@  17 dfotesco  staff     544 Dec 18 05:09 .git
drwxr-xr-x@   4 dfotesco  staff     128 Dec 16 12:33 .github
-rw-r--r--@   1 dfotesco  staff     253 Dec 18 05:09 .gitignore
drwxr-xr-x@  12 dfotesco  staff     384 Dec 18 05:09 content
drwxr-xr-x@   8 dfotesco  staff     256 Dec 18 05:09 context
-rw-r--r--@   1 dfotesco  staff   11290 Dec 18 05:09 Devlog.md
drwxr-xr-x@  12 dfotesco  staff     384 Dec 15 19:24 dist
drwxr-xr-x@   6 dfotesco  staff     192 Dec 15 19:14 docs
-rw-r--r--@   1 dfotesco  staff     616 Dec 10 12:54 eslint.config.js
-rw-r--r--@   1 dfotesco  staff    3333 Dec 12 15:10 implementation_plan.md
-rw-r--r--@   1 dfotesco  staff    2313 Dec 10 15:01 index.html
-rw-r--r--@   1 dfotesco  staff  106589 Dec 11 06:15 linkedin-banner-wide.png
-rw-r--r--@   1 dfotesco  staff  113170 Dec 11 06:06 linkedin-banner.png
drwxr-xr-x@ 338 dfotesco  staff   10816 Dec 15 12:58 node_modules
-rw-r--r--@   1 dfotesco  staff  265802 Dec 18 05:09 package-lock.json
-rw-r--r--@   1 dfotesco  staff    1598 Dec 18 05:09 package.json
drwxr-xr-x@  10 dfotesco  staff     320 Dec 11 06:06 public
-rw-r--r--@   1 dfotesco  staff     890 Dec 18 05:09 README.md
drwxr-xr-x@   3 dfotesco  staff      96 Dec 18 05:09 scripts
drwxr-xr-x@  11 dfotesco  staff     352 Dec 18 05:09 src
-rw-r--r--@   1 dfotesco  staff     732 Dec 10 12:54 tsconfig.app.json
-rw-r--r--@   1 dfotesco  staff     119 Dec 10 12:54 tsconfig.json
-rw-r--r--@   1 dfotesco  staff     653 Dec 10 12:54 tsconfig.node.json
-rw-r--r--@   1 dfotesco  staff     233 Dec 11 18:24 vite.config.ts
-rw-r--r--@   1 dfotesco  staff     640 Dec 12 12:06 vitest.config.ts
-rw-r--r--@   1 dfotesco  staff    4538 Dec 12 16:04 walkthrough.md
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/node_modules/is-plain-obj/package.json
```

Result:

```
No files found
```

Result:

```
No files found
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@jest/pattern/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/bun/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/jest-globals/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/jest/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/vitest/tsconfig.json
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./package.json`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** List src directory structure

`ls -la /Users/dfotesco/Portfolio/portfolio/src`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** List content directory structure

`ls -la /Users/dfotesco/Portfolio/portfolio/content`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** List context directory with planning docs

`ls -la /Users/dfotesco/Portfolio/portfolio/context`

Result:

```
1→{
     2→  "name": "dmitrii-portfolio",
     3→  "private": true,
     4→  "version": "0.0.0",
     5→  "type": "module",
     6→  "scripts": {
     7→    "dev": "vite",
     8→    "build": "tsc -b && vite build",
     9→    "lint": "eslint .",
    10→    "preview": "vite preview",
    11→    "test": "vitest run",
    12→    "test:watch": "vitest",
    13→    "test:design-system": "vitest run --reporter=verbose src/tests/design-system",
    14→    "validate": "tsx scripts/validate-content.ts"
    15→  },
    16→  "dependencies": {
    17→    "@types/react-syntax-highlighter": "^15.5.13",
    18→    "framer-motion": "^12.23.26",
    19→    "gray-matter": "^4.0.3",
    20→    "react": "^19.2.0",
    21→    "react-dom": "^19.2.0",
    22→    "react-helmet-async": "^2.0.5",
    23→    "react-markdown": "^10.1.0",
    24→    "react-syntax-highlighter": "^16.1.0",
    25→    "remark-gfm": "^4.0.1",
    26→    "yaml": "^2.8.2",
    27→    "zod": "^4.1.13"
    28→  },
    29→  "overrides": {
    30→    "react-helmet-async": {
    31→      "react": "$react",
    32→      "react-dom": "$react-dom"
    33→    }
    34→  },
    35→  "devDependencies": {
    36→    "@eslint/js": "^9.39.1",
    37→    "@rollup/plugin-yaml": "^4.1.2",
    38→    "@testing-library/dom": "^10.4.1",
    39→    "@testing-library/jest-dom": "^6.9.1",
    40→    "@testing-library/react": "^16.3.0",
    41→    "@types/node": "^24.10.4",
    42→    "@types/react": "^19.2.5",
    43→    "@types/react-dom": "^19.2.3",
    44→    "@types/testing-library__jest-dom": "^5.14.9",
    45→    "@vitejs/plugin-react": "^5.1.1",
    46→    "eslint": "^9.39.1",
    47→    "eslint-plugin-react-hooks": "^7.0.1",
    48→    "eslint-plugin-react-refresh": "^0.4.24",
    49→    "globals": "^16.5.0",
    50→    "jsdom": "^27.0.1",
    51→    "tsx": "^4.21.0",
    52→    "typescript": "~5.9.3",
    53→    "typescript-eslint": "^8.46.4",
    54→    "vite": "^7.2.4",
    55→    "vitest": "^3.2.4"
    56→  }
    57→}
    58→
```

Result:

```
total 8
drwxr-xr-x@  6 dfotesco  staff   192 Dec 15 19:14 _templates
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 05:09 .
drwxr-xr-x@ 30 dfotesco  staff   960 Dec 18 05:09 ..
drwxr-xr-x@  7 dfotesco  staff   224 Dec 15 19:14 blog
drwxr-xr-x@  8 dfotesco  staff   256 Dec 15 19:14 case-studies
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 12:35 certifications
drwxr-xr-x@  3 dfotesco  staff    96 Dec 11 18:24 experience
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 19:14 passion-projects
-rw-r--r--@  1 dfotesco  staff  3358 Dec 15 19:14 profile.yaml
drwxr-xr-x@  3 dfotesco  staff    96 Dec 11 18:24 skills
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 12:35 social
drwxr-xr-x@  3 dfotesco  staff    96 Dec 14 15:19 testimonials
```

Result:

```
total 24
drwxr-xr-x@ 11 dfotesco  staff   352 Dec 18 05:09 .
drwxr-xr-x@ 30 dfotesco  staff   960 Dec 18 05:09 ..
-rw-r--r--@  1 dfotesco  staff   321 Dec 18 05:09 App.tsx
drwxr-xr-x@ 10 dfotesco  staff   320 Dec 18 05:09 components
drwxr-xr-x@  3 dfotesco  staff    96 Dec 18 05:09 context
-rw-r--r--@  1 dfotesco  staff  1097 Dec 15 10:40 index.css
drwxr-xr-x@  5 dfotesco  staff   160 Dec 18 05:09 lib
-rw-r--r--@  1 dfotesco  staff   230 Dec 10 12:54 main.tsx
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 19:14 styles
drwxr-xr-x@  8 dfotesco  staff   256 Dec 18 05:09 tests
drwxr-xr-x@  5 dfotesco  staff   160 Dec 18 05:09 types
```

Result:

```
total 88
drwxr-xr-x@  8 dfotesco  staff   256 Dec 18 05:09 .
drwxr-xr-x@ 30 dfotesco  staff   960 Dec 18 05:09 ..
-rw-r--r--@  1 dfotesco  staff  3491 Dec 15 12:35 AGENT_RULES.md
-rw-r--r--@  1 dfotesco  staff  5168 Dec 18 05:09 CODEBASE.md
-rw-r--r--@  1 dfotesco  staff  3712 Dec 12 14:01 CONSOLIDATION_STRATEGY.md
-rw-r--r--@  1 dfotesco  staff  9687 Dec 15 19:14 DESIGN.md
-rw-r--r--@  1 dfotesco  staff  7412 Dec 15 19:14 DEVLOG.md
-rw-r--r--@  1 dfotesco  staff  4527 Dec 18 05:09 ROADMAP.md
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Now let me explore the detailed structure of key directories:

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** Find all TypeScript files in lib directory

`find /Users/dfotesco/Portfolio/portfolio/src/lib -type f -name "*.ts" -o -name "*.tsx" | sort`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** Find all component files

`find /Users/dfotesco/Portfolio/portfolio/src/components -type f -name "*.tsx" | sort`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** Find all style files

`find /Users/dfotesco/Portfolio/portfolio/src/styles -type f | sort`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./tsconfig.json`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./vite.config.ts`

Result:

```
1→{
     2→  "files": [],
     3→  "references": [
     4→    { "path": "./tsconfig.app.json" },
     5→    { "path": "./tsconfig.node.json" }
     6→  ]
     7→}
     8→
```

Result:

```
1→import { defineConfig } from 'vite'
     2→import react from '@vitejs/plugin-react'
     3→import yaml from '@rollup/plugin-yaml'
     4→
     5→// https://vite.dev/config/
     6→export default defineConfig({
     7→  plugins: [
     8→    react(),
     9→    yaml()
    10→  ],
    11→  base: '/',
    12→})
    13→
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/lib/content.ts
/Users/dfotesco/Portfolio/portfolio/src/lib/likes.ts
/Users/dfotesco/Portfolio/portfolio/src/lib/schemas.ts
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/styles/globals.css
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyContent.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyDrawer.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyFooter.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyHeader.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyHero.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyLinks.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyMetrics.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/common/AmbientBackground.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/common/Omnibar.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/common/SEO.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/LikeAnalytics.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/Portfolio.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/AboutSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/CaseStudiesSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/CertificationsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/ExperienceSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/FooterSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/HeroSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/PassionProjectsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/SocialSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/TestimonialsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/ThemeToggle.tsx
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./tsconfig.app.json`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/lib/schemas.ts`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/lib/content.ts`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./content/profile.yaml`

Result:

```
1→{
     2→  "compilerOptions": {
     3→    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
     4→    "target": "ES2022",
     5→    "useDefineForClassFields": true,
     6→    "lib": ["ES2022", "DOM", "DOM.Iterable"],
     7→    "module": "ESNext",
     8→    "types": ["vite/client"],
     9→    "skipLibCheck": true,
    10→
    11→    /* Bundler mode */
    12→    "moduleResolution": "bundler",
    13→    "allowImportingTsExtensions": true,
    14→    "verbatimModuleSyntax": true,
    15→    "moduleDetection": "force",
    16→    "noEmit": true,
    17→    "jsx": "react-jsx",
    18→
    19→    /* Linting */
    20→    "strict": true,
    21→    "noUnusedLocals": true,
    22→    "noUnusedParameters": true,
    23→    "erasableSyntaxOnly": true,
    24→    "noFallthroughCasesInSwitch": true,
    25→    "noUncheckedSideEffectImports": true
    26→  },
    27→  "include": ["src"]
    28→}
    29→
```

Result:

```
1→/**
     2→ * Zod validation schemas for all content types
     3→ *
     4→ * Shared between content loader and validation CLI
     5→ */
     6→
     7→import { z } from 'zod';
     8→
     9→// ------------------------------------------------------------------
    10→// PROFILE
    11→// ------------------------------------------------------------------
    12→
    13→const HeadlineSegmentSchema = z.object({
    14→  text: z.string(),
    15→  style: z.enum(['italic', 'muted', 'accent', 'normal']).optional().default('normal')
    16→});
    17→
    18→const CtaButtonSchema = z.object({
    19→  label: z.string(),
    20→  href: z.string()
    21→});
    22→
    23→const StatSchema = z.object({
    24→  value: z.string(),
    25→  label: z.string()
    26→});
    27→
    28→export const ProfileSchema = z.object({
    29→  name: z.string(),
    30→  ens: z.string(),
    31→  email: z.string().email(),
    32→  location: z.string(),
    33→  timezone: z.string(),
    34→  photo: z.string(),
    35→  hero: z.object({
    36→    status: z.string(),
    37→    headline: z.array(HeadlineSegmentSchema),
    38→    subheadline: z.string(),
    39→    cta: z.object({
    40→      primary: CtaButtonSchema,
    41→      secondary: CtaButtonSchema
    42→    })
    43→  }),
    44→  about: z.object({
    45→    tagline: z.string(),
    46→    bio: z.array(z.string()),
    47→    stats: z.array(StatSchema)
    48→  }),
    49→  sections: z.object({
    50→    beyondWork: z.boolean(),
    51→    blog: z.boolean(),
    52→    onchainIdentity: z.boolean(),
    53→    skills: z.boolean(),
    54→    passionProjects: z.boolean()
    55→  })
    56→});
    57→
    58→// ------------------------------------------------------------------
    59→// EXPERIENCE
    60→// ------------------------------------------------------------------
    61→
    62→const JobSchema = z.object({
    63→  company: z.string(),
    64→  role: z.string(),
    65→  period: z.string(),
    66→  location: z.string(),
    67→  logo: z.string().nullable().optional(),
    68→  highlights: z.array(z.string()),
    69→  tags: z.array(z.string()),
    70→  url: z.string().nullable().optional()
    71→});
    72→
    73→export const ExperienceSchema = z.object({
    74→  jobs: z.array(JobSchema)
    75→});
    76→
    77→// ------------------------------------------------------------------
    78→// TESTIMONIALS
    79→// ------------------------------------------------------------------
    80→
    81→const TestimonialSchema = z.object({
    82→  quote: z.string(),
    83→  author: z.string(),
    84→  initials: z.string().optional(),
    85→  role: z.string(),
    86→  company: z.string(),
    87→  avatar: z.string().nullable().optional(),
    88→  featured: z.boolean()
    89→});
    90→
    91→export const TestimonialsSchema = z.object({
    92→  testimonials: z.array(TestimonialSchema)
    93→});
    94→
    95→// ------------------------------------------------------------------
    96→// CERTIFICATIONS
    97→// ------------------------------------------------------------------
    98→
    99→const CertificationSchema = z.object({
   100→  name: z.string(),
   101→  issuer: z.string(),
   102→  date: z.string(),
   103→  credentialId: z.string().nullable().optional(),
   104→  url: z.string().nullable().optional(),
   105→  logo: z.string().nullable().optional(),
   106→  featured: z.boolean(),
   107→  instructor: z.string().nullable().optional(),
   108→  instructorRole: z.string().nullable().optional()
   109→});
   110→
   111→const CredentialSchema = z.object({
   112→  label: z.string(),
   113→  value: z.string(),
   114→  url: z.string().nullable().optional()
   115→});
   116→
   117→const OnchainLinkSchema = z.object({
   118→  name: z.string(),
   119→  url: z.string(),
   120→  icon: z.string()
   121→});
   122→
   123→export const CertificationsSchema = z.object({
   124→  certifications: z.array(CertificationSchema),
   125→  credentials: z.array(CredentialSchema),
   126→  onchainIdentity: z.object({
   127→    ens: z.string(),
   128→    links: z.array(OnchainLinkSchema)
   129→  })
   130→});
   131→
   132→// ------------------------------------------------------------------
   133→// SKILLS
   134→// ------------------------------------------------------------------
   135→
   136→const SkillCategorySchema = z.object({
   137→  name: z.string(),
   138→  skills: z.array(z.string())
   139→});
   140→
   141→export const SkillsSchema = z.object({
   142→  categories: z.array(SkillCategorySchema)
   143→});
   144→
   145→// ------------------------------------------------------------------
   146→// SOCIAL
   147→// ------------------------------------------------------------------
   148→
   149→const SocialLinkSchema = z.object({
   150→  platform: z.string(),
   151→  label: z.string(),
   152→  handle: z.string().optional(),
   153→  url: z.string(),
   154→  icon: z.string(),
   155→  primary: z.boolean()
   156→});
   157→
   158→const ContactCtaButtonSchema = z.object({
   159→  label: z.string(),
   160→  href: z.string(),
   161→  style: z.enum(['primary', 'secondary'])
   162→});
   163→
   164→const ContactCtaSchema = z.object({
   165→  headline: z.string(),
   166→  subtext: z.string(),
   167→  buttons: z.array(ContactCtaButtonSchema)
   168→});
   169→
   170→const NewsletterSchema = z.object({
   171→  enabled: z.boolean(),
   172→  launchDate: z.string().optional(),
   173→  teaser: z.string().optional()
   174→});
   175→
   176→export const SocialSchema = z.object({
   177→  links: z.array(SocialLinkSchema),
   178→  contactCta: ContactCtaSchema,
   179→  newsletter: NewsletterSchema.optional()
   180→});
   181→
   182→// ------------------------------------------------------------------
   183→// CASE STUDIES
   184→// ------------------------------------------------------------------
   185→
   186→const ImpactMetricSchema = z.object({
   187→  value: z.string(),
   188→  label: z.string()
   189→});
   190→
   191→const CaseStudyCtaSchema = z.object({
   192→  headline: z.string(),
   193→  subtext: z.string().optional(),
   194→  action: z.enum(['contact', 'calendly', 'linkedin']),
   195→  linkText: z.string()
   196→});
   197→
   198→export const CaseStudySchema = z.object({
   199→  id: z.number(),
   200→  slug: z.string(),
   201→  title: z.string(),
   202→  company: z.string(),
   203→  year: z.string(),
   204→  tags: z.array(z.string()),
   205→  duration: z.string(),
   206→  role: z.string(),
   207→  hook: z.object({
   208→    headline: z.string(),
   209→    impactMetric: ImpactMetricSchema,
   210→    subMetrics: z.array(ImpactMetricSchema).optional(),
   211→    thumbnail: z.string().nullable()
   212→  }),
   213→  demoUrl: z.string().nullable().optional(),
   214→  githubUrl: z.string().nullable().optional(),
   215→  docsUrl: z.string().nullable().optional(),
   216→  media: z.array(z.object({
   217→    type: z.enum(['blog', 'twitter', 'linkedin', 'video', 'article', 'slides']),
   218→    url: z.string(),
   219→    label: z.string().optional()
   220→  })).optional(),
   221→  cta: CaseStudyCtaSchema,
   222→  content: z.string()
   223→});
   224→
   225→// ------------------------------------------------------------------
   226→// PASSION PROJECTS
   227→// ------------------------------------------------------------------
   228→
   229→const PassionProjectSchema = z.object({
   230→  id: z.number(),
   231→  slug: z.string(),
   232→  title: z.string(),
   233→  tagline: z.string(),
   234→  year: z.string(),
   235→  tags: z.array(z.string()),
   236→  thumbnail: z.string().nullable().optional(),
   237→  githubUrl: z.string().nullable().optional(),
   238→  liveUrl: z.string().nullable().optional(),
   239→  docsUrl: z.string().nullable().optional()
   240→});
   241→
   242→export const PassionProjectsSchema = z.object({
   243→  projects: z.array(PassionProjectSchema)
   244→});
   245→
   246→// ------------------------------------------------------------------
   247→// BLOG POSTS
   248→// ------------------------------------------------------------------
   249→
   250→export const BlogPostSchema = z.object({
   251→  title: z.string(),
   252→  date: z.string().regex(/^\d{4}-\d{2}-\d{2}$/, 'Date must be in YYYY-MM-DD format'),
   253→  excerpt: z.string(),
   254→  tags: z.array(z.string()),
   255→  thumbnail: z.string().nullable().optional(),
   256→  content: z.string()
   257→});
   258→
```

Result:

```
1→/**
     2→ * Content Loader with Zod Validation
     3→ *
     4→ * This module provides type-safe access to all content files.
     5→ * YAML files are loaded via @rollup/plugin-yaml.
     6→ * Case studies are loaded from markdown files with YAML frontmatter.
     7→ */
     8→
     9→import { z } from 'zod';
    10→import YAML from 'yaml';
    11→import type { PortfolioContent, CaseStudy } from '../types/portfolio';
    12→import {
    13→  ProfileSchema,
    14→  ExperienceSchema,
    15→  TestimonialsSchema,
    16→  CertificationsSchema,
    17→  SkillsSchema,
    18→  SocialSchema,
    19→  CaseStudySchema,
    20→  PassionProjectsSchema,
    21→  BlogPostSchema
    22→} from './schemas';
    23→
    24→// Import YAML content files
    25→import profileYaml from '../../content/profile.yaml';
    26→import experienceYaml from '../../content/experience/index.yaml';
    27→import testimonialsYaml from '../../content/testimonials/index.yaml';
    28→import certificationsYaml from '../../content/certifications/index.yaml';
    29→import skillsYaml from '../../content/skills/index.yaml';
    30→import socialYaml from '../../content/social/index.yaml';
    31→import passionProjectsYaml from '../../content/passion-projects/index.yaml';
    32→
    33→// Auto-discover case studies using import.meta.glob (now markdown files)
    34→const caseStudyFiles = import.meta.glob('../../content/case-studies/*.md', { query: '?raw', eager: true });
    35→
    36→// Re-export schemas for backward compatibility
    37→export {
    38→  ProfileSchema,
    39→  ExperienceSchema,
    40→  TestimonialsSchema,
    41→  CertificationsSchema,
    42→  SkillsSchema,
    43→  SocialSchema,
    44→  CaseStudySchema,
    45→  PassionProjectsSchema,
    46→  BlogPostSchema
    47→};
    48→
    49→// ------------------------------------------------------------------
    50→// Frontmatter Parsing
    51→// ------------------------------------------------------------------
    52→
    53→function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    54→  const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    55→  if (!match) return { frontmatter: {}, content: raw };
    56→
    57→  const frontmatterStr = match[1];
    58→  const content = match[2].trim();
    59→
    60→  try {
    61→    const frontmatter = YAML.parse(frontmatterStr);
    62→    return { frontmatter, content };
    63→  } catch (error) {
    64→    console.error('Failed to parse frontmatter:', error);
    65→    return { frontmatter: {}, content: raw };
    66→  }
    67→}
    68→
    69→// ------------------------------------------------------------------
    70→// Runtime Validation
    71→// ------------------------------------------------------------------
    72→
    73→function validate<T>(schema: z.ZodSchema<T>, data: unknown, filename: string): T {
    74→  try {
    75→    return schema.parse(data);
    76→  } catch (error) {
    77→    if (error instanceof z.ZodError) {
    78→      console.error(`❌ Validation failed for ${filename}:`, error.flatten().fieldErrors);
    79→      throw new Error(`Invalid content in ${filename}: ${error.message}`);
    80→    }
    81→    throw error;
    82→  }
    83→}
    84→
    85→// Export validated content
    86→export const profile = validate(ProfileSchema, profileYaml, 'profile.yaml');
    87→export const experience = validate(ExperienceSchema, experienceYaml, 'experience/index.yaml');
    88→export const testimonials = validate(TestimonialsSchema, testimonialsYaml, 'testimonials/index.yaml');
    89→export const certifications = validate(CertificationsSchema, certificationsYaml, 'certifications/index.yaml');
    90→export const skills = validate(SkillsSchema, skillsYaml, 'skills/index.yaml');
    91→export const social = validate(SocialSchema, socialYaml, 'social/index.yaml');
    92→export const passionProjectsData = validate(PassionProjectsSchema, passionProjectsYaml, 'passion-projects/index.yaml');
    93→export const passionProjects = passionProjectsData.projects;
    94→
    95→// Parse and validate case studies from markdown files
    96→function parseCaseStudies(): CaseStudy[] {
    97→  return Object.entries(caseStudyFiles)
    98→    .map(([path, module]) => {
    99→      const filename = path.split('/').pop() || 'unknown';
   100→      const raw = (module as { default: string }).default;
   101→      const { frontmatter, content } = parseFrontmatter(raw);
   102→      
   103→      // Combine frontmatter with content
   104→      const caseStudyData = {
   105→        ...frontmatter,
   106→        content
   107→      };
   108→      
   109→      return validate(CaseStudySchema, caseStudyData, filename);
   110→    })
   111→    .sort((a, b) => a.id - b.id);
   112→}
   113→
   114→export const caseStudies = parseCaseStudies();
   115→
   116→// Aggregated content export
   117→export const content: PortfolioContent = {
   118→  profile,
   119→  experience,
   120→  testimonials,
   121→  certifications,
   122→  skills,
   123→  social,
   124→  caseStudies,
   125→  passionProjects,
   126→};
   127→
   128→// Helper functions
   129→export function getCaseStudyBySlug(slug: string) {
   130→  return caseStudies.find(cs => cs.slug === slug);
   131→}
   132→
   133→export function getCaseStudyById(id: number) {
   134→  return caseStudies.find(cs => cs.id === id);
   135→}
   136→
   137→export function getFeaturedTestimonials() {
   138→  return testimonials.testimonials.filter(t => t.featured);
   139→}
   140→
   141→export function getFeaturedCertifications() {
   142→  return certifications.certifications.filter(c => c.featured);
   143→}
   144→
   145→export function getPrimarySocialLinks() {
   146→  return social.links.filter(l => l.primary);
   147→}
   148→
   149→export function isSectionVisible(section: keyof typeof profile.sections): boolean {
   150→  return profile.sections[section];
   151→}
   152→
   153→export default content;
   154→
```

Result:

```
1→# ═══════════════════════════════════════════════════════════════
     2→# PERSONAL IDENTITY
     3→# ═══════════════════════════════════════════════════════════════
     4→name: "Dmitrii Fotesco"
     5→ens: "dmitriif.eth"
     6→email: "dmitrii.fotesco@gmail.com"
     7→location: "Charlotte, NC"
     8→timezone: "EST"
     9→photo: "/images/headshot.jpg"
    10→
    11→# ═══════════════════════════════════════════════════════════════
    12→# HERO SECTION
    13→# ═══════════════════════════════════════════════════════════════
    14→hero:
    15→  status: "Open to PM roles — AI, Infrastructure, Web3"
    16→  headline:
    17→    - text: "Building"
    18→      style: "italic"
    19→    - text: "at the edge of"
    20→      style: "muted"
    21→    - text: "trust"
    22→      style: "accent"
    23→  subheadline: >
    24→    Senior Technical PM shipping institutional crypto infrastructure.
    25→    From Xbox royalties on Ethereum to ETF-grade custody.
    26→    Now exploring where AI agents meet on-chain execution.
    27→  cta:
    28→    primary:
    29→      label: "View Work"
    30→      href: "#work"
    31→    secondary:
    32→      label: "Download Resume"
    33→      href: "/dmitrii-fotesco-resume.pdf"
    34→
    35→# ═══════════════════════════════════════════════════════════════
    36→# ABOUT SECTION
    37→# ═══════════════════════════════════════════════════════════════
    38→about:
    39→  tagline: >
    40→    Eight years shipping products where complexity
    41→    meets compliance—from enterprise to crypto to whatever comes next.
    42→  bio:
    43→    - >
    44→      Currently at Anchorage Digital, I lead protocol integrations and staking
    45→      products for institutional clients—Galaxy, ETF providers, and enterprises
    46→      navigating crypto custody. Before that, I built Wallet-as-a-Service at Forte,
    47→      developer tooling at Dapper Labs, and API infrastructure at Ankr.
    48→    - >
    49→      I started in enterprise blockchain at Microsoft, shipping Xbox royalties
    50→      on Ethereum before "Web3" was a term. I'm drawn to problems at the
    51→      intersection of deterministic systems and probabilistic intelligence—where
    52→      smart contracts meet AI agents.
    53→  stats:
    54→    - value: "8+"
    55→      label: "Years in Product"
    56→    - value: "5"
    57→      label: "Years in Web3"
    58→    - value: "6"
    59→      label: "Companies Shipped"
    60→
    61→# ═══════════════════════════════════════════════════════════════
    62→# SECTION VISIBILITY FLAGS
    63→# ═══════════════════════════════════════════════════════════════
    64→sections:
    65→  beyondWork: false
    66→  blog: true
    67→  onchainIdentity: false
    68→  skills: false
    69→  passionProjects: true
    70→
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Now let me explore the content structure, components, and types:

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** Find content files (YAML and MDX)

`find /Users/dfotesco/Portfolio/portfolio/content -type f \( -name "*.yaml" -o -name "*.md" \) | head -20`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/types/portfolio.ts`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/App.tsx`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/main.tsx`

Result:

```
1→// ═══════════════════════════════════════════════════════════════
     2→// PROFILE
     3→// ═══════════════════════════════════════════════════════════════
     4→export interface HeadlineSegment {
     5→  text: string;
     6→  style: 'italic' | 'muted' | 'accent' | 'normal';
     7→}
     8→
     9→export interface CtaButton {
    10→  label: string;
    11→  href: string;
    12→}
    13→
    14→export interface Stat {
    15→  value: string;
    16→  label: string;
    17→}
    18→
    19→export interface Profile {
    20→  name: string;
    21→  ens: string;
    22→  email: string;
    23→  location: string;
    24→  timezone: string;
    25→  photo: string;
    26→  hero: {
    27→    status: string;
    28→    headline: HeadlineSegment[];
    29→    subheadline: string;
    30→    cta: {
    31→      primary: CtaButton;
    32→      secondary: CtaButton;
    33→    };
    34→  };
    35→  about: {
    36→    tagline: string;
    37→    bio: string[];
    38→    stats: Stat[];
    39→  };
    40→  sections: {
    41→    beyondWork: boolean;
    42→    blog: boolean;
    43→    onchainIdentity: boolean;
    44→    skills: boolean;
    45→    passionProjects: boolean;
    46→  };
    47→}
    48→
    49→// ═══════════════════════════════════════════════════════════════
    50→// EXPERIENCE
    51→// ═══════════════════════════════════════════════════════════════
    52→export interface Job {
    53→  company: string;
    54→  role: string;
    55→  period: string;
    56→  location: string;
    57→  logo?: string | null;
    58→  highlights: string[];
    59→  tags: string[];
    60→  url?: string | null;
    61→}
    62→
    63→export interface Experience {
    64→  jobs: Job[];
    65→}
    66→
    67→// ═══════════════════════════════════════════════════════════════
    68→// TESTIMONIALS
    69→// ═══════════════════════════════════════════════════════════════
    70→export interface Testimonial {
    71→  quote: string;
    72→  author: string;
    73→  initials?: string;
    74→  role: string;
    75→  company: string;
    76→  avatar?: string | null;
    77→  featured: boolean;
    78→}
    79→
    80→export interface Testimonials {
    81→  testimonials: Testimonial[];
    82→}
    83→
    84→// ═══════════════════════════════════════════════════════════════
    85→// CERTIFICATIONS
    86→// ═══════════════════════════════════════════════════════════════
    87→export interface Certification {
    88→  name: string;
    89→  issuer: string;
    90→  date: string;
    91→  credentialId?: string | null;
    92→  url?: string | null;
    93→  logo?: string | null;
    94→  featured: boolean;
    95→  instructor?: string | null;
    96→  instructorRole?: string | null;
    97→}
    98→
    99→export interface Credential {
   100→  label: string;
   101→  value: string;
   102→  url?: string | null;
   103→}
   104→
   105→export interface OnchainLink {
   106→  name: string;
   107→  url: string;
   108→  icon: string;
   109→}
   110→
   111→export interface Certifications {
   112→  certifications: Certification[];
   113→  credentials: Credential[];
   114→  onchainIdentity: {
   115→    ens: string;
   116→    links: OnchainLink[];
   117→  };
   118→}
   119→
   120→// ═══════════════════════════════════════════════════════════════
   121→// SKILLS
   122→// ═══════════════════════════════════════════════════════════════
   123→export interface SkillCategory {
   124→  name: string;
   125→  skills: string[];
   126→}
   127→
   128→export interface Skills {
   129→  categories: SkillCategory[];
   130→}
   131→
   132→// ═══════════════════════════════════════════════════════════════
   133→// SOCIAL
   134→// ═══════════════════════════════════════════════════════════════
   135→export interface SocialLink {
   136→  platform: string;
   137→  label: string;
   138→  handle?: string;
   139→  url: string;
   140→  icon: string;
   141→  primary: boolean;
   142→}
   143→
   144→export interface ContactCtaButton {
   145→  label: string;
   146→  href: string;
   147→  style: 'primary' | 'secondary';
   148→}
   149→
   150→export interface ContactCta {
   151→  headline: string;
   152→  subtext: string;
   153→  buttons: ContactCtaButton[];
   154→}
   155→
   156→export interface Newsletter {
   157→  enabled: boolean;
   158→  launchDate?: string;
   159→  teaser?: string;
   160→}
   161→
   162→export interface Social {
   163→  links: SocialLink[];
   164→  contactCta: ContactCta;
   165→  newsletter?: Newsletter;
   166→}
   167→
   168→// ═══════════════════════════════════════════════════════════════
   169→// CASE STUDY (Simplified markdown-first schema)
   170→// ═══════════════════════════════════════════════════════════════
   171→export interface ImpactMetric {
   172→  value: string;
   173→  label: string;
   174→}
   175→
   176→export interface CaseStudyCta {
   177→  headline: string;
   178→  subtext?: string;
   179→  action: 'contact' | 'calendly' | 'linkedin';
   180→  linkText: string;
   181→}
   182→
   183→export interface CaseStudy {
   184→  // Identification
   185→  id: number;
   186→  slug: string;
   187→  title: string;
   188→  company: string;
   189→  year: string;
   190→  tags: string[];
   191→
   192→  // Context (simplified)
   193→  duration: string;
   194→  role: string;
   195→
   196→  // Hook - Grab attention in 3 seconds
   197→  hook: {
   198→    headline: string;
   199→    impactMetric: ImpactMetric;
   200→    subMetrics?: ImpactMetric[];
   201→    thumbnail: string | null;
   202→  };
   203→
   204→  // Links (optional)
   205→  demoUrl?: string | null;
   206→  githubUrl?: string | null;
   207→  docsUrl?: string | null;
   208→
   209→  // Media links (optional) - blog posts, tweets, videos, etc.
   210→  media?: Array<{
   211→    type: 'blog' | 'twitter' | 'linkedin' | 'video' | 'article' | 'slides';
   212→    url: string;
   213→    label?: string; // Optional custom label for tooltip
   214→  }>;
   215→
   216→  // CTA - Drive action
   217→  cta: CaseStudyCta;
   218→
   219→  // Markdown content (the narrative)
   220→  content: string;
   221→}
   222→
   223→// ═══════════════════════════════════════════════════════════════
   224→// PASSION PROJECTS
   225→// ═══════════════════════════════════════════════════════════════
   226→export interface PassionProject {
   227→  id: number;
   228→  slug: string;
   229→  title: string;
   230→  tagline: string;
   231→  year: string;
   232→  tags: string[];
   233→  thumbnail?: string | null;
   234→  githubUrl?: string | null;
   235→  liveUrl?: string | null;
   236→  docsUrl?: string | null;
   237→}
   238→
   239→export interface PassionProjects {
   240→  projects: PassionProject[];
   241→}
   242→
   243→// ═══════════════════════════════════════════════════════════════
   244→// AGGREGATED CONTENT (for content loader)
   245→// ═══════════════════════════════════════════════════════════════
   246→export interface PortfolioContent {
   247→  profile: Profile;
   248→  experience: Experience;
   249→  testimonials: Testimonials;
   250→  certifications: Certifications;
   251→  skills: Skills;
   252→  social: Social;
   253→  caseStudies: CaseStudy[];
   254→  passionProjects: PassionProject[];
   255→}
   256→
```

Result:

```
1→import { ThemeProvider } from './context/ThemeContext'
     2→import { HelmetProvider } from 'react-helmet-async';
     3→import Portfolio from './components/Portfolio'
     4→
     5→function App() {
     6→  return (
     7→    <HelmetProvider>
     8→      <ThemeProvider>
     9→        <Portfolio />
    10→      </ThemeProvider>
    11→    </HelmetProvider>
    12→  );
    13→}
    14→
    15→export default App
    16→
```

Result:

```
1→import { StrictMode } from 'react'
     2→import { createRoot } from 'react-dom/client'
     3→import './index.css'
     4→import App from './App.tsx'
     5→
     6→createRoot(document.getElementById('root')!).render(
     7→  <StrictMode>
     8→    <App />
     9→  </StrictMode>,
    10→)
    11→
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/content/experience/index.yaml
/Users/dfotesco/Portfolio/portfolio/content/testimonials/index.yaml
/Users/dfotesco/Portfolio/portfolio/content/_templates/passion-project-entry.yaml
/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md
/Users/dfotesco/Portfolio/portfolio/content/_templates/README.md
/Users/dfotesco/Portfolio/portfolio/content/_templates/case-study.md
/Users/dfotesco/Portfolio/portfolio/content/passion-projects/index.yaml
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-11-portfolio-retrospective.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-01-ai-agents-meet-onchain.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-11-15-etf-grade-staking.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-15-why-validation-matters.md
/Users/dfotesco/Portfolio/portfolio/content/case-studies/06-developer-analytics.md
/Users/dfotesco/Portfolio/portfolio/content/case-studies/02-protocol-integration.md
/Users/dfotesco/Portfolio/portfolio/content/case-studies/03-xbox-royalties.md
/Users/dfotesco/Portfolio/portfolio/content/case-studies/05-ai-agent-orchestration.md
/Users/dfotesco/Portfolio/portfolio/content/case-studies/01-eth-staking.md
/Users/dfotesco/Portfolio/portfolio/content/case-studies/04-ankr-rpc.md
/Users/dfotesco/Portfolio/portfolio/content/social/index.yaml
/Users/dfotesco/Portfolio/portfolio/content/certifications/index.yaml
/Users/dfotesco/Portfolio/portfolio/content/skills/index.yaml
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/components/Portfolio.tsx`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/context/ThemeContext.tsx`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** List types directory

`ls -la /Users/dfotesco/Portfolio/portfolio/src/types`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./content/case-studies/01-eth-staking.md`

Result:

```
1→import { useState, useEffect } from 'react';
     2→import Blog from './Blog';
     3→import ThemeToggle from './ThemeToggle';
     4→import HeroSection from './sections/HeroSection';
     5→import AboutSection from './sections/AboutSection';
     6→import ExperienceSection from './sections/ExperienceSection';
     7→import CertificationsSection from './sections/CertificationsSection';
     8→import TestimonialsSection from './sections/TestimonialsSection';
     9→import PassionProjectsSection from './sections/PassionProjectsSection';
    10→
    11→import CaseStudiesSection from './sections/CaseStudiesSection';
    12→import FooterSection from './sections/FooterSection';
    13→import CaseStudyDrawer from './case-study/CaseStudyDrawer';
    14→import AmbientBackground from './common/AmbientBackground';
    15→import Omnibar from './common/Omnibar';
    16→import { profile } from '../lib/content';
    17→import type { CaseStudy } from '../types/portfolio';
    18→
    19→export default function Portfolio() {
    20→  const [isLoaded, setIsLoaded] = useState(false);
    21→  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    22→  const [windowWidth, setWindowWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1200);
    23→  const [modalCase, setModalCase] = useState<CaseStudy | null>(null);
    24→  const [hoveredCase, setHoveredCase] = useState<number | null>(null);
    25→
    26→  useEffect(() => {
    27→    setIsLoaded(true);
    28→
    29→    const handleResize = () => setWindowWidth(window.innerWidth);
    30→    window.addEventListener('resize', handleResize);
    31→    return () => window.removeEventListener('resize', handleResize);
    32→  }, []);
    33→
    34→  // Handle modal scroll lock and ESC key
    35→  useEffect(() => {
    36→    if (modalCase) {
    37→      document.body.style.overflow = 'hidden';
    38→      const handleEsc = (e: KeyboardEvent) => {
    39→        if (e.key === 'Escape') setModalCase(null);
    40→      };
    41→      window.addEventListener('keydown', handleEsc);
    42→      return () => {
    43→        document.body.style.overflow = '';
    44→        window.removeEventListener('keydown', handleEsc);
    45→      };
    46→    } else {
    47→      document.body.style.overflow = '';
    48→    }
    49→  }, [modalCase]);
    50→
    51→  const isMobile = windowWidth < 768;
    52→  const isTablet = windowWidth >= 768 && windowWidth < 1024;
    53→
    54→  // Section visibility flags from YAML config
    55→  const { sections } = profile;
    56→
    57→  const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
    58→
    59→  return (
    60→    <>
    61→      <style>{`
    62→        .nav-link {
    63→          color: var(--color-text-tertiary);
    64→          text-decoration: none;
    65→          font-size: 13px;
    66→          font-weight: 500;
    67→          letter-spacing: 0.05em;
    68→          text-transform: uppercase;
    69→          transition: color 0.2s ease;
    70→          cursor: pointer;
    71→        }
    72→        .nav-link:hover {
    73→          color: var(--color-text-primary);
    74→        }
    75→        .nav-cta {
    76→          color: var(--color-background);
    77→          background: var(--color-accent);
    78→          padding: 12px 24px;
    79→          text-decoration: none;
    80→          font-size: 13px;
    81→          font-weight: 600;
    82→          letter-spacing: 0.02em;
    83→          transition: all 0.2s ease;
    84→        }
    85→        .nav-cta:hover {
    86→          background: var(--color-accent-hover);
    87→        }
    88→        .mobile-menu-link {
    89→          color: var(--color-text-primary);
    90→          text-decoration: none;
    91→          font-family: var(--font-serif);
    92→          font-size: 42px;
    93→          font-style: italic;
    94→          padding: 16px 0;
    95→          border-bottom: 1px solid var(--color-border);
    96→        }
    97→        .footer-omnibar-btn {
    98→          display: flex;
    99→          align-items: center;
   100→          gap: 10px;
   101→          padding: 16px 24px;
   102→          background: transparent;
   103→          border: none;
   104→          border-radius: 2px;
   105→          color: var(--color-text-primary);
   106→          font-size: 14px;
   107→          font-weight: 500;
   108→          letter-spacing: 0.02em;
   109→          cursor: pointer;
   110→          white-space: nowrap;
   111→          text-decoration: none;
   112→          transition: background 0.2s ease;
   113→        }
   114→        .footer-omnibar-btn:hover {
   115→          background: var(--color-tag-hover);
   116→        }
   117→        .footer-omnibar-btn-primary {
   118→          background: transparent;
   119→          border: 1px solid var(--color-accent);
   120→          color: var(--color-accent);
   121→          font-weight: 600;
   122→        }
   123→        .footer-omnibar-btn-primary:hover {
   124→          background: var(--color-accent);
   125→          color: var(--color-background);
   126→        }
   127→        .social-link {
   128→          color: var(--color-separator);
   129→          text-decoration: none;
   130→          font-size: 12px;
   131→          font-weight: 500;
   132→          letter-spacing: 0.08em;
   133→          text-transform: uppercase;
   134→          transition: color 0.2s ease;
   135→        }
   136→        .social-link:hover {
   137→          color: var(--color-text-tertiary);
   138→        }
   139→      `}</style>
   140→
   141→      <div style={{
   142→        minHeight: '100vh',
   143→        background: 'var(--color-background)',
   144→        color: 'var(--color-text-primary)',
   145→        transition: 'background var(--transition-medium), color var(--transition-medium)',
   146→        position: 'relative'
   147→      }}>
   148→        <a className="skip-link" href="#main-content">
   149→          Skip to content
   150→        </a>
   151→
   152→        <AmbientBackground />
   153→
   154→        {/* Navigation - hidden when drawer is open on mobile */}
   155→        <nav
   156→          aria-label="Primary"
   157→          style={{
   158→            position: 'fixed',
   159→            top: 0,
   160→            left: 0,
   161→            right: 0,
   162→            zIndex: 100,
   163→            background: 'var(--color-nav-bg)',
   164→            backdropFilter: 'blur(12px)',
   165→            WebkitBackdropFilter: 'blur(12px)',
   166→            borderBottom: '1px solid var(--color-border-light)',
   167→            opacity: isLoaded ? 1 : 0,
   168→            transform: isLoaded ? 'translateY(0)' : 'translateY(-20px)',
   169→            transition: 'all 0.8s cubic-bezier(0.16, 1, 0.3, 1)',
   170→            display: (isMobile && modalCase) ? 'none' : 'block'
   171→          }}
   172→        >
   173→          <div style={{
   174→            maxWidth: 'var(--layout-max-width)',
   175→            margin: '0 auto',
   176→            padding: isMobile
   177→              ? 'var(--nav-height-mobile) var(--space-lg)'
   178→              : 'var(--nav-height) var(--space-3xl)',
   179→            display: 'flex',
   180→            justifyContent: 'space-between',
   181→            alignItems: 'center'
   182→          }}>
   183→            {/* Logo */}
   184→            <div style={{
   185→              fontFamily: 'var(--font-serif)',
   186→              fontSize: '24px',
   187→              fontStyle: 'italic',
   188→              fontWeight: 700,
   189→              zIndex: 101,
   190→              position: 'relative'
   191→            }}>
   192→              <a 
   193→                href="#"
   194→                onClick={(e) => {
   195→                  e.preventDefault();
   196→                  // Close any open drawer
   197→                  setModalCase(null);
   198→                  // Close mobile menu if open
   199→                  setMobileMenuOpen(false);
   200→                  // Scroll to top
   201→                  window.scrollTo({ top: 0, behavior: 'smooth' });
   202→                  // Clear URL hash if any
   203→                  if (window.location.hash) {
   204→                    window.history.pushState(null, '', window.location.pathname);
   205→                  }
   206→                }}
   207→                style={{
   208→                  textDecoration: 'none',
   209→                  color: 'var(--color-text-primary)',
   210→                  transition: 'color 0.4s ease',
   211→                  cursor: 'pointer'
   212→                }}
   213→              >
   214→                {profile.name}
   215→              </a>
   216→            </div>
   217→
   218→            {/* Desktop Navigation */}
   219→            {!isMobile && (
   220→              <div style={{ display: 'flex', gap: 'var(--space-xl)', alignItems: 'center' }}>
   221→                {['Work', 'About', 'Blog'].map((item) => (
   222→                  <a
   223→                    key={item}
   224→                    href={`#${item.toLowerCase()}`}
   225→                    className="nav-link"
   226→                  >
   227→                    {item}
   228→                  </a>
   229→                ))}
   230→                <ThemeToggle />
   231→                <a href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o=" target="_blank" rel="noopener noreferrer" className="nav-cta">
   232→                  Get in Touch
   233→                </a>
   234→              </div>
   235→            )}
   236→
   237→            {/* Mobile Menu Button */}
   238→            {isMobile && (
   239→              <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-sm)' }}>
   240→                <ThemeToggle isMobile />
   241→                <button
   242→                  type="button"
   243→                  onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
   244→                  aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}
   245→                  aria-expanded={mobileMenuOpen}
   246→                  aria-controls="mobile-menu"
   247→                  style={{
   248→                    background: 'transparent',
   249→                    border: 'none',
   250→                    padding: 'var(--space-sm)',
   251→                    cursor: 'pointer',
   252→                    zIndex: 101,
   253→                    position: 'relative',
   254→                    color: 'var(--color-text-primary)'
   255→                  }}
   256→                >
   257→                  <span style={{
   258→                    fontSize: '14px',
   259→                    textTransform: 'uppercase',
   260→                    letterSpacing: '0.1em',
   261→                    fontWeight: 600
   262→                  }}>
   263→                    {mobileMenuOpen ? 'Close' : 'Menu'}
   264→                  </span>
   265→                </button>
   266→              </div>
   267→            )}
   268→          </div>
   269→        </nav>
   270→
   271→        {/* Mobile Menu Overlay */}
   272→        {isMobile && (
   273→          <div
   274→            id="mobile-menu"
   275→            role="dialog"
   276→            aria-modal="true"
   277→            aria-label="Navigation menu"
   278→            style={{
   279→              position: 'fixed',
   280→              top: 0,
   281→              left: 0,
   282→              right: 0,
   283→              bottom: 0,
   284→              background: 'var(--color-background)',
   285→              zIndex: 99,
   286→              display: 'flex',
   287→              flexDirection: 'column',
   288→              justifyContent: 'center',
   289→              padding: '0 var(--space-lg)',
   290→              opacity: mobileMenuOpen ? 1 : 0,
   291→              pointerEvents: mobileMenuOpen ? 'auto' : 'none',
   292→              transition: 'opacity 0.3s ease, background 0.4s ease'
   293→            }}>
   294→            {['Work', 'About', 'Blog', 'Contact'].map((item, i) => (
   295→              <a
   296→                key={item}
   297→                href={item === 'Contact' ? `mailto:${profile.email}` : `#${item.toLowerCase()}`}
   298→                onClick={() => setMobileMenuOpen(false)}
   299→                className="mobile-menu-link"
   300→                style={{
   301→                  transform: mobileMenuOpen ? 'translateX(0)' : 'translateX(-20px)',
   302→                  opacity: mobileMenuOpen ? 1 : 0,
   303→                  transition: `all 0.4s ease ${i * 0.08}s`
   304→                }}
   305→              >
   306→                {item}
   307→              </a>
   308→            ))}
   309→          </div>
   310→        )}
   311→
   312→        <main id="main-content" style={{ position: 'relative', zIndex: 1 }}>
   313→          {/* Hero Section */}
   314→          <HeroSection
   315→            isMobile={isMobile}
   316→            isTablet={isTablet}
   317→            isLoaded={isLoaded}
   318→          />
   319→
   320→          {/* About Section */}
   321→          <AboutSection
   322→            isMobile={isMobile}
   323→            isTablet={isTablet}
   324→            sectionPadding={sectionPadding}
   325→          />
   326→
   327→          {/* Experience Section */}
   328→          <ExperienceSection
   329→            isMobile={isMobile}
   330→            isTablet={isTablet}
   331→            sectionPadding={sectionPadding}
   332→          />
   333→
   334→          {/* Certifications Section */}
   335→          <CertificationsSection
   336→            isMobile={isMobile}
   337→            isTablet={isTablet}
   338→            sectionPadding={sectionPadding}
   339→          />
   340→
   341→          {/* Skills Section - conditionally rendered */}
   342→          {sections.skills && (
   343→            <section style={{
   344→              padding: sectionPadding,
   345→              maxWidth: 'var(--layout-max-width)',
   346→              margin: '0 auto',
   347→              position: 'relative',
   348→              zIndex: 1
   349→            }}>
   350→              {/* Skills content would go here */}
   351→            </section>
   352→          )}
   353→
   354→          {/* Case Studies Section */}
   355→          <CaseStudiesSection
   356→            isMobile={isMobile}
   357→            isTablet={isTablet}
   358→            sectionPadding={sectionPadding}
   359→            hoveredCase={hoveredCase}
   360→            setHoveredCase={setHoveredCase}
   361→            onCaseClick={(study) => setModalCase(study)}
   362→          />
   363→
   364→          {/* Passion Projects Section */}
   365→          {sections.passionProjects && (
   366→            <PassionProjectsSection
   367→              isMobile={isMobile}
   368→              sectionPadding={sectionPadding}
   369→            />
   370→          )}
   371→
   372→          {/* Testimonials Section */}
   373→          <TestimonialsSection
   374→            isMobile={isMobile}
   375→            isTablet={isTablet}
   376→            sectionPadding={sectionPadding}
   377→          />
   378→
   379→          {/* Blog Section */}
   380→          {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   381→
   382→          {/* Final CTA */}
   383→          <section style={{
   384→            padding: isMobile ? '48px 24px 64px' : '64px 64px 80px',
   385→            maxWidth: '1000px',
   386→            margin: '0 auto',
   387→            textAlign: 'center',
   388→            position: 'relative',
   389→            zIndex: 1
   390→          }}>
   391→            <h2 style={{
   392→              fontSize: isMobile ? '10vw' : '7vw',
   393→              fontFamily: 'var(--font-serif)',
   394→              fontWeight: 400,
   395→              fontStyle: 'italic',
   396→              color: 'var(--color-text-primary)',
   397→              letterSpacing: '-0.03em',
   398→              lineHeight: 1,
   399→              marginBottom: 'var(--space-xl)'
   400→            }}>
   401→              Let's build
   402→            </h2>
   403→
   404→            <p style={{
   405→              fontSize: '16px',
   406→              color: 'var(--color-text-tertiary)',
   407→              maxWidth: '440px',
   408→              margin: '0 auto var(--space-xl)',
   409→              lineHeight: 1.6
   410→            }}>
   411→              Open to PM roles in AI, infrastructure, and Web3.
   412→              Particularly interested in where agents meet on-chain execution.
   413→              Based in {profile.location} ({profile.timezone}), flexible on remote.
   414→            </p>
   415→
   416→            {/* Omnibar-style CTA */}
   417→            <div style={{
   418→              display: 'inline-flex',
   419→              alignItems: 'center',
   420→              gap: 'var(--space-sm)',
   421→              padding: 'var(--space-sm)',
   422→              background: 'var(--color-surface-glass)',
   423→              backdropFilter: 'blur(12px)',
   424→              WebkitBackdropFilter: 'blur(12px)',
   425→              borderRadius: '6px',
   426→              border: '1px solid var(--color-border-light)',
   427→              boxShadow: '0 12px 40px rgba(0, 0, 0, 0.15)',
   428→              flexWrap: isMobile ? 'wrap' : 'nowrap',
   429→              justifyContent: 'center'
   430→            }}>
   431→              {/* Copy Email */}
   432→              <button
   433→                onClick={() => {
   434→                  navigator.clipboard.writeText(profile.email);
   435→                }}
   436→                className="footer-omnibar-btn"
   437→              >
   438→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   439→                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
   440→                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
   441→                </svg>
   442→                <span>Copy Email</span>
   443→              </button>
   444→
   445→              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   446→
   447→              {/* Resume */}
   448→              <a
   449→                href="/dmitrii-fotesco-resume.pdf"
   450→                target="_blank"
   451→                rel="noopener noreferrer"
   452→                className="footer-omnibar-btn"
   453→              >
   454→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   455→                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
   456→                  <polyline points="7 10 12 15 17 10" />
   457→                  <line x1="12" y1="15" x2="12" y2="3" />
   458→                </svg>
   459→                <span>Resume</span>
   460→              </a>
   461→
   462→              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   463→
   464→              {/* Book Time */}
   465→              <a
   466→                href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o="
   467→                target="_blank"
   468→                rel="noopener noreferrer"
   469→                className="footer-omnibar-btn footer-omnibar-btn-primary"
   470→              >
   471→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   472→                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
   473→                  <line x1="16" y1="2" x2="16" y2="6" />
   474→                  <line x1="8" y1="2" x2="8" y2="6" />
   475→                  <line x1="3" y1="10" x2="21" y2="10" />
   476→                </svg>
   477→                <span>Book Time</span>
   478→              </a>
   479→            </div>
   480→
   481→            {/* Social Icons Bar */}
   482→            <div style={{
   483→              display: 'flex',
   484→              justifyContent: 'center',
   485→              gap: 'var(--space-lg)',
   486→              marginTop: 'var(--space-xl)'
   487→            }}>
   488→              {/* LinkedIn */}
   489→              <a
   490→                href="https://www.linkedin.com/in/0xdmitri/"
   491→                target="_blank"
   492→                rel="noopener noreferrer"
   493→                title="LinkedIn"
   494→                style={{
   495→                  color: 'var(--color-text-tertiary)',
   496→                  transition: 'color 0.2s ease'
   497→                }}
   498→              >
   499→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   500→                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
   501→                </svg>
   502→              </a>
   503→
   504→              {/* GitHub */}
   505→              <a
   506→                href="https://github.com/fotescodev"
   507→                target="_blank"
   508→                rel="noopener noreferrer"
   509→                title="GitHub"
   510→                style={{
   511→                  color: 'var(--color-text-tertiary)',
   512→                  transition: 'color 0.2s ease'
   513→                }}
   514→              >
   515→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   516→                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
   517→                </svg>
   518→              </a>
   519→
   520→              {/* X / Twitter */}
   521→              <a
   522→                href="https://x.com/kolob0kk"
   523→                target="_blank"
   524→                rel="noopener noreferrer"
   525→                title="X / Twitter"
   526→                style={{
   527→                  color: 'var(--color-text-tertiary)',
   528→                  transition: 'color 0.2s ease'
   529→                }}
   530→              >
   531→                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
   532→                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
   533→                </svg>
   534→              </a>
   535→
   536→              {/* Telegram */}
   537→              <a
   538→                href="https://t.me/zimbru0x"
   539→                target="_blank"
   540→                rel="noopener noreferrer"
   541→                title="Telegram"
   542→                style={{
   543→                  color: 'var(--color-text-tertiary)',
   544→                  transition: 'color 0.2s ease'
   545→                }}
   546→              >
   547→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   548→                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
   549→                </svg>
   550→              </a>
   551→            </div>
   552→          </section>
   553→
   554→          {/* Omnibar */}
   555→          <Omnibar />
   556→
   557→          {/* Case Study Modal */}
   558→          {modalCase && (
   559→            <CaseStudyDrawer
   560→              isOpen={!!modalCase}
   561→              onClose={() => setModalCase(null)}
   562→              caseStudy={modalCase}
   563→              isMobile={isMobile}
   564→              onNavigate={(study) => setModalCase(study)}
   565→            />
   566→          )}
   567→
   568→        </main>
   569→
   570→        {/* Footer */}
   571→        <FooterSection isMobile={isMobile} />
   572→      </div>
   573→    </>
   574→  );
   575→}
   576→
```

Result:

```
1→import { createContext, useContext, useState, useEffect, type ReactNode } from 'react';
     2→
     3→type Theme = 'dark' | 'light';
     4→
     5→interface ThemeColors {
     6→  // Backgrounds
     7→  background: string;
     8→  backgroundSecondary: string;
     9→  backgroundTertiary: string;
    10→
    11→  // Text
    12→  textPrimary: string;
    13→  textSecondary: string;
    14→  textTertiary: string;
    15→  textMuted: string;
    16→
    17→  // Accent
    18→  accent: string;
    19→  accentHover: string;
    20→
    21→  // UI Elements
    22→  border: string;
    23→  borderLight: string;
    24→
    25→  // Special
    26→  success: string;
    27→  codeBackground: string;
    28→
    29→  // Gradients & overlays
    30→  navGradient: string;
    31→  gridOverlay: string;
    32→  orbAccent: string;
    33→  orbSecondary: string;
    34→
    35→  // Scrollbar
    36→  scrollbarThumb: string;
    37→  scrollbarThumbHover: string;
    38→  tagHover: string;
    39→}
    40→
    41→const darkColors: ThemeColors = {
    42→  background: '#08080a',
    43→  backgroundSecondary: '#141416',
    44→  backgroundTertiary: '#1a1a1c',
    45→
    46→  textPrimary: '#e8e6e3',
    47→  textSecondary: '#a8a5a0',
    48→  textTertiary: '#6b6966',
    49→  textMuted: '#4a4a4c',
    50→
    51→  accent: '#c29a6c',
    52→  accentHover: '#d4ac7e',
    53→
    54→  border: 'rgba(232, 230, 227, 0.1)',
    55→  borderLight: 'rgba(232, 230, 227, 0.08)',
    56→
    57→  success: '#4ade80',
    58→  codeBackground: '#141416',
    59→
    60→  navGradient: 'rgba(8,8,10,0.85)',
    61→  gridOverlay: 'rgba(255,255,255,0.05)',
    62→  orbAccent: 'rgba(194, 154, 108, 0.25)',
    63→  orbSecondary: 'rgba(74, 222, 128, 0.12)',
    64→
    65→  scrollbarThumb: 'rgba(232, 230, 227, 0.15)',
    66→  scrollbarThumbHover: 'rgba(232, 230, 227, 0.25)',
    67→  tagHover: 'rgba(194, 154, 108, 0.05)',
    68→};
    69→
    70→const lightColors: ThemeColors = {
    71→  background: '#fafafa',
    72→  backgroundSecondary: '#ffffff',
    73→  backgroundTertiary: '#f5f5f5',
    74→
    75→  textPrimary: '#050505', // Pure black for primary
    76→  textSecondary: '#2a2a2c', // Darker gray
    77→  textTertiary: '#4a4a4c', // Previous secondary
    78→  textMuted: '#666666', // Darker muted
    79→
    80→  accent: '#8a6642', // Darker gold for better contrast on white
    81→  accentHover: '#6d5038',
    82→
    83→  border: 'rgba(26, 26, 28, 0.12)',
    84→  borderLight: 'rgba(26, 26, 28, 0.08)',
    85→
    86→  success: '#22c55e',
    87→  codeBackground: '#f8f8f8',
    88→
    89→  navGradient: 'rgba(250,250,250,0.85)',
    90→  gridOverlay: 'rgba(0,0,0,0.03)',
    91→  orbAccent: 'rgba(166, 124, 82, 0.15)',
    92→  orbSecondary: 'rgba(34, 197, 94, 0.1)',
    93→
    94→  scrollbarThumb: 'rgba(26, 26, 28, 0.15)',
    95→  scrollbarThumbHover: 'rgba(26, 26, 28, 0.25)',
    96→  tagHover: 'rgba(166, 124, 82, 0.05)',
    97→};
    98→
    99→interface ThemeContextType {
   100→  theme: Theme;
   101→  colors: ThemeColors;
   102→  toggleTheme: () => void;
   103→  isDark: boolean;
   104→}
   105→
   106→const ThemeContext = createContext<ThemeContextType | undefined>(undefined);
   107→
   108→const STORAGE_KEY = 'portfolio-theme';
   109→
   110→export function ThemeProvider({ children }: { children: ReactNode }) {
   111→  const [theme, setTheme] = useState<Theme>(() => {
   112→    // Check localStorage first
   113→    if (typeof window !== 'undefined') {
   114→      const stored = localStorage.getItem(STORAGE_KEY);
   115→      if (stored === 'light' || stored === 'dark') {
   116→        return stored;
   117→      }
   118→      // Check system preference
   119→      if (window.matchMedia('(prefers-color-scheme: light)').matches) {
   120→        return 'light';
   121→      }
   122→    }
   123→    return 'dark';
   124→  });
   125→
   126→  useEffect(() => {
   127→    localStorage.setItem(STORAGE_KEY, theme);
   128→
   129→    // Set data-theme attribute for CSS custom properties
   130→    document.documentElement.setAttribute('data-theme', theme);
   131→
   132→    // Update meta theme-color
   133→    const metaThemeColor = document.querySelector('meta[name="theme-color"]');
   134→    if (metaThemeColor) {
   135→      metaThemeColor.setAttribute('content', theme === 'dark' ? '#08080a' : '#fafafa');
   136→    }
   137→
   138→    // Update body background for smooth transitions
   139→    document.body.style.background = theme === 'dark' ? '#08080a' : '#fafafa';
   140→  }, [theme]);
   141→
   142→  const toggleTheme = () => {
   143→    setTheme((prev: Theme) => prev === 'dark' ? 'light' : 'dark');
   144→  };
   145→
   146→  const colors = theme === 'dark' ? darkColors : lightColors;
   147→
   148→  return (
   149→    <ThemeContext.Provider value={{ theme, colors, toggleTheme, isDark: theme === 'dark' }}>
   150→      {children}
   151→    </ThemeContext.Provider>
   152→  );
   153→}
   154→
   155→export function useTheme() {
   156→  const context = useContext(ThemeContext);
   157→  if (context === undefined) {
   158→    throw new Error('useTheme must be used within a ThemeProvider');
   159→  }
   160→  return context;
   161→}
   162→
   163→export type { ThemeColors, Theme };
   164→
```

Result:

```
1→---
     2→id: 1
     3→slug: institutional-eth-staking
     4→title: Institutional ETH Staking
     5→company: Anchorage Digital
     6→year: 2024–25
     7→tags: [Staking, Custody, ETF-Grade, Ethereum, Institutional]
     8→duration: 6 months
     9→role: Senior Product Manager
    10→
    11→hook:
    12→  headline: Built ETF-grade staking infrastructure for institutional clients managing billions in AUM
    13→  impactMetric:
    14→    value: "Zero"
    15→    label: slashing events
    16→  subMetrics:
    17→    - value: "Galaxy+"
    18→      label: institutional clients
    19→    - value: "<0.1%"
    20→      label: yield gap vs market
    21→  thumbnail: /images/case-study-eth-staking.png
    22→
    23→cta:
    24→  headline: Building institutional-grade crypto infrastructure?
    25→  subtext: I'd love to discuss how compliance-first product thinking applies to your challenges.
    26→  action: calendly
    27→  linkText: Let's talk →
    28→---
    29→
    30→Losing a single institutional client to a slashing event or compliance failure would damage reputation across the entire institutional market—a market where trust spreads by word of mouth.
    31→
    32→## The Challenge
    33→
    34→ETF providers and asset managers wanted ETH staking yield, but couldn't use existing solutions. Consumer staking products lacked the custody controls, audit trails, and regulatory defensibility that institutional clients require.
    35→
    36→**The constraints were steep:**
    37→- Full custody key ownership required (no third-party key management)
    38→- Must pass SOC 2 and regulatory audits
    39→- Zero tolerance for slashing events (millions at stake per incident)
    40→- Competitive yield expectations within 0.1% of market
    41→
    42→## The Approach
    43→
    44→My hypothesis: we could build in-house validator infrastructure that satisfies institutional custody requirements while maintaining competitive yields—if we optimized for "boring and defensible" over "innovative and risky."
    45→
    46→### Alternatives Considered
    47→
    48→| Option | Trade-offs | Why Not |
    49→|--------|------------|---------|
    50→| Third-party provider (Figment, Blockdaemon) | Faster launch, battle-tested infra | Custody key control was non-negotiable for ETF-grade compliance |
    51→| Single validator client | Simpler operations, unified tooling | Network centralization risk + institutional mandate for resilience |
    52→| Maximum yield optimization | Higher APY, competitive differentiation | Introduced unpredictability that institutional clients explicitly didn't want |
    53→
    54→**Chosen path:** In-house multi-client infrastructure with Web3Signer for air-gapped signing, prioritizing auditability and slashing prevention over yield maximization.
    55→
    56→## Key Decision
    57→
    58→**In-house validators vs. staking-as-a-service**
    59→
    60→Staking providers offered 3-week launch vs our 6-month build. Leadership pressure to ship faster.
    61→
    62→We chose in-house despite timeline. Presented compliance risk matrix showing third-party key management as audit blocker for ETF clients.
    63→
    64→> Decision validated when Galaxy specifically cited 'full key ownership' as reason they chose us over competitors using third-party providers.
    65→
    66→## Execution
    67→
    68→### Phase 1: Discovery & Requirements (6 weeks)
    69→- Conducted 12+ calls with Galaxy and prospective institutional clients to understand non-negotiables
    70→- Mapped compliance requirements with legal and created 'custody compatibility matrix'
    71→- Evaluated 3 staking-as-a-service providers against institutional requirements
    72→
    73→### Phase 2: Architecture & Design (4 weeks)
    74→- Designed multi-client validator architecture (Lighthouse 40%, Prysm 30%, Teku 20%, Nimbus 10%)
    75→- Specified Web3Signer integration for air-gapped signing with slashing protection
    76→- Created redundant slashing DB architecture with multiple sources of truth
    77→
    78→### Phase 3: Build & Integration (8 weeks)
    79→- Coordinated engineering sprints across validator infra and custody integration teams
    80→- Built sub-second alert systems for potential slashing scenarios
    81→- Implemented 'graceful degradation' logic—miss attestations rather than risk slashing
    82→
    83→### Phase 4: Client Onboarding (6 weeks)
    84→- Onboarded Galaxy as design partner, incorporating feedback into MVP
    85→- Created operational runbooks for every failure scenario
    86→- Documented every architecture decision for audit trail
    87→
    88→## Results
    89→
    90→- **Zero slashing events** — Across all validators since launch—the only metric that matters for institutional trust
    91→- **Galaxy + institutional clients onboarded** — Including ETF-adjacent asset managers with billions in AUM
    92→- **Yield within 0.1% of market leaders** — Proved we didn't sacrifice performance for compliance
    93→
    94→Established Anchorage as credible institutional staking provider. Created reusable compliance framework now used for other staking products.
    95→
    96→## What I Learned
    97→
    98→**What worked:**
    99→- Involving compliance from day 1, not as a checkbox at the end
   100→- Using Galaxy as design partner—their feedback caught edge cases we missed
   101→- Building extensive documentation as we went (invaluable for audits)
   102→- Choosing 'boring and defensible' over clever optimizations
   103→
   104→**What didn't:**
   105→- Initially underestimated validator client diversity overhead—each client has different APIs, DBs, upgrade cycles
   106→- First slashing prevention design was over-engineered. Built for scenarios that were theoretically possible but practically irrelevant
   107→- Took too long to align legal and compliance on key custody definitions
   108→
   109→> In regulated crypto infrastructure, the competitive moat isn't technical innovation—it's trust, auditability, and the paper trail that proves you did things right.
   110→
   111→If I did it again, I'd run a 'compliance design review' as a formal gate before any architecture decisions. We did this informally, but making it explicit would have saved 2-3 weeks of rework.
   112→
```

Result:

```
total 32
drwxr-xr-x@  5 dfotesco  staff   160 Dec 18 05:09 .
drwxr-xr-x@ 11 dfotesco  staff   352 Dec 18 05:09 ..
-rw-r--r--@  1 dfotesco  staff   343 Dec 10 12:54 blog.ts
-rw-r--r--@  1 dfotesco  staff  7774 Dec 15 19:14 portfolio.ts
-rw-r--r--@  1 dfotesco  staff   230 Dec 11 18:24 yaml.d.ts
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Now let me explore the blog and context documentation:

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/lib/likes.ts`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/types/blog.ts`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/components/Blog.tsx`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./context/CODEBASE.md`

Result:

```
1→/**
     2→ * Blog Post Likes System
     3→ *
     4→ * Manages like functionality with client-side persistence and tracking.
     5→ * Stores like data in localStorage with user tracking information.
     6→ */
     7→
     8→export interface LikeData {
     9→    postSlug: string;
    10→    count: number;
    11→    timestamp: number;
    12→    userFingerprint: string;
    13→}
    14→
    15→export interface UserLike {
    16→    postSlug: string;
    17→    timestamp: number;
    18→    userAgent: string;
    19→    fingerprintHash: string;
    20→}
    21→
    22→const LIKES_STORAGE_KEY = 'blog-post-likes';
    23→const USER_LIKES_KEY = 'user-likes';
    24→const USER_FINGERPRINT_KEY = 'user-fingerprint';
    25→
    26→/**
    27→ * Generate a simple fingerprint for the user
    28→ * Uses browser characteristics to create a semi-stable identifier
    29→ */
    30→function generateUserFingerprint(): string {
    31→    const canvas = document.createElement('canvas');
    32→    const ctx = canvas.getContext('2d');
    33→    if (ctx) {
    34→        ctx.textBaseline = 'top';
    35→        ctx.font = '14px Arial';
    36→        ctx.fillText('fingerprint', 2, 2);
    37→    }
    38→
    39→    const components = [
    40→        navigator.userAgent,
    41→        navigator.language,
    42→        screen.colorDepth,
    43→        screen.width + 'x' + screen.height,
    44→        new Date().getTimezoneOffset(),
    45→        canvas.toDataURL()
    46→    ];
    47→
    48→    // Simple hash function
    49→    const str = components.join('|');
    50→    let hash = 0;
    51→    for (let i = 0; i < str.length; i++) {
    52→        const char = str.charCodeAt(i);
    53→        hash = ((hash << 5) - hash) + char;
    54→        hash = hash & hash;
    55→    }
    56→
    57→    return Math.abs(hash).toString(36);
    58→}
    59→
    60→/**
    61→ * Get or create user fingerprint
    62→ */
    63→function getUserFingerprint(): string {
    64→    try {
    65→        let fingerprint = localStorage.getItem(USER_FINGERPRINT_KEY);
    66→        if (!fingerprint) {
    67→            fingerprint = generateUserFingerprint();
    68→            localStorage.setItem(USER_FINGERPRINT_KEY, fingerprint);
    69→        }
    70→        return fingerprint;
    71→    } catch {
    72→        // Fallback if localStorage is not available
    73→        return generateUserFingerprint();
    74→    }
    75→}
    76→
    77→/**
    78→ * Get all likes from storage
    79→ */
    80→function getAllLikes(): Record<string, LikeData> {
    81→    try {
    82→        const data = localStorage.getItem(LIKES_STORAGE_KEY);
    83→        return data ? JSON.parse(data) : {};
    84→    } catch {
    85→        return {};
    86→    }
    87→}
    88→
    89→/**
    90→ * Save likes to storage
    91→ */
    92→function saveLikes(likes: Record<string, LikeData>): void {
    93→    try {
    94→        localStorage.setItem(LIKES_STORAGE_KEY, JSON.stringify(likes));
    95→    } catch (error) {
    96→        console.error('Failed to save likes:', error);
    97→    }
    98→}
    99→
   100→/**
   101→ * Get user's likes from storage
   102→ */
   103→function getUserLikes(): UserLike[] {
   104→    try {
   105→        const data = localStorage.getItem(USER_LIKES_KEY);
   106→        return data ? JSON.parse(data) : [];
   107→    } catch {
   108→        return [];
   109→    }
   110→}
   111→
   112→/**
   113→ * Save user's likes to storage
   114→ */
   115→function saveUserLikes(userLikes: UserLike[]): void {
   116→    try {
   117→        localStorage.setItem(USER_LIKES_KEY, JSON.stringify(userLikes));
   118→    } catch (error) {
   119→        console.error('Failed to save user likes:', error);
   120→    }
   121→}
   122→
   123→/**
   124→ * Check if user has liked a post
   125→ */
   126→export function hasUserLikedPost(postSlug: string): boolean {
   127→    const userLikes = getUserLikes();
   128→    return userLikes.some(like => like.postSlug === postSlug);
   129→}
   130→
   131→/**
   132→ * Get like count for a post
   133→ */
   134→export function getLikeCount(postSlug: string): number {
   135→    const likes = getAllLikes();
   136→    return likes[postSlug]?.count || 0;
   137→}
   138→
   139→/**
   140→ * Like a post (increment count)
   141→ */
   142→export function likePost(postSlug: string): { count: number; success: boolean } {
   143→    try {
   144→        // Check if already liked
   145→        if (hasUserLikedPost(postSlug)) {
   146→            return { count: getLikeCount(postSlug), success: false };
   147→        }
   148→
   149→        const likes = getAllLikes();
   150→        const fingerprint = getUserFingerprint();
   151→        const timestamp = Date.now();
   152→
   153→        // Update like count
   154→        if (!likes[postSlug]) {
   155→            likes[postSlug] = {
   156→                postSlug,
   157→                count: 0,
   158→                timestamp,
   159→                userFingerprint: fingerprint
   160→            };
   161→        }
   162→        likes[postSlug].count += 1;
   163→        saveLikes(likes);
   164→
   165→        // Track user's like
   166→        const userLikes = getUserLikes();
   167→        userLikes.push({
   168→            postSlug,
   169→            timestamp,
   170→            userAgent: navigator.userAgent,
   171→            fingerprintHash: fingerprint
   172→        });
   173→        saveUserLikes(userLikes);
   174→
   175→        return { count: likes[postSlug].count, success: true };
   176→    } catch (error) {
   177→        console.error('Failed to like post:', error);
   178→        return { count: getLikeCount(postSlug), success: false };
   179→    }
   180→}
   181→
   182→/**
   183→ * Unlike a post (decrement count)
   184→ */
   185→export function unlikePost(postSlug: string): { count: number; success: boolean } {
   186→    try {
   187→        // Check if user has liked this post
   188→        if (!hasUserLikedPost(postSlug)) {
   189→            return { count: getLikeCount(postSlug), success: false };
   190→        }
   191→
   192→        const likes = getAllLikes();
   193→
   194→        // Decrement count
   195→        if (likes[postSlug] && likes[postSlug].count > 0) {
   196→            likes[postSlug].count -= 1;
   197→            saveLikes(likes);
   198→        }
   199→
   200→        // Remove from user's likes
   201→        const userLikes = getUserLikes();
   202→        const updatedUserLikes = userLikes.filter(like => like.postSlug !== postSlug);
   203→        saveUserLikes(updatedUserLikes);
   204→
   205→        return { count: likes[postSlug]?.count || 0, success: true };
   206→    } catch (error) {
   207→        console.error('Failed to unlike post:', error);
   208→        return { count: getLikeCount(postSlug), success: false };
   209→    }
   210→}
   211→
   212→/**
   213→ * Get all posts with likes (for analytics)
   214→ */
   215→export function getAllPostLikes(): LikeData[] {
   216→    const likes = getAllLikes();
   217→    return Object.values(likes).sort((a, b) => b.count - a.count);
   218→}
   219→
   220→/**
   221→ * Get all user likes (for analytics)
   222→ */
   223→export function getAllUserLikes(): UserLike[] {
   224→    return getUserLikes().sort((a, b) => b.timestamp - a.timestamp);
   225→}
   226→
   227→/**
   228→ * Export likes data as JSON (for backup/analysis)
   229→ */
   230→export function exportLikesData(): string {
   231→    return JSON.stringify({
   232→        postLikes: getAllPostLikes(),
   233→        userLikes: getAllUserLikes(),
   234→        exportDate: new Date().toISOString()
   235→    }, null, 2);
   236→}
   237→
   238→/**
   239→ * Get like analytics for a specific post
   240→ */
   241→export function getPostLikeAnalytics(postSlug: string): {
   242→    count: number;
   243→    userLikes: UserLike[];
   244→    firstLikeDate: Date | null;
   245→    lastLikeDate: Date | null;
   246→} {
   247→    const count = getLikeCount(postSlug);
   248→    const userLikes = getAllUserLikes().filter(like => like.postSlug === postSlug);
   249→
   250→    let firstLikeDate = null;
   251→    let lastLikeDate = null;
   252→
   253→    if (userLikes.length > 0) {
   254→        const timestamps = userLikes.map(like => like.timestamp);
   255→        firstLikeDate = new Date(Math.min(...timestamps));
   256→        lastLikeDate = new Date(Math.max(...timestamps));
   257→    }
   258→
   259→    return {
   260→        count,
   261→        userLikes,
   262→        firstLikeDate,
   263→        lastLikeDate
   264→    };
   265→}
   266→
```

Result:

```
1→export interface BlogPost {
     2→    slug: string;
     3→    title: string;
     4→    date: string;
     5→    excerpt: string;
     6→    tags: string[];
     7→    readingTime: number;
     8→    thumbnail?: string | null;
     9→    content: string;
    10→}
    11→
    12→export interface BlogFrontmatter {
    13→    title: string;
    14→    date: string;
    15→    excerpt: string;
    16→    tags: string[];
    17→    thumbnail?: string;
    18→}
    19→
```

Result:

```
1→import { useState } from 'react';
     2→import type { BlogPost } from '../types/blog';
     3→import BlogPostModal from './BlogPostModal';
     4→
     5→// Auto-discover blog posts using import.meta.glob
     6→const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
     7→
     8→interface BlogProps {
     9→    isMobile: boolean;
    10→    isTablet: boolean;
    11→}
    12→
    13→// Parse frontmatter from markdown
    14→function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    15→    const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    16→    if (!match) return { frontmatter: {}, content: raw };
    17→
    18→    const frontmatterStr = match[1];
    19→    const content = match[2];
    20→
    21→    const frontmatter: Record<string, unknown> = {};
    22→    const lines = frontmatterStr.split('\n');
    23→
    24→    for (const line of lines) {
    25→        const colonIndex = line.indexOf(':');
    26→        if (colonIndex === -1) continue;
    27→
    28→        const key = line.slice(0, colonIndex).trim();
    29→        let value = line.slice(colonIndex + 1).trim();
    30→
    31→        // Handle arrays
    32→        if (value.startsWith('[') && value.endsWith(']')) {
    33→            const arrayContent = value.slice(1, -1);
    34→            frontmatter[key] = arrayContent.split(',').map(item =>
    35→                item.trim().replace(/^["']|["']$/g, '')
    36→            );
    37→        }
    38→        // Handle quoted strings
    39→        else if (value.startsWith('"') && value.endsWith('"')) {
    40→            frontmatter[key] = value.slice(1, -1);
    41→        }
    42→        // Handle null
    43→        else if (value === 'null') {
    44→            frontmatter[key] = null;
    45→        }
    46→        // Regular string
    47→        else {
    48→            frontmatter[key] = value;
    49→        }
    50→    }
    51→
    52→    return { frontmatter, content };
    53→}
    54→
    55→// Calculate reading time
    56→function calculateReadingTime(content: string): number {
    57→    const wordsPerMinute = 200;
    58→    const words = content.split(/\s+/).length;
    59→    return Math.ceil(words / wordsPerMinute);
    60→}
    61→
    62→// Extract slug from filename (YYYY-MM-DD-slug.md → slug)
    63→function extractSlugFromFilename(path: string): string {
    64→    const filename = path.split('/').pop() || '';
    65→    // Remove .md extension and date prefix (YYYY-MM-DD-)
    66→    return filename.replace(/^\d{4}-\d{2}-\d{2}-/, '').replace(/\.md$/, '');
    67→}
    68→
    69→// Parse all blog posts (auto-discovered)
    70→function parseBlogPosts(): BlogPost[] {
    71→    const posts = Object.entries(blogPostFiles).map(([path, module]) => {
    72→        const raw = (module as any).default as string;
    73→        const slug = extractSlugFromFilename(path);
    74→        const { frontmatter, content } = parseFrontmatter(raw);
    75→
    76→        return {
    77→            slug,
    78→            title: frontmatter.title as string || 'Untitled',
    79→            date: frontmatter.date as string || new Date().toISOString().split('T')[0],
    80→            excerpt: frontmatter.excerpt as string || '',
    81→            tags: (frontmatter.tags as string[]) || [],
    82→            thumbnail: frontmatter.thumbnail as string | null || null,
    83→            readingTime: calculateReadingTime(content),
    84→            content
    85→        };
    86→    });
    87→
    88→    return posts.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
    89→}
    90→
    91→export default function Blog({ isMobile, isTablet }: BlogProps) {
    92→    const [hoveredPost, setHoveredPost] = useState<string | null>(null);
    93→    const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null);
    94→
    95→    const posts = parseBlogPosts();
    96→
    97→    const formatDate = (dateStr: string) => {
    98→        const date = new Date(dateStr);
    99→        return date.toLocaleDateString('en-US', {
   100→            month: '2-digit',
   101→            day: '2-digit',
   102→            year: '2-digit'
   103→        }).replace(/\//g, '.');
   104→    };
   105→
   106→    const handleNavigate = (direction: 'prev' | 'next') => {
   107→        if (!selectedPost) return;
   108→        const currentIndex = posts.findIndex(p => p.slug === selectedPost.slug);
   109→        const newIndex = direction === 'prev' ? currentIndex - 1 : currentIndex + 1;
   110→        if (newIndex >= 0 && newIndex < posts.length) {
   111→            setSelectedPost(posts[newIndex]);
   112→        }
   113→    };
   114→
   115→    const getRelatedPosts = (currentPost: BlogPost): BlogPost[] => {
   116→        if (!currentPost.tags || currentPost.tags.length === 0) return [];
   117→
   118→        // Find posts with shared tags, excluding current post
   119→        const relatedPosts = posts
   120→            .filter(post => post.slug !== currentPost.slug)
   121→            .map(post => {
   122→                const sharedTags = post.tags.filter(tag => currentPost.tags.includes(tag));
   123→                return { post, sharedTagCount: sharedTags.length };
   124→            })
   125→            .filter(({ sharedTagCount }) => sharedTagCount > 0)
   126→            .sort((a, b) => b.sharedTagCount - a.sharedTagCount)
   127→            .slice(0, 3) // Max 3 related posts
   128→            .map(({ post }) => post);
   129→
   130→        return relatedPosts;
   131→    };
   132→
   133→    const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
   134→
   135→    return (
   136→        <>
   137→            <section id="blog" style={{
   138→                padding: sectionPadding,
   139→                maxWidth: 'var(--layout-max-width)',
   140→                margin: '0 auto',
   141→                position: 'relative',
   142→                zIndex: 1
   143→            }}>
   144→                {/* Section label */}
   145→                <div style={{
   146→                    display: 'flex',
   147→                    alignItems: 'center',
   148→                    gap: 'var(--space-lg)',
   149→                    marginBottom: isMobile ? 'var(--space-xl)' : '40px'
   150→                }}>
   151→                    <span style={{
   152→                        fontSize: '11px',
   153→                        fontWeight: 600,
   154→                        letterSpacing: '0.15em',
   155→                        textTransform: 'uppercase',
   156→                        color: 'var(--color-text-muted)'
   157→                    }}>
   158→                        Insights
   159→                    </span>
   160→                    <div style={{
   161→                        flex: 1,
   162→                        height: '1px',
   163→                        background: 'var(--color-border-light)'
   164→                    }} />
   165→                </div>
   166→
   167→                {/* Section header */}
   168→                <div style={{
   169→                    marginBottom: isMobile ? 'var(--space-xl)' : 'var(--space-2xl)'
   170→                }}>
   171→                    <h2 style={{
   172→                        fontSize: isMobile ? '28px' : isTablet ? '36px' : '42px',
   173→                        fontFamily: 'var(--font-serif)',
   174→                        fontWeight: 400,
   175→                        fontStyle: 'italic',
   176→                        color: 'var(--color-text-primary)',
   177→                        marginBottom: 'var(--space-md)',
   178→                        letterSpacing: '-0.02em',
   179→                        lineHeight: 1.2
   180→                    }}>
   181→                        Thoughts on building at the edge
   182→                    </h2>
   183→                    <p style={{
   184→                        fontSize: '15px',
   185→                        color: 'var(--color-text-tertiary)',
   186→                        maxWidth: '600px',
   187→                        lineHeight: 1.6
   188→                    }}>
   189→                        Reflections on product management, crypto infrastructure, and the intersection of AI with on-chain execution.
   190→                    </p>
   191→                </div>
   192→
   193→                {/* Blog posts list */}
   194→                <div style={{
   195→                    display: 'flex',
   196→                    flexDirection: 'column',
   197→                    gap: '0'
   198→                }}>
   199→                    {posts.map((post, index) => (
   200→                        <article
   201→                            key={post.slug}
   202→                            style={{
   203→                                borderTop: index === 0 ? '1px solid var(--color-border)' : 'none',
   204→                                borderBottom: '1px solid var(--color-border)',
   205→                                padding: isMobile ? '28px 0' : '36px 0',
   206→                                cursor: 'pointer',
   207→                                transition: 'all 0.3s ease',
   208→                                background: hoveredPost === post.slug ? 'var(--color-card-hover)' : 'transparent'
   209→                            }}
   210→                            onMouseEnter={() => !isMobile && setHoveredPost(post.slug)}
   211→                            onMouseLeave={() => !isMobile && setHoveredPost(null)}
   212→                            onClick={() => setSelectedPost(post)}
   213→                        >
   214→                            <div style={{
   215→                                display: 'grid',
   216→                                gridTemplateColumns: isMobile ? '1fr' : isTablet ? '120px 1fr' : '140px 1fr auto',
   217→                                gap: isMobile ? 'var(--space-md)' : 'var(--space-xl)',
   218→                                alignItems: 'start'
   219→                            }}>
   220→                                {/* Date */}
   221→                                <div style={{
   222→                                    fontSize: '12px',
   223→                                    fontWeight: 500,
   224→                                    letterSpacing: '0.05em',
   225→                                    color: 'var(--color-text-muted)',
   226→                                    display: 'flex',
   227→                                    alignItems: 'center',
   228→                                    gap: 'var(--space-sm)'
   229→                                }}>
   230→                                    <span>{formatDate(post.date)}</span>
   231→                                    <span style={{ color: 'var(--color-separator)' }}>•</span>
   232→                                    <span>{post.readingTime} min</span>
   233→                                </div>
   234→
   235→                                {/* Content */}
   236→                                <div>
   237→                                    <h3 style={{
   238→                                        fontSize: isMobile ? '22px' : '26px',
   239→                                        fontFamily: 'var(--font-serif)',
   240→                                        fontWeight: 400,
   241→                                        fontStyle: 'italic',
   242→                                        color: 'var(--color-text-primary)',
   243→                                        marginBottom: 'var(--space-sm)',
   244→                                        letterSpacing: '-0.02em',
   245→                                        lineHeight: 1.2,
   246→                                        transition: 'color 0.2s ease'
   247→                                    }}>
   248→                                        {post.title}
   249→                                    </h3>
   250→
   251→                                    <p style={{
   252→                                        fontSize: '14px',
   253→                                        color: 'var(--color-text-tertiary)',
   254→                                        lineHeight: 1.6,
   255→                                        marginBottom: 'var(--space-md)',
   256→                                        maxWidth: '600px'
   257→                                    }}>
   258→                                        {post.excerpt}
   259→                                    </p>
   260→
   261→                                    {/* Tags */}
   262→                                    <div style={{
   263→                                        display: 'flex',
   264→                                        gap: 'var(--space-sm)',
   265→                                        flexWrap: 'wrap'
   266→                                    }}>
   267→                                        {post.tags.map((tag, i) => (
   268→                                            <span key={i} style={{
   269→                                                fontSize: '10px',
   270→                                                fontWeight: 500,
   271→                                                letterSpacing: '0.05em',
   272→                                                textTransform: 'uppercase',
   273→                                                color: 'var(--color-text-muted)',
   274→                                                padding: '4px 8px',
   275→                                                border: '1px solid var(--color-border-light)',
   276→                                                transition: 'all 0.2s ease',
   277→                                                background: hoveredPost === post.slug ? 'var(--color-tag-hover)' : 'transparent'
   278→                                            }}>
   279→                                                {tag}
   280→                                            </span>
   281→                                        ))}
   282→                                    </div>
   283→                                </div>
   284→
   285→                                {/* Read link - desktop only */}
   286→                                {!isMobile && !isTablet && (
   287→                                    <div style={{
   288→                                        display: 'flex',
   289→                                        alignItems: 'center',
   290→                                        gap: 'var(--space-sm)',
   291→                                        color: hoveredPost === post.slug ? 'var(--color-accent)' : 'var(--color-text-muted)',
   292→                                        transition: 'color 0.2s ease',
   293→                                        alignSelf: 'center'
   294→                                    }}>
   295→                                        <span style={{
   296→                                            fontSize: '13px',
   297→                                            fontWeight: 500,
   298→                                            letterSpacing: '0.02em'
   299→                                        }}>
   300→                                            Read
   301→                                        </span>
   302→                                        <span style={{
   303→                                            transform: hoveredPost === post.slug ? 'translateX(4px)' : 'translateX(0)',
   304→                                            transition: 'transform 0.2s ease',
   305→                                            fontFamily: 'var(--font-serif)',
   306→                                            fontStyle: 'italic'
   307→                                        }}>→</span>
   308→                                    </div>
   309→                                )}
   310→                            </div>
   311→                        </article>
   312→                    ))}
   313→                </div>
   314→            </section>
   315→
   316→            {/* Blog Post Modal */}
   317→            {selectedPost && (
   318→                <BlogPostModal
   319→                    post={selectedPost}
   320→                    onClose={() => setSelectedPost(null)}
   321→                    onNavigate={handleNavigate}
   322→                    hasPrev={posts.findIndex(p => p.slug === selectedPost.slug) > 0}
   323→                    hasNext={posts.findIndex(p => p.slug === selectedPost.slug) < posts.length - 1}
   324→                    prevTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) - 1]?.title}
   325→                    nextTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) + 1]?.title}
   326→                    isMobile={isMobile}
   327→                    relatedPosts={getRelatedPosts(selectedPost)}
   328→                    onPostSelect={setSelectedPost}
   329→                />
   330→            )}
   331→        </>
   332→    );
   333→}
   334→
```

Result:

```
1→# Portfolio Codebase Context
     2→
     3→> **For AI Agents**: This document provides comprehensive context about the codebase architecture, conventions, and recent work to enable effective onboarding.
     4→
     5→---
     6→
     7→## Project Overview
     8→
     9→**Name**: Dmitrii Fotesco's Portfolio  
    10→**Stack**: React 19 + TypeScript + Vite  
    11→**Purpose**: Personal portfolio showcasing PM/engineering work with case studies  
    12→**URL**: https://github.com/fotescodev/portfolio
    13→
    14→---
    15→
    16→## Architecture
    17→
    18→### Directory Structure
    19→
    20→\```
    21→portfolio/
    22→├── src/
    23→│   ├── components/
    24→│   │   ├── ThemeToggle.tsx           # Theme switcher component
    25→│   │   ├── sections/                 # Page sections
    26→│   │   │   ├── HeroSection.tsx
    27→│   │   │   ├── AboutSection.tsx
    28→│   │   │   ├── ExperienceSection.tsx
    29→│   │   │   ├── CertificationsSection.tsx
    30→│   │   │   ├── SocialSection.tsx
    31→│   │   │   ├── FooterSection.tsx
    32→│   │   │   └── CaseStudyModal.tsx    # 634 lines, largest component
    33→│   │   └── ui/                       # Reusable UI components
    34→│   ├── context/
    35→│   │   └── ThemeContext.tsx          # Theme provider (dark/light)
    36→│   ├── styles/
    37→│   │   └── globals.css               # Design system tokens
    38→│   ├── tests/
    39→│   │   ├── setup.ts                  # Test configuration
    40→│   │   └── design-system/           # Design system test suite
    41→│   ├── types/                        # TypeScript interfaces
    42→│   └── lib/                          # Utilities
    43→├── content/
    44→│   └── profile.yaml                  # Content data
    45→├── context/
    46→│   ├── AGENT_RULES.md           # AI agent governance rules
    47→│   ├── CODEBASE.md              # This file - architecture docs
    48→│   ├── DESIGN.md                # Design system documentation
    49→│   ├── DEVLOG.md                # Developer log (session history)
    50→│   └── ROADMAP.md               # Project roadmap
    51→└── vitest.config.ts                 # Test configuration
    52→\```
    53→
    54→### Key Patterns
    55→
    56→1. **Inline Styles with CSS Variables**: Components use inline `style` props with CSS variables
    57→   \```tsx
    58→   style={{ color: 'var(--color-text-primary)' }}
    59→   \```
    60→
    61→2. **Theme via data-attribute**: Theme switching uses `data-theme` on `<html>`
    62→   \```css
    63→   [data-theme="light"] { --color-background: #fafafa; }
    64→   \```
    65→
    66→3. **ThemeContext**: Provides `isDark`, `toggleTheme`, `theme` - but NOT colors (deprecated)
    67→
    68→---
    69→
    70→## Design System
    71→
    72→### CSS Variables (globals.css)
    73→
    74→| Category | Examples |
    75→|----------|----------|
    76→| **Colors** | `--color-background`, `--color-text-primary`, `--color-accent` |
    77→| **Spacing** | `--space-xs` (4px) through `--space-3xl` (64px) |
    78→| **Typography** | `--font-serif`, `--font-sans` |
    79→| **Transitions** | `--ease-smooth`, `--transition-medium` |
    80→
    81→### Theme Values
    82→
    83→| Token | Dark Mode | Light Mode |
    84→|-------|-----------|------------|
    85→| `--color-background` | #08080a | #fafafa |
    86→| `--color-text-primary` | #e8e6e3 | #050505 |
    87→| `--color-accent` | #c29a6c | #8a6642 |
    88→
    89→---
    90→
    91→## Testing
    92→
    93→### Framework: Vitest + Testing Library
    94→
    95→**Run commands:**
    96→\```bash
    97→npm run test:design-system  # Design system tests (29 tests)
    98→npm run test                # All tests
    99→npm run test:watch          # Watch mode
   100→\```
   101→
   102→### Test Structure
   103→
   104→| File | Tests | Purpose |
   105→|------|-------|---------|
   106→| `css-variables.test.ts` | 12 | Verify design tokens exist |
   107→| `theme-toggle.test.tsx` | 6 | ThemeProvider functionality |
   108→| `components.test.tsx` | 11 | Component render checks |
   109→
   110→---
   111→
   112→## Recent Work (Dec 2024)
   113→
   114→### Design System Migration
   115→
   116→**Objective**: Migrate from React context-based colors to CSS custom properties
   117→
   118→**Changes Made:**
   119→1. Created `src/styles/globals.css` with all design tokens
   120→2. Updated `ThemeContext.tsx` to set `data-theme` attribute on `<html>`
   121→3. Migrated 8 components to use CSS variables instead of `useTheme().colors`:
   122→   - ThemeToggle.tsx
   123→   - FooterSection.tsx
   124→   - HeroSection.tsx
   125→   - AboutSection.tsx
   126→   - SocialSection.tsx
   127→   - ExperienceSection.tsx
   128→   - CertificationsSection.tsx
   129→   - CaseStudyModal.tsx
   130→
   131→**Git Commits:**
   132→- `34a925e` - feat: migrate design system to CSS custom properties
   133→- `1d5668e` - test: add design system test suite with Vitest
   134→
   135→---
   136→
   137→## Important Conventions
   138→
   139→### DO ✅
   140→
   141→- Use CSS variables for all colors: `var(--color-*)`
   142→- Use spacing tokens: `var(--space-md)` not `16px`
   143→- Use font variables: `var(--font-serif)` not hardcoded strings
   144→- Run `npm run test:design-system` after design changes
   145→
   146→### DON'T ❌
   147→
   148→- Import `colors` from `useTheme()` - this is deprecated
   149→- Use hardcoded hex colors in components
   150→- Use `isDark` conditionals for colors (CSS handles this now)
   151→
   152→---
   153→
   154→## Dependencies
   155→
   156→**Core:**
   157→- react@19.2.0
   158→- react-dom@19.2.0
   159→- vite@7.2.4
   160→
   161→**Dev/Testing:**
   162→- vitest@3.2.4
   163→- @testing-library/react
   164→- @testing-library/jest-dom
   165→- jsdom
   166→
   167→---
   168→
   169→## Useful Commands
   170→
   171→\```bash
   172→npm run dev              # Start dev server (port 5174)
   173→npm run build            # Production build
   174→npm run test:design-system  # Run design tests
   175→npm run lint             # ESLint
   176→\```
   177→
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Let me explore the remaining context documents and examine a few more key components:

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./context/DESIGN.md`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./context/ROADMAP.md`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/index.css`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/styles/globals.css`

Result:

```
1→# Web3 Portfolio Design System
     2→
     3→A comprehensive design system for a Web3 product manager portfolio featuring dark and light modes with elegant typography and consistent spacing.
     4→
     5→## Features
     6→
     7→- 🎨 **Dual Theme Support**: Seamless dark and light mode switching
     8→- 🔤 **Premium Typography**: Instrument Serif & Instrument Sans font pairing
     9→- 📐 **Consistent Spacing**: Token-based spacing system
    10→- 🧩 **Reusable Components**: Production-ready React components
    11→- ✨ **Smooth Animations**: Premium easing and transitions
    12→- 📱 **Fully Responsive**: Mobile, tablet, and desktop optimized
    13→
    14→## 🚨 Governance ("The Prime Directive")
    15→**The Design System is the Single Source of Truth.**
    16→*   **Do not** use hardcoded values in components.
    17→*   **Do not** add "snowflake" styles without justification.
    18→*   **Updates**: If you need a new style, add it to `globals.css` AND document it here first.
    19→
    20→## Quick Start
    21→
    22→### Theme System
    23→
    24→The design system uses CSS custom properties for theming. Toggle between dark and light modes using the `ThemeToggle` component.
    25→
    26→\```tsx
    27→import { ThemeProvider } from './context/ThemeContext';
    28→
    29→function App() {
    30→  return (
    31→    <ThemeProvider>
    32→      {/* Your app content */}
    33→    </ThemeProvider>
    34→  );
    35→}
    36→\```
    37→
    38→### Using Components
    39→
    40→All components are available in the `/components` directory:
    41→
    42→\```tsx
    43→import { Button } from './components/Button';
    44→import { Tag } from './components/Tag';
    45→import { CaseStudyCard } from './components/CaseStudyCard';
    46→
    47→// Primary button
    48→<Button variant="primary" href="#contact">Get in touch</Button>
    49→
    50→// Secondary button
    51→<Button variant="secondary" href="#work">View work</Button>
    52→
    53→// Tags
    54→<Tag>Web3</Tag>
    55→<Tag>Product</Tag>
    56→\```
    57→
    58→## Available Components
    59→
    60→### Buttons
    61→
    62→- **Primary Button**: Solid background with accent hover
    63→- **Secondary Button**: Text link with underline
    64→
    65→\```tsx
    66→<Button variant="primary">Primary Action</Button>
    67→<Button variant="secondary">Secondary Action</Button>
    68→\```
    69→
    70→### Cards
    71→
    72→#### Case Study Card
    73→Displays project information with metrics:
    74→
    75→\```tsx
    76→<CaseStudyCard
    77→  year="2024"
    78→  title="Project Title"
    79→  description="Project description"
    80→  tags={['Tag1', 'Tag2']}
    81→  metrics={[
    82→    { label: 'Metric', value: '100K' }
    83→  ]}
    84→/>
    85→\```
    86→
    87→#### Experience Card
    88→Shows work experience with achievements:
    89→
    90→\```tsx
    91→<ExperienceCard
    92→  period="2023 — Present"
    93→  company="Company Name"
    94→  role="Role Title"
    95→  description="Description"
    96→  achievements={['Achievement 1', 'Achievement 2']}
    97→/>
    98→\```
    99→
   100→#### Certification Card
   101→Displays certifications with decorative corner:
   102→
   103→\```tsx
   104→<CertificationCard
   105→  title="Certification Name"
   106→  issuer="Issuer"
   107→  date="Date"
   108→  credentialId="ID-123"
   109→/>
   110→\```
   111→
   112→### UI Elements
   113→
   114→#### Tags
   115→Small labels for categorization:
   116→
   117→\```tsx
   118→<Tag variant="bordered">Category</Tag>
   119→\```
   120→
   121→#### Status Indicator
   122→Visual status with optional label:
   123→
   124→\```tsx
   125→<StatusIndicator status="online" label="Open to work" />
   126→\```
   127→
   128→#### Section Header
   129→Labeled divider for sections:
   130→
   131→\```tsx
   132→<SectionHeader label="Section Title" />
   133→\```
   134→
   135→### Navigation
   136→
   137→Fixed navigation with "Frosted Glass" (Glassmorphism) effect and compact padding.
   138→
   139→\```tsx
   140→<Navigation logo="yourname.eth" />
   141→\```
   142→
   143→### Floating Actions (Omnibar)
   144→
   145→Centralized floating action button for high-value conversions.
   146→
   147→\```tsx
   148→<Omnibar />
   149→\```
   150→
   151→### Case Study Links
   152→
   153→Reusable component for displaying external links (Live, Code, Docs) and media links.
   154→
   155→\```tsx
   156→import CaseStudyLinks from './case-study/CaseStudyLinks';
   157→
   158→<CaseStudyLinks caseStudy={caseStudy} isMobile={false} />
   159→\```
   160→
   161→#### Link Buttons
   162→- **Primary buttons (with labels)**: Live, Code, Docs
   163→- **Media buttons (icon-only)**: Blog, Twitter, LinkedIn, Video, Article, Slides
   164→- **Hover effect**: Border and text change to `--color-accent`
   165→- **Styling**: Consistent border outline style (no solid fills)
   166→
   167→#### Supported Media Types
   168→| Type | Icon | Use for |
   169→|------|------|---------|
   170→| `blog` | Pen | Blog posts |
   171→| `twitter` | X logo | Tweets/threads |
   172→| `linkedin` | LinkedIn logo | LinkedIn posts |
   173→| `video` | Play | YouTube, Loom, talks |
   174→| `article` | Document | Press/external articles |
   175→| `slides` | Presentation | Slide decks |
   176→
   177→## Color System
   178→
   179→### CSS Variables
   180→
   181→All colors are defined as CSS custom properties in `/styles/globals.css`:
   182→
   183→#### Dark Mode (Default)
   184→- `--color-background`: #08080a
   185→- `--color-text-primary`: #e8e6e3
   186→- `--color-accent`: #c29a6c
   187→- `--color-success`: #4ade80
   188→- `--color-danger`: #ef4444
   189→
   190→#### Light Mode
   191→- `--color-background`: #fafafa
   192→- `--color-text-primary`: #050505
   193→- `--color-accent`: #8a6642
   194→- `--color-success`: #22c55e
   195→- `--color-danger`: #ef4444
   196→
   197→#### Component-Specific Tokens (Dec 2024)
   198→- `--color-thumbnail-bg-start/end`: Thumbnail gradient backgrounds
   199→- `--color-overlay-dark`: Semi-transparent overlay for thumbnails
   200→- `--color-overlay-text`: Text color on dark overlays
   201→- `--color-placeholder-text`: Muted placeholder text
   202→- `--color-separator`: Subtle separator color (dots, dashes)
   203→- `--color-success-bg/border`: Success state backgrounds/borders
   204→- `--shadow-omnibar`: Omnibar floating shadow
   205→- `--shadow-drawer`: Case study drawer shadow
   206→
   207→### Using Colors
   208→
   209→\```css
   210→.custom-element {
   211→  color: var(--color-text-primary);
   212→  background: var(--color-background);
   213→  border: 1px solid var(--color-border);
   214→}
   215→\```
   216→
   217→## Typography
   218→
   219→### Font Families
   220→
   221→- **Instrument Serif** (Italic): Headlines, accent text
   222→- **Instrument Sans**: Body text, UI elements
   223→
   224→### Type Scale
   225→
   226→- **H1**: clamp(3rem, 8vw, 8rem) - Hero headlines
   227→- **H2**: clamp(1.75rem, 2.5vw, 2.625rem) - Section titles
   228→- **H3**: clamp(1.25rem, 1.5vw, 1.625rem) - Card titles
   229→- **Body**: 15px - Standard text
   230→- **Body Large**: 19px - Introductory text
   231→
   232→### Usage
   233→
   234→\```tsx
   235→<h1>Building at the edge of trust</h1>
   236→<h2>Section Title</h2>
   237→<h3>Card Title</h3>
   238→<p>Body text paragraph</p>
   239→\```
   240→
   241→## Spacing System
   242→
   243→Token-based spacing using CSS custom properties:
   244→
   245→- `--space-xs`: 4px
   246→- `--space-sm`: 8px
   247→- `--space-md`: 16px
   248→- `--space-lg`: 24px
   249→- `--space-xl`: 32px
   250→- `--space-2xl`: 48px
   251→- `--space-3xl`: 64px
   252→
   253→### Usage
   254→
   255→\```css
   256→.container {
   257→  padding: var(--space-xl);
   258→  gap: var(--space-md);
   259→}
   260→\```
   261→
   262→## Animations
   263→
   264→### Transitions
   265→
   266→Primary easing function:
   267→\```css
   268→--ease-smooth: cubic-bezier(0.16, 1, 0.3, 1);
   269→--transition-fast: 0.2s ease;
   270→--transition-medium: 0.4s var(--ease-smooth);
   271→\```
   272→
   273→### Common Animations
   274→
   275→\```css
   276→/* Fade in */
   277→animation: fadeIn 0.8s ease forwards;
   278→
   279→/* Slide up */
   280→animation: slideUp 1s var(--ease-smooth) forwards;
   281→\```
   282→
   283→## Responsive Breakpoints
   284→
   285→- **Mobile**: < 768px
   286→- **Tablet**: 768px - 1023px
   287→- **Desktop**: ≥ 1024px
   288→
   289→### Media Queries
   290→
   291→\```css
   292→@media (max-width: 767px) {
   293→  /* Mobile styles */
   294→}
   295→
   296→@media (min-width: 768px) and (max-width: 1023px) {
   297→  /* Tablet styles */
   298→}
   299→
   300→@media (min-width: 1024px) {
   301→  /* Desktop styles */
   302→}
   303→\```
   304→
   305→## Layout System
   306→
   307→Defined in `globals.css` to ensure consistency across all sections.
   308→
   309→### Dimensions
   310→
   311→- `--layout-max-width`: **1600px** (Wide, premium feel)
   312→- `--nav-height`: **20px** (Compact desktop vertical padding)
   313→- `--nav-height-mobile`: **16px** (Mobile vertical padding)
   314→- `--drawer-width`: **800px** (Case Study slide-over width)
   315→- `--drawer-z-index`: **200** (Above all content)
   316→- `--omnibar-z-index`: **90** (Floating above content, below nav/drawer)
   317→- `--omnibar-height`: **56px** (Standard touch target height)
   318→- `--omnibar-bottom-spacing`: **24px** (Distance from bottom)
   319→
   320→### Usage
   321→
   322→\```css
   323→.section-container {
   324→  max-width: var(--layout-max-width);
   325→  margin: 0 auto;
   326→}
   327→\```
   328→
   329→## Effects
   330→
   331→### Grid Overlay
   332→Subtle dot grid background:
   333→
   334→\```tsx
   335→<div className="bg-grid" />
   336→\```
   337→
   338→### Ambient Orbs
   339→Decorative gradient effects:
   340→
   341→\```tsx
   342→<div className="orb-primary" />
   343→<div className="orb-secondary" />
   344→\```
   345→
   346→## Best Practices
   347→
   348→1. **Always use CSS variables** for colors and spacing
   349→2. **Use semantic component names** for clarity
   350→3. **Maintain consistent spacing** using the token system
   351→4. **Test both themes** when adding new components
   352→5. **Follow responsive patterns** established in the system
   353→6. **Use proper semantic HTML** for accessibility
   354→7. **Leverage the easing functions** for consistent animations
   355→
   356→## Customization
   357→
   358→### Changing Colors
   359→
   360→Edit the CSS variables in `/styles/globals.css`:
   361→
   362→\```css
   363→:root {
   364→  --color-accent: #your-color;
   365→}
   366→
   367→[data-theme="light"] {
   368→  --color-accent: #your-light-color;
   369→}
   370→\```
   371→
   372→### Adding New Components
   373→
   374→1. Create component in `/components`
   375→2. Add styles to `/components/components.css`
   376→3. Use existing design tokens
   377→4. Test in both themes
   378→5. Ensure responsive behavior
   379→
   380→## Files Structure
   381→
   382→\```
   383→/
   384→├── styles/
   385→│   ├── globals.css          # Theme tokens, global styles
   386→│   └── layout.css           # Layout and section styles
   387→├── components/
   388→│   ├── Button.tsx
   389→│   ├── Tag.tsx
   390→│   ├── CaseStudyCard.tsx
   391→│   ├── ExperienceCard.tsx
   392→│   ├── CertificationCard.tsx
   393→│   ├── Navigation.tsx
   394→│   ├── SectionHeader.tsx
   395→│   ├── StatusIndicator.tsx
   396→│   ├── ThemeToggle.tsx
   397→│   ├── DesignSystemShowcase.tsx
   398→│   └── components.css       # Component-specific styles
   399→├── context/
   400→│   └── ThemeContext.tsx     # Theme management
   401→└── App.tsx                  # Main application
   402→\```
   403→
   404→## Browser Support
   405→
   406→- Chrome/Edge (latest)
   407→- Firefox (latest)
   408→- Safari (latest)
   409→- Mobile Safari (iOS 14+)
   410→- Chrome Mobile (latest)
   411→
   412→## Accessibility
   413→
   414→- ARIA labels on interactive elements
   415→- Keyboard navigation support
   416→- Sufficient color contrast (WCAG AA)
   417→- Semantic HTML structure
   418→- Focus indicators
   419→
   420→## Performance
   421→
   422→- CSS custom properties for instant theme switching
   423→- Optimized animations using transforms
   424→- Lazy loading ready
   425→- No layout shifts on theme change
   426→- Minimal JavaScript for core functionality
   427→
```

Result:

```
1→# Strategic Roadmap: Portfolio 2.0
     2→
     3→> **Status**: Draft
     4→> **Owner**: AI Consultant (Antigravity)
     5→> **Goal**: Transform the codebase into a high-conversion, "hired-on-sight" portfolio for a Director-level PM candidate.
     6→
     7→---
     8→
     9→## 1. Quick Wins (High Impact / Low Effort)
    10→
    11→These tasks address immediate blocking issues for content correctness and visibility.
    12→
    13→- [x] **Data Integrity Layer (Critical)**
    14→    - **Problem**: `src/lib/content.ts` uses `as unknown as Type`. Missing YAML fields will cause silent runtime crashes.
    15→    - **Solution**: Install `zod`. Create schemas for `Profile`, `CaseStudy`, etc. Validate YAML import at runtime or build time.
    16→    - **Command**: `npm install zod`
    17→
    18→- [x] **Dynamic SEO (Social Proof)**
    19→    - **Problem**: As a SPA, sharing a Case Study link on LinkedIn currently shows the generic homepage metadata.
    20→    - **Solution**: Install `react-helmet-async`. Update `CaseStudyDrawer` to inject dynamic keys.
    21→    - **Status**: Completed in Phase 2.
    22→
    23→- [x] **Fix Missing Hero Image in Modal**
    24→    - **Problem**: Analysis of `CaseStudyModal.tsx` reveals the "Hero area with image" comment exists, but the actual `<img>` or background render logic is missing or ineffective.
    25→    - **Solution**: Implemented a proper responsive image in `CaseStudyHero.tsx`.
    26→
    27→---
    28→
    29→## 2. Strategic Features (The "Hired" Metric)
    30→
    31→Features designed to prove seniority and competence.
    32→
    33→- [ ] **"Trust Battery" Testimonials Section**
    34→    - **Why**: Social proof is currently buried or static.
    35→    - **Plan**: Implement a "Wall of Love" or Infinite Marquee section on the home page using the compiled reviews from `content/testimonials`.
    36→
    37→- [x] **Floating "Hire Me" Omnibar**
    38→    - **Why**: Conversion path should be always available but unobtrusive.
    39→    - **Plan**: A subtle, glass-morphic floating action bar on mobile (bottom) and desktop (corner) that offers "Resume", "Email", and "Calendly" without needing to scroll to the footer.
    40→    - **Status**: Completed in Phase 2.
    41→
    42→---
    43→
    44→## 3. Design Polish (The "Wow" Factor)
    45→
    46→Elevating the aesthetic from "Clean" to "Premium".
    47→
    48→- [x] **Framer Motion Integration**
    49→    - **Problem**: `CaseStudyModal` uses inline `style={{ animation: ... }}`. This is jerky and lacks exit animations.
    50→    - **Plan**: Replace inline CSS animations with `<AnimatePresence>` and `<motion.div>` in `CaseStudyDrawer`.
    51→    - **Status**: Completed in Phase 2.
    52→
    53→- [ ] **Scroll-Driven Storytelling**
    54→    - **Plan**: Add simple scroll observers to `CaseStudyDrawer`. As the user reads "Problem", "Approach", "Results":
    55→        - Fade in sections.
    56→        - Update a "Reading Progress" indicator.
    57→        - Subtle parallax on large metrics.
    58→
    59→- [x] **Orb/Glow Ambient Effects**
    60→    - **Plan**: Utilize the unused `color-orb-accent` variables. Add a background mesh gradient or "Orb" that follows the cursor subtly in the background, shifting colors based on the theme.
    61→    - **Status**: Completed in Phase 2.
    62→
    63→---
    64→
    65→## 4. Technical Refactoring (AI & Maintainability)
    66→
    67→Preparing the codebase for rapid iteration and AI-assisted development.
    68→
    69→- [x] **Refactor `CaseStudyModal` Monolith**
    70→    - **Status**: Completed. Replaced with `CaseStudyDrawer`.
    71→
    72→- [x] **Documentation Cleanup**
    73→    - **Status**: Completed.
    74→
    75→- [ ] **Standardized `<Image />` Component**
    76→    - **Problem**: No lazy loading, no blur-up placeholders.
    77→    - **Plan**: Create a primitive that handles `alt` text enforcement (accessibility), loading states, and aspect ratios.
    78→
    79→- [ ] **AI Onboarding Scripts**
    80→    - **Plan**: Create `scripts/validate-content.ts`.
    81→
    82→---
    83→
    84→## 5. Execution Strategy
    85→
    86→**Phase 1: Foundation (Done)**
    87→1.  Implement Zod schemas.
    88→2.  Refactor `CaseStudyModal`.
    89→
    90→**Phase 2: Polish (Done)**
    91→1.  Install Framer Motion.
    92→2.  Implement Animations & Ambient Orbs.
    93→3.  Add Floating Omnibar & SEO.
    94→4.  Fix Deployment.
    95→
    96→**Phase 3: Social & Content (In Progress)**
    97→1.  ~~Implement "Trust Battery" Testimonials.~~ (Deferred)
    98→2.  ~~Refine Scroll-Driven Storytelling.~~ (Deferred)
    99→3.  **Blog UX Enhancement Sprint (Completed)**:
   100→    - [x] Reading progress bar
   101→    - [x] Table of contents with scroll spy
   102→    - [x] Copy code buttons
   103→    - [x] Back-to-top button
   104→    - [x] Related posts by tags
   105→    - [x] Social sharing (Twitter, LinkedIn, Copy Link)
   106→    - [x] Like system with analytics
   107→    - [x] Fluid responsive typography
   108→    - [x] 44 comprehensive tests (187 total passing)
   109→
   110→**Phase 4: Next Steps**
   111→1.  Performance optimization
   112→2.  Blog backend integration (optional)
   113→3.  Trust Battery Testimonials
   114→4.  Advanced scroll storytelling
   115→
```

Result:

```
1→@import './styles/globals.css';
     2→
     3→* {
     4→  box-sizing: border-box;
     5→  margin: 0;
     6→  padding: 0;
     7→}
     8→
     9→@media (prefers-reduced-motion: no-preference) {
    10→  html {
    11→    scroll-behavior: smooth;
    12→  }
    13→}
    14→
    15→body {
    16→  font-family: var(--font-sans);
    17→  overflow-x: hidden;
    18→  background: var(--color-background);
    19→  color: var(--color-text-secondary);
    20→  transition: background var(--transition-medium), color var(--transition-medium);
    21→}
    22→
    23→/* Prevent in-page anchor jumps from hiding under the fixed nav */
    24→section[id] {
    25→  scroll-margin-top: var(--space-5xl);
    26→}
    27→
    28→/* Accessible skip link */
    29→.skip-link {
    30→  position: fixed;
    31→  top: var(--space-md);
    32→  left: var(--space-md);
    33→  z-index: 1000;
    34→  padding: var(--space-sm) var(--space-md);
    35→  background: var(--color-text-primary);
    36→  color: var(--color-background);
    37→  text-decoration: none;
    38→  font-size: 13px;
    39→  font-weight: 600;
    40→  transform: translateY(-200%);
    41→  transition: transform var(--transition-fast);
    42→}
    43→
    44→.skip-link:focus {
    45→  transform: translateY(0);
    46→  outline: 2px solid var(--color-accent);
    47→  outline-offset: 2px;
    48→}
    49→
    50→::selection {
    51→  background: var(--color-selection-bg);
    52→}
```

Result:

```
1→@import url('https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&family=Instrument+Serif:ital@0;1&display=swap');
     2→
     3→:root {
     4→  /* Dark Mode (default) */
     5→  --color-background: #08080a;
     6→  --color-background-secondary: #141416;
     7→  --color-background-tertiary: #1a1a1c;
     8→  --color-text-primary: #e8e6e3;
     9→  --color-text-secondary: #a8a5a0;
    10→  --color-text-tertiary: #6b6966;
    11→  --color-text-muted: #4a4a4c;
    12→  --color-accent: #c29a6c;
    13→  --color-accent-hover: #d4ac7e;
    14→  --color-border: rgba(232, 230, 227, 0.1);
    15→  --color-border-light: rgba(232, 230, 227, 0.08);
    16→  --color-success: #4ade80;
    17→  --color-danger: #ef4444;
    18→  --color-code-bg: #141416;
    19→
    20→  /* Effects - Dark */
    21→  --color-nav-gradient-start: rgba(8, 8, 10, 1);
    22→  --color-nav-gradient-end: rgba(8, 8, 10, 0);
    23→  --color-grid-overlay: rgba(255, 255, 255, 0.05);
    24→  --color-orb-accent: rgba(194, 154, 108, 0.25);
    25→  --color-orb-secondary: rgba(74, 222, 128, 0.12);
    26→  --color-scrollbar-thumb: rgba(232, 230, 227, 0.15);
    27→  --color-scrollbar-thumb-hover: rgba(232, 230, 227, 0.25);
    28→  --color-card-hover: rgba(194, 154, 108, 0.02);
    29→  --color-tag-hover: rgba(194, 154, 108, 0.05);
    30→
    31→  /* Glass / overlays */
    32→  --color-surface-glass: rgba(20, 20, 22, 0.6);
    33→  --color-surface-glass-strong: rgba(8, 8, 10, 0.72);
    34→  --color-nav-bg: rgba(8, 8, 10, 0.85);
    35→  --color-backdrop: rgba(0, 0, 0, 0.45);
    36→  --color-selection-bg: rgba(194, 154, 108, 0.3);
    37→
    38→  /* Component-specific */
    39→  --color-ens-bg: var(--color-surface-glass);
    40→  --color-cert-bg-start: rgba(194, 154, 108, 0.08);
    41→  --color-cert-bg-end: rgba(194, 154, 108, 0.02);
    42→  --color-cert-border: rgba(194, 154, 108, 0.2);
    43→  --color-photo-border: rgba(232, 230, 227, 0.06);
    44→  --color-experience-border: rgba(232, 230, 227, 0.06);
    45→
    46→  /* Thumbnail/overlay specific */
    47→  --color-thumbnail-bg-start: #141416;
    48→  --color-thumbnail-bg-end: #1a1a1c;
    49→  --color-overlay-dark: rgba(8, 8, 10, 0.7);
    50→  --color-overlay-text: #ffffff;
    51→  --color-placeholder-text: #2a2a2c;
    52→  --color-separator: #3a3a3c;
    53→
    54→  /* Success states */
    55→  --color-success-bg: rgba(74, 222, 128, 0.05);
    56→  --color-success-border: rgba(74, 222, 128, 0.15);
    57→  --color-success-border-subtle: rgba(74, 222, 128, 0.1);
    58→
    59→  /* Shadows */
    60→  --shadow-omnibar: 0 8px 32px rgba(0, 0, 0, 0.12);
    61→  --shadow-drawer: -10px 0 40px rgba(0, 0, 0, 0.2);
    62→
    63→  /* Typography */
    64→  --font-serif: 'Instrument Serif', Georgia, serif;
    65→  --font-sans: 'Instrument Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    66→
    67→  /* Layout */
    68→  --layout-max-width: 1600px;
    69→  --nav-height: 20px;
    70→  --nav-height-mobile: 16px;
    71→  --drawer-width: min(960px, 95vw);
    72→  --drawer-z-index: 200;
    73→  --drawer-padding: var(--space-2xl);
    74→  --drawer-padding-mobile: var(--space-xl);
    75→  --drawer-content-max-width: 860px;
    76→  --omnibar-z-index: 90;
    77→  --omnibar-height: 56px;
    78→  --omnibar-bottom-spacing: calc(var(--space-lg) + env(safe-area-inset-bottom));
    79→
    80→  /* Spacing */
    81→  --space-xs: 4px;
    82→  --space-sm: 8px;
    83→  --space-md: 16px;
    84→  --space-lg: 24px;
    85→  --space-xl: 32px;
    86→  --space-2xl: 48px;
    87→  --space-3xl: 64px;
    88→
    89→  /* Extended spacing scale (section rhythm) */
    90→  --space-4xl: 80px;
    91→  --space-5xl: 96px;
    92→  --space-6xl: 128px;
    93→
    94→  /* Transitions */
    95→  --ease-smooth: cubic-bezier(0.16, 1, 0.3, 1);
    96→  --transition-fast: 0.2s ease;
    97→  --transition-medium: 0.4s var(--ease-smooth);
    98→}
    99→
   100→[data-theme="light"] {
   101→  --color-background: #fafafa;
   102→  --color-background-secondary: #ffffff;
   103→  --color-background-tertiary: #f5f5f5;
   104→  --color-text-primary: #050505;
   105→  --color-text-secondary: #2a2a2c;
   106→  --color-text-tertiary: #4a4a4c;
   107→  --color-text-muted: #666666;
   108→  --color-accent: #8a6642;
   109→  --color-accent-hover: #6d5038;
   110→  --color-border: rgba(26, 26, 28, 0.12);
   111→  --color-border-light: rgba(26, 26, 28, 0.08);
   112→  --color-success: #22c55e;
   113→  --color-danger: #ef4444;
   114→  --color-code-bg: #f8f8f8;
   115→
   116→  /* Effects - Light */
   117→  --color-nav-gradient-start: rgba(250, 250, 250, 1);
   118→  --color-nav-gradient-end: rgba(250, 250, 250, 0);
   119→  --color-grid-overlay: rgba(0, 0, 0, 0.03);
   120→  --color-orb-accent: rgba(166, 124, 82, 0.15);
   121→  --color-orb-secondary: rgba(34, 197, 94, 0.1);
   122→  --color-scrollbar-thumb: rgba(26, 26, 28, 0.15);
   123→  --color-scrollbar-thumb-hover: rgba(26, 26, 28, 0.25);
   124→  --color-card-hover: rgba(166, 124, 82, 0.03);
   125→  --color-tag-hover: rgba(166, 124, 82, 0.05);
   126→
   127→  /* Glass / overlays */
   128→  --color-surface-glass: rgba(255, 255, 255, 0.7);
   129→  --color-surface-glass-strong: rgba(250, 250, 250, 0.82);
   130→  --color-nav-bg: rgba(250, 250, 250, 0.85);
   131→  --color-backdrop: rgba(0, 0, 0, 0.35);
   132→  --color-selection-bg: rgba(138, 102, 66, 0.22);
   133→
   134→  /* Component-specific */
   135→  --color-ens-bg: var(--color-surface-glass);
   136→  --color-cert-bg-start: rgba(166, 124, 82, 0.08);
   137→  --color-cert-bg-end: rgba(166, 124, 82, 0.02);
   138→  --color-cert-border: rgba(166, 124, 82, 0.2);
   139→  --color-photo-border: rgba(26, 26, 28, 0.06);
   140→  --color-experience-border: rgba(26, 26, 28, 0.06);
   141→
   142→  /* Thumbnail/overlay specific - light mode */
   143→  --color-thumbnail-bg-start: #f0f0f0;
   144→  --color-thumbnail-bg-end: #e5e5e5;
   145→  --color-overlay-dark: rgba(0, 0, 0, 0.6);
   146→  --color-overlay-text: #ffffff;
   147→  --color-placeholder-text: #9a9a9c;
   148→  --color-separator: #9a9a9c;
   149→
   150→  /* Success states - light mode */
   151→  --color-success-bg: rgba(34, 197, 94, 0.05);
   152→  --color-success-border: rgba(34, 197, 94, 0.15);
   153→  --color-success-border-subtle: rgba(34, 197, 94, 0.1);
   154→
   155→  /* Shadows - light mode */
   156→  --shadow-omnibar: 0 8px 32px rgba(0, 0, 0, 0.08);
   157→  --shadow-drawer: -10px 0 40px rgba(0, 0, 0, 0.1);
   158→}
   159→
   160→/* Custom Scrollbar */
   161→::-webkit-scrollbar {
   162→  width: 8px;
   163→}
   164→
   165→::-webkit-scrollbar-track {
   166→  background: transparent;
   167→}
   168→
   169→::-webkit-scrollbar-thumb {
   170→  background: var(--color-scrollbar-thumb);
   171→  border-radius: 4px;
   172→}
   173→
   174→::-webkit-scrollbar-thumb:hover {
   175→  background: var(--color-scrollbar-thumb-hover);
   176→}
   177→
   178→/* Animation keyframes */
   179→@keyframes slideUp {
   180→  from {
   181→    opacity: 0;
   182→    transform: translateY(40px);
   183→  }
   184→
   185→  to {
   186→    opacity: 1;
   187→    transform: translateY(0);
   188→  }
   189→}
   190→
   191→@keyframes fadeIn {
   192→  from {
   193→    opacity: 0;
   194→  }
   195→
   196→  to {
   197→    opacity: 1;
   198→  }
   199→}
   200→
   201→@keyframes modalSlideUp {
   202→  from {
   203→    opacity: 0;
   204→    transform: translateY(40px);
   205→  }
   206→
   207→  to {
   208→    opacity: 1;
   209→    transform: translateY(0);
   210→  }
   211→}
   212→
   213→/* Ambient Orbs & Gradients */
   214→.orb-primary {
   215→  position: fixed;
   216→  top: 0;
   217→  left: 0;
   218→  right: 0;
   219→  height: 80vh;
   220→  background: radial-gradient(circle at 50% 0%, var(--color-orb-accent) 0%, transparent 70%);
   221→  pointer-events: none;
   222→  z-index: 0;
   223→  opacity: 0.8;
   224→  animation: float 25s ease-in-out infinite;
   225→}
   226→
   227→.orb-secondary {
   228→  position: fixed;
   229→  top: 20%;
   230→  right: -10%;
   231→  width: 40vw;
   232→  height: 40vw;
   233→  background: radial-gradient(circle, var(--color-orb-secondary) 0%, transparent 70%);
   234→  filter: blur(60px);
   235→  pointer-events: none;
   236→  z-index: 0;
   237→  opacity: 0.5;
   238→  animation: float 20s ease-in-out infinite reverse;
   239→}
   240→
   241→@keyframes float {
   242→
   243→  0%,
   244→  100% {
   245→    transform: translate(0, 0);
   246→  }
   247→
   248→  25% {
   249→    transform: translate(2%, 2%);
   250→  }
   251→
   252→  50% {
   253→    transform: translate(-2%, 4%);
   254→  }
   255→
   256→  75% {
   257→    transform: translate(-4%, -2%);
   258→  }
   259→}
   260→
   261→.bg-grid {
   262→  position: fixed;
   263→  inset: 0;
   264→  width: 100%;
   265→  height: 100%;
   266→  background-image: radial-gradient(var(--color-grid-overlay) 1px, transparent 1px);
   267→  background-size: 32px 32px;
   268→  pointer-events: none;
   269→  z-index: 0;
   270→}
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Now let me look at a few more key areas to complete the picture:

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** List blog post files

`find /Users/dfotesco/Portfolio/portfolio/content/blog -name "*.md" -type f | head -5`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./content/blog/2024-12-15-why-validation-matters.md`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** List public directory contents

`ls -la /Users/dfotesco/Portfolio/portfolio/public`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./scripts/validate-content.ts`

Result:

```
1→---
     2→title: "Why Content Validation Matters for Developer Portfolios"
     3→date: "2024-12-15"
     4→excerpt: "Building a portfolio is easy. Maintaining content quality at scale is hard. Here's how automated validation saves time and prevents embarrassing mistakes."
     5→tags: ["Developer Tools", "Best Practices", "Automation"]
     6→thumbnail: null
     7→---
     8→
     9→I've seen too many portfolios with broken links, malformed YAML, and inconsistent data structures. The solution isn't "be more careful"—it's automation.
    10→
    11→## The Problem with Manual Validation
    12→
    13→When you're managing a portfolio with multiple content types (case studies, blog posts, projects), manual checking doesn't scale:
    14→
    15→**Common mistakes:**
    16→- Typos in YAML keys (`compnay` instead of `company`)
    17→- Wrong date formats (`12/15/2024` vs. `2024-12-15`)
    18→- Missing required fields that crash builds
    19→- Duplicate IDs between case studies
    20→- Invalid URLs that go unnoticed
    21→
    22→These errors often don't surface until:
    23→1. Your build fails in CI/CD
    24→2. A recruiter clicks a broken link
    25→3. Your case study drawer shows `undefined`
    26→
    27→By then, it's too late.
    28→
    29→## The Solution: Schema Validation
    30→
    31→The answer is **Zod schemas** combined with a validation CLI.
    32→
    33→### What This Looks Like
    34→
    35→\```typescript
    36→// Define your schema once
    37→const CaseStudySchema = z.object({
    38→  id: z.number(),
    39→  title: z.string(),
    40→  year: z.string(),
    41→  // ... all your fields
    42→});
    43→
    44→// Validate before commit
    45→validateFile(caseStudy, CaseStudySchema);
    46→\```
    47→
    48→### Benefits
    49→
    50→1. **Catch errors early** - Before they reach production
    51→2. **Self-documenting** - Schema is your source of truth
    52→3. **Type safety** - TypeScript types derived from schemas
    53→4. **Fast feedback** - Run validation in <1 second
    54→5. **CI/CD integration** - Block bad commits automatically
    55→
    56→## Real-World Example
    57→
    58→Here's what validation caught in my portfolio:
    59→
    60→\```bash
    61→npm run validate
    62→
    63→✗ Case Study: 05-new-project.md
    64→  ✗ hook.impactMetric.value: Required
    65→  ✗ year: Expected YYYY or YYYY-YY format
    66→  ✗ cta.action: Invalid enum value
    67→\```
    68→
    69→Without validation, these would have crashed my build or shown broken UI.
    70→
    71→## Implementation
    72→
    73→**1. Define schemas:**
    74→\```typescript
    75→export const CaseStudySchema = z.object({
    76→  id: z.number(),
    77→  slug: z.string(),
    78→  title: z.string(),
    79→  company: z.string(),
    80→  year: z.string(),
    81→  // ...
    82→});
    83→\```
    84→
    85→**2. Create validation script:**
    86→\```typescript
    87→function validateContent() {
    88→  const files = readAllContent();
    89→  files.forEach(file => {
    90→    const result = schema.safeParse(file);
    91→    if (!result.success) {
    92→      console.error(result.error);
    93→      process.exit(1);
    94→    }
    95→  });
    96→}
    97→\```
    98→
    99→**3. Add to package.json:**
   100→\```json
   101→{
   102→  "scripts": {
   103→    "validate": "tsx scripts/validate-content.ts"
   104→  }
   105→}
   106→\```
   107→
   108→**4. Run before commits:**
   109→\```bash
   110→npm run validate
   111→git commit -m "Add new case study"
   112→\```
   113→
   114→## Beyond Portfolios
   115→
   116→This pattern works for any content-driven application:
   117→- Documentation sites
   118→- Blog platforms
   119→- Product catalogs
   120→- Configuration management
   121→
   122→The key insight: **treat content as code**.
   123→
   124→## Key Takeaways
   125→
   126→1. **Validation is infrastructure** - Not optional, it's foundational
   127→2. **Fail fast** - Catch errors locally, not in production
   128→3. **Automate everything** - Manual checks don't scale
   129→4. **Use types** - Schemas + TypeScript = confidence
   130→
   131→## Next Steps
   132→
   133→If you're maintaining a content-heavy portfolio:
   134→
   135→1. ✅ Add Zod to your project
   136→2. ✅ Define schemas for each content type
   137→3. ✅ Write validation script
   138→4. ✅ Run validation in CI/CD
   139→5. ✅ Create templates with correct structure
   140→
   141→Your future self will thank you when you're adding your 20th case study and the CLI catches a missing field before your recruiter sees a broken page.
   142→
   143→---
   144→
   145→**Want to see a real implementation?** Check out my portfolio's [content validation system](https://github.com/fotescodev/portfolio) for a working example with templates and CLI tools.
   146→
```

Result:

```
1→#!/usr/bin/env tsx
     2→/**
     3→ * Content Validation CLI
     4→ *
     5→ * Validates all portfolio content files against Zod schemas.
     6→ * Run before committing to catch content errors early.
     7→ *
     8→ * Usage:
     9→ *   npm run validate
    10→ */
    11→
    12→import { readFileSync, readdirSync } from 'fs';
    13→import { join } from 'path';
    14→import YAML from 'yaml';
    15→import { z } from 'zod';
    16→import {
    17→  ProfileSchema,
    18→  ExperienceSchema,
    19→  TestimonialsSchema,
    20→  CertificationsSchema,
    21→  SkillsSchema,
    22→  SocialSchema,
    23→  CaseStudySchema,
    24→  PassionProjectsSchema,
    25→  BlogPostSchema
    26→} from '../src/lib/schemas.js';
    27→
    28→// ANSI color codes for terminal output
    29→const colors = {
    30→  reset: '\x1b[0m',
    31→  green: '\x1b[32m',
    32→  red: '\x1b[31m',
    33→  yellow: '\x1b[33m',
    34→  blue: '\x1b[34m',
    35→  gray: '\x1b[90m'
    36→};
    37→
    38→interface ValidationResult {
    39→  file: string;
    40→  success: boolean;
    41→  errors?: string[];
    42→}
    43→
    44→// Parse frontmatter from markdown
    45→function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    46→  const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    47→  if (!match) return { frontmatter: {}, content: raw };
    48→
    49→  const frontmatterStr = match[1];
    50→  const content = match[2].trim();
    51→
    52→  try {
    53→    const frontmatter = YAML.parse(frontmatterStr);
    54→    return { frontmatter, content };
    55→  } catch (error) {
    56→    console.error('Failed to parse frontmatter:', error);
    57→    return { frontmatter: {}, content: raw };
    58→  }
    59→}
    60→
    61→// Validate a single file against a Zod schema
    62→function validateFile(
    63→  filePath: string,
    64→  schema: z.ZodSchema,
    65→  data: unknown
    66→): ValidationResult {
    67→  try {
    68→    schema.parse(data);
    69→    return { file: filePath, success: true };
    70→  } catch (error) {
    71→    if (error instanceof z.ZodError) {
    72→      const errors = error.errors.map(err => {
    73→        const path = err.path.join('.');
    74→        return `  ${colors.red}✗${colors.reset} ${path}: ${err.message}`;
    75→      });
    76→      return { file: filePath, success: false, errors };
    77→    }
    78→    return {
    79→      file: filePath,
    80→      success: false,
    81→      errors: [`  ${colors.red}✗${colors.reset} Unknown error: ${error}`]
    82→    };
    83→  }
    84→}
    85→
    86→// Validate YAML files
    87→function validateYamlFile(filePath: string, schema: z.ZodSchema): ValidationResult {
    88→  try {
    89→    const content = readFileSync(filePath, 'utf-8');
    90→    const data = YAML.parse(content);
    91→    return validateFile(filePath, schema, data);
    92→  } catch (error) {
    93→    return {
    94→      file: filePath,
    95→      success: false,
    96→      errors: [`  ${colors.red}✗${colors.reset} Failed to read/parse: ${error}`]
    97→    };
    98→  }
    99→}
   100→
   101→// Validate markdown files with frontmatter
   102→function validateMarkdownFile(filePath: string, schema: z.ZodSchema): ValidationResult {
   103→  try {
   104→    const content = readFileSync(filePath, 'utf-8');
   105→    const { frontmatter, content: body } = parseFrontmatter(content);
   106→
   107→    // Combine frontmatter with content for validation
   108→    const data = { ...frontmatter, content: body };
   109→    return validateFile(filePath, schema, data);
   110→  } catch (error) {
   111→    return {
   112→      file: filePath,
   113→      success: false,
   114→      errors: [`  ${colors.red}✗${colors.reset} Failed to read/parse: ${error}`]
   115→    };
   116→  }
   117→}
   118→
   119→// Main validation function
   120→async function validateAllContent(): Promise<void> {
   121→  console.log(`${colors.blue}Validating portfolio content...${colors.reset}\n`);
   122→
   123→  const results: ValidationResult[] = [];
   124→  const contentDir = join(process.cwd(), 'content');
   125→
   126→  // Validate single YAML files
   127→  const singleYamlFiles = [
   128→    { path: 'profile.yaml', schema: ProfileSchema, label: 'Profile' },
   129→    { path: 'experience/index.yaml', schema: ExperienceSchema, label: 'Experience' },
   130→    { path: 'testimonials/index.yaml', schema: TestimonialsSchema, label: 'Testimonials' },
   131→    { path: 'certifications/index.yaml', schema: CertificationsSchema, label: 'Certifications' },
   132→    { path: 'skills/index.yaml', schema: SkillsSchema, label: 'Skills' },
   133→    { path: 'social/index.yaml', schema: SocialSchema, label: 'Social' },
   134→    { path: 'passion-projects/index.yaml', schema: PassionProjectsSchema, label: 'Passion Projects' }
   135→  ];
   136→
   137→  console.log(`${colors.gray}Validating YAML files...${colors.reset}`);
   138→  for (const { path, schema, label } of singleYamlFiles) {
   139→    const fullPath = join(contentDir, path);
   140→    const result = validateYamlFile(fullPath, schema);
   141→    results.push(result);
   142→
   143→    if (result.success) {
   144→      console.log(`${colors.green}✓${colors.reset} ${label} (${path})`);
   145→    } else {
   146→      console.log(`${colors.red}✗${colors.reset} ${label} (${path})`);
   147→      result.errors?.forEach(err => console.log(err));
   148→    }
   149→  }
   150→
   151→  // Validate case studies
   152→  console.log(`\n${colors.gray}Validating case studies...${colors.reset}`);
   153→  const caseStudiesDir = join(contentDir, 'case-studies');
   154→  const caseStudyFiles = readdirSync(caseStudiesDir).filter(f => f.endsWith('.md'));
   155→
   156→  for (const file of caseStudyFiles) {
   157→    const fullPath = join(caseStudiesDir, file);
   158→    const result = validateMarkdownFile(fullPath, CaseStudySchema);
   159→    results.push(result);
   160→
   161→    if (result.success) {
   162→      console.log(`${colors.green}✓${colors.reset} Case Study: ${file}`);
   163→    } else {
   164→      console.log(`${colors.red}✗${colors.reset} Case Study: ${file}`);
   165→      result.errors?.forEach(err => console.log(err));
   166→    }
   167→  }
   168→
   169→  // Validate blog posts
   170→  console.log(`\n${colors.gray}Validating blog posts...${colors.reset}`);
   171→  const blogDir = join(contentDir, 'blog');
   172→  const blogFiles = readdirSync(blogDir).filter(f => f.endsWith('.md'));
   173→
   174→  for (const file of blogFiles) {
   175→    const fullPath = join(blogDir, file);
   176→    const result = validateMarkdownFile(fullPath, BlogPostSchema);
   177→    results.push(result);
   178→
   179→    if (result.success) {
   180→      console.log(`${colors.green}✓${colors.reset} Blog Post: ${file}`);
   181→    } else {
   182→      console.log(`${colors.red}✗${colors.reset} Blog Post: ${file}`);
   183→      result.errors?.forEach(err => console.log(err));
   184→    }
   185→  }
   186→
   187→  // Summary
   188→  const passed = results.filter(r => r.success).length;
   189→  const failed = results.filter(r => !r.success).length;
   190→
   191→  console.log('\n' + '─'.repeat(50));
   192→  if (failed === 0) {
   193→    console.log(`${colors.green}✓ All ${passed} content files validated successfully!${colors.reset}`);
   194→    process.exit(0);
   195→  } else {
   196→    console.log(`${colors.red}✗ ${failed} file(s) failed validation${colors.reset}`);
   197→    console.log(`${colors.green}✓ ${passed} file(s) passed${colors.reset}`);
   198→    process.exit(1);
   199→  }
   200→}
   201→
   202→// Run validation
   203→validateAllContent().catch((error) => {
   204→  console.error(`${colors.red}Fatal error:${colors.reset}`, error);
   205→  process.exit(1);
   206→});
   207→
```

Result:

```
total 936
drwxr-xr-x@ 10 dfotesco  staff     320 Dec 11 06:06 .
drwxr-xr-x@ 30 dfotesco  staff     960 Dec 18 05:09 ..
-rw-r--r--@  1 dfotesco  staff    6148 Dec 11 05:53 .DS_Store
-rw-r--r--@  1 dfotesco  staff      16 Dec 10 14:49 CNAME
-rw-r--r--@  1 dfotesco  staff   75575 Dec 10 12:54 dmitrii-fotesco-resume.pdf
-rw-r--r--@  1 dfotesco  staff  376651 Dec 10 12:54 favicon.png
drwxr-xr-x@  9 dfotesco  staff     288 Dec 10 12:54 images
-rw-r--r--@  1 dfotesco  staff    3261 Dec 11 06:20 linkedin-banner-generator.html
-rw-r--r--@  1 dfotesco  staff    2479 Dec 10 14:49 thumbnail-generator.html
-rw-r--r--@  1 dfotesco  staff    1497 Dec 10 12:54 vite.svg
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-11-portfolio-retrospective.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-01-ai-agents-meet-onchain.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-11-15-etf-grade-staking.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-15-why-validation-matters.md
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Perfect! Now let me check out one more key component to understand the complete picture:

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./src/components/sections/HeroSection.tsx`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Bash** Count test files

`find /Users/dfotesco/Portfolio/portfolio/src/tests -name "*.test.*" -type f | wc -l`

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Tool use: **Read** `./README.md`

Result:

```
1→import { profile } from '../../lib/content';
     2→
     3→interface HeroSectionProps {
     4→  isMobile: boolean;
     5→  isTablet: boolean;
     6→  isLoaded: boolean;
     7→}
     8→
     9→export default function HeroSection({ isMobile, isTablet, isLoaded }: HeroSectionProps) {
    10→  const { hero } = profile;
    11→
    12→  return (
    13→    <>
    14→      <style>{`
    15→        .hero-primary-btn {
    16→          background: var(--color-accent);
    17→          color: var(--color-background);
    18→          transition: all 0.2s ease;
    19→        }
    20→        .hero-primary-btn:hover {
    21→          background: var(--color-accent-hover);
    22→        }
    23→        .hero-secondary-btn {
    24→          background: transparent;
    25→          border: 1px solid var(--color-border);
    26→          color: var(--color-text-secondary);
    27→          transition: all 0.2s ease;
    28→        }
    29→        .hero-secondary-btn:hover {
    30→          border-color: var(--color-text-tertiary);
    31→          color: var(--color-text-primary);
    32→        }
    33→      `}</style>
    34→      <section style={{
    35→        display: 'flex',
    36→        flexDirection: 'column',
    37→        justifyContent: 'center',
    38→        padding: isMobile ? '100px 24px 48px' : '120px 64px 64px',
    39→        maxWidth: 'var(--layout-max-width)',
    40→        margin: '0 auto',
    41→        position: 'relative',
    42→        zIndex: 1
    43→      }}>
    44→        <div style={{
    45→          opacity: isLoaded ? 1 : 0,
    46→          transform: isLoaded ? 'translateY(0)' : 'translateY(40px)',
    47→          transition: 'all 1s var(--ease-smooth) 0.2s'
    48→        }}>
    49→          {/* Eyebrow */}
    50→          <div style={{
    51→            display: 'flex',
    52→            alignItems: 'center',
    53→            gap: 'var(--space-md)',
    54→            marginBottom: isMobile ? '20px' : 'var(--space-lg)'
    55→          }}>
    56→            <div style={{
    57→              width: '8px',
    58→              height: '8px',
    59→              background: 'var(--color-success)',
    60→              borderRadius: '50%'
    61→            }} />
    62→            <span style={{
    63→              fontSize: '13px',
    64→              fontWeight: 500,
    65→              letterSpacing: '0.1em',
    66→              textTransform: 'uppercase',
    67→              color: 'var(--color-text-tertiary)'
    68→            }}>
    69→              {hero.status}
    70→            </span>
    71→          </div>
    72→
    73→          {/* Main headline - Editorial style */}
    74→          <h1 style={{
    75→            fontSize: isMobile ? '11vw' : isTablet ? '9vw' : '8vw',
    76→            fontFamily: 'var(--font-serif)',
    77→            fontWeight: 400,
    78→            fontStyle: 'italic',
    79→            lineHeight: 0.95,
    80→            margin: 0,
    81→            letterSpacing: '-0.03em',
    82→            color: 'var(--color-text-primary)',
    83→            transition: 'color var(--transition-medium)'
    84→          }}>
    85→            {hero.headline.map((segment, index) => {
    86→              const style: React.CSSProperties = {};
    87→              if (segment.style === 'muted') {
    88→                style.fontStyle = 'normal';
    89→                style.color = 'var(--color-text-tertiary)';
    90→              } else if (segment.style === 'accent') {
    91→                style.color = 'var(--color-accent)';
    92→              }
    93→              return (
    94→                <span key={index}>
    95→                  {index > 0 && <br />}
    96→                  <span style={style}>{segment.text}</span>
    97→                </span>
    98→              );
    99→            })}
   100→          </h1>
   101→
   102→          {/* Subheadline */}
   103→          <div style={{
   104→            display: 'grid',
   105→            gridTemplateColumns: isMobile ? '1fr' : '1fr 1fr',
   106→            gap: isMobile ? 'var(--space-lg)' : 'var(--space-2xl)',
   107→            marginTop: isMobile ? 'var(--space-xl)' : '40px',
   108→            alignItems: 'start'
   109→          }}>
   110→            <p style={{
   111→              fontSize: isMobile ? '17px' : '19px',
   112→              color: 'var(--color-text-secondary)',
   113→              lineHeight: 1.6,
   114→              fontWeight: 400,
   115→              maxWidth: '480px'
   116→            }}>
   117→              {hero.subheadline}
   118→            </p>
   119→
   120→            <div style={{
   121→              display: 'flex',
   122→              flexDirection: 'column',
   123→              gap: 'var(--space-md)'
   124→            }}>
   125→              <a
   126→                href={hero.cta.primary.href}
   127→                className="hero-primary-btn"
   128→                style={{
   129→                  padding: isMobile ? '16px 28px' : '18px 32px',
   130→                  textDecoration: 'none',
   131→                  fontSize: '14px',
   132→                  fontWeight: 600,
   133→                  letterSpacing: '0.02em',
   134→                  display: 'inline-flex',
   135→                  alignItems: 'center',
   136→                  justifyContent: 'space-between',
   137→                  width: isMobile ? '100%' : 'fit-content',
   138→                  minWidth: '220px'
   139→                }}
   140→              >
   141→                <span>{hero.cta.primary.label}</span>
   142→                <span style={{ fontFamily: 'var(--font-serif)', fontStyle: 'italic' }}>↓</span>
   143→              </a>
   144→              <a
   145→                href={hero.cta.secondary.href}
   146→                download="Dmitrii-Fotesco-Resume.pdf"
   147→                target="_blank"
   148→                rel="noopener noreferrer"
   149→                className="hero-secondary-btn"
   150→                style={{
   151→                  padding: isMobile ? '16px 28px' : '18px 32px',
   152→                  textDecoration: 'none',
   153→                  fontSize: '14px',
   154→                  fontWeight: 600,
   155→                  letterSpacing: '0.02em',
   156→                  display: 'inline-flex',
   157→                  alignItems: 'center',
   158→                  justifyContent: 'space-between',
   159→                  width: isMobile ? '100%' : 'fit-content',
   160→                  minWidth: '220px'
   161→                }}
   162→              >
   163→                <span>{hero.cta.secondary.label}</span>
   164→                <svg
   165→                  width="14"
   166→                  height="14"
   167→                  viewBox="0 0 24 24"
   168→                  fill="none"
   169→                  stroke="currentColor"
   170→                  strokeWidth="2"
   171→                  strokeLinecap="round"
   172→                  strokeLinejoin="round"
   173→                  style={{ opacity: 0.7 }}
   174→                >
   175→                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
   176→                  <polyline points="7 10 12 15 17 10" />
   177→                  <line x1="12" y1="15" x2="12" y2="3" />
   178→                </svg>
   179→              </a>
   180→            </div>
   181→          </div>
   182→        </div>
   183→      </section>
   184→    </>
   185→  );
   186→}
   187→
```

Result:

```
1→# Dmitrii Fotesco | Senior Technical PM Portfolio
     2→
     3→**Status**: Active Development
     4→**Live URL**: [Insert URL]
     5→
     6→## 📚 Documentation
     7→
     8→*   **[Technical Context](./context/CODEBASE.md)**: Architecture, Pattern Guides, Component Rules.
     9→*   **[Design System](./context/DESIGN.md)**: Tokens, Theming, Typography.
    10→*   **[Roadmap](./context/ROADMAP.md)**: Current plan and upcoming features.
    11→*   **[Project History](./docs/history/)**: Refactoring logs and original prompts.
    12→
    13→## 🤖 For AI Agents
    14→**READ THIS FIRST**: [Governance & Rules](context/AGENT_RULES.md)
    15→*   **Context**: [Codebase Overview](context/CODEBASE.md)
    16→*   **Design**: [Design System](context/DESIGN.md)
    17→*   **Plan**: [Roadmap](context/ROADMAP.md)
    18→
    19→## 🚀 Quick Start
    20→
    21→\```bash
    22→npm install
    23→npm run dev
    24→\```
    25→
    26→## 🧠 For AI Agents
    27→
    28→Please read `context/CODEBASE.md` first. It is the comprehensive source of truth for this project.
    29→
```

Result:

```
7
```

_**Agent (claude-sonnet-4-5-20250929) (sidechain)**_

Excellent! I now have a comprehensive understanding of the codebase. Let me create a detailed architectural map.

## Comprehensive Portfolio Codebase Architecture Report

### 1. PROJECT OVERVIEW

**Type**: React 19 + TypeScript + Vite Single Page Application (SPA)
**Purpose**: Personal portfolio for Dmitrii Fotesco, Senior Technical PM
**Architecture**: Content-driven portfolio with YAML/MDX content management
**URL**: fotesco.dev
**Tech Stack**:
- React 19.2.0 with React DOM
- TypeScript with strict mode
- Vite 7.2.4 (build tool)
- Zod 4.1.13 (validation)
- Framer Motion 12.23.26 (animations)
- React Helmet Async (SEO)
- Gray Matter & YAML (content parsing)
- Vitest 3.2.4 (testing)

---

### 2. DIRECTORY STRUCTURE

```
portfolio/
├── content/                    # Content Layer (YAML + Markdown)
│   ├── profile.yaml           # Main profile data (hero, about, sections config)
│   ├── experience/index.yaml  # Work history
│   ├── testimonials/index.yaml
│   ├── certifications/index.yaml
│   ├── skills/index.yaml
│   ├── social/index.yaml
│   ├── passion-projects/index.yaml
│   ├── case-studies/*.md      # 6 case studies with frontmatter
│   ├── blog/*.md              # 4 blog posts with frontmatter
│   └── _templates/            # Content templates
│
├── src/
│   ├── lib/                   # Data Layer
│   │   ├── content.ts         # Content loader + validation orchestrator
│   │   ├── schemas.ts         # Zod schemas for all content types
│   │   └── likes.ts           # Blog like system (localStorage)
│   │
│   ├── types/                 # TypeScript definitions
│   │   ├── portfolio.ts       # Main content types
│   │   ├── blog.ts           # Blog post types
│   │   └── yaml.d.ts         # YAML module declarations
│   │
│   ├── components/            # UI Components
│   │   ├── sections/          # Page sections (8 components)
│   │   ├── case-study/        # Case study drawer components (7 files)
│   │   ├── common/            # Shared components (SEO, Omnibar, Background)
│   │   ├── Portfolio.tsx      # Main layout orchestrator
│   │   ├── Blog.tsx          # Blog list + modal trigger
│   │   ├── BlogPostModal.tsx  # Blog post reader
│   │   ├── LikeAnalytics.tsx  # Like analytics dashboard
│   │   └── ThemeToggle.tsx    # Theme switcher
│   │
│   ├── context/
│   │   └── ThemeContext.tsx   # Theme provider (dark/light)
│   │
│   ├── styles/
│   │   └── globals.css        # Design system CSS variables
│   │
│   ├── tests/                 # 7 test files
│   │   └── design-system/     # Design system tests
│   │
│   ├── App.tsx               # Root component
│   ├── main.tsx              # Entry point
│   └── index.css             # Global resets + imports
│
├── context/                   # Planning & Documentation
│   ├── CODEBASE.md           # Architecture docs
│   ├── DESIGN.md             # Design system documentation
│   ├── ROADMAP.md            # Strategic roadmap
│   ├── DEVLOG.md             # Development log
│   └── AGENT_RULES.md        # AI agent governance
│
├── scripts/
│   └── validate-content.ts    # Content validation CLI
│
├── public/
│   ├── images/               # Static assets
│   ├── dmitrii-fotesco-resume.pdf
│   └── favicon.png
│
└── Configuration files
    ├── vite.config.ts
    ├── vitest.config.ts
    ├── tsconfig.json (references app + node configs)
    ├── eslint.config.js
    └── package.json
```

---

### 3. DATA FLOW ARCHITECTURE

```
┌─────────────────────────────────────────────────────────────┐
│                    CONTENT LAYER (Source of Truth)          │
├─────────────────────────────────────────────────────────────┤
│  YAML Files                    Markdown Files               │
│  • profile.yaml                • case-studies/*.md          │
│  • experience/index.yaml       • blog/*.md                  │
│  • testimonials/index.yaml                                  │
│  • certifications/index.yaml   Frontmatter + Content Body   │
│  • skills/index.yaml                                        │
│  • social/index.yaml                                        │
│  • passion-projects/index.yaml                              │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│              VALIDATION LAYER (Zod Schemas)                 │
├─────────────────────────────────────────────────────────────┤
│  src/lib/schemas.ts                                         │
│  • ProfileSchema                                            │
│  • ExperienceSchema                                         │
│  • TestimonialsSchema                                       │
│  • CaseStudySchema                                          │
│  • BlogPostSchema                                           │
│  • + 5 more schemas                                         │
│                                                              │
│  Runtime Validation: content.ts validate() function         │
│  Build-time Validation: scripts/validate-content.ts         │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│            CONTENT LOADER (Data Aggregation)                │
├─────────────────────────────────────────────────────────────┤
│  src/lib/content.ts                                         │
│                                                              │
│  Import Methods:                                            │
│  • YAML: Direct import via @rollup/plugin-yaml             │
│  • Markdown: import.meta.glob('*.md', {query:'?raw'})      │
│                                                              │
│  Processing:                                                │
│  1. Parse frontmatter (YAML.parse)                         │
│  2. Validate with Zod schemas                              │
│  3. Sort & aggregate                                        │
│                                                              │
│  Exports:                                                    │
│  • profile, experience, testimonials, etc. (validated)      │
│  • caseStudies (sorted by id)                              │
│  • Helper functions (getCaseStudyBySlug, etc.)             │
│  • Aggregated 'content' object                             │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│              COMPONENT LAYER (Rendering)                    │
├─────────────────────────────────────────────────────────────┤
│  main.tsx → App.tsx → Portfolio.tsx                         │
│                                                              │
│  Portfolio.tsx (Layout orchestrator):                       │
│  • Navigation (fixed header with glassmorphism)            │
│  • Mobile menu overlay                                      │
│  • Sections (conditionally rendered):                       │
│    - HeroSection                                            │
│    - AboutSection                                           │
│    - ExperienceSection                                      │
│    - CertificationsSection                                  │
│    - CaseStudiesSection                                     │
│    - PassionProjectsSection (if profile.sections.passionProjects) │
│    - TestimonialsSection                                    │
│    - Blog (if profile.sections.blog)                       │
│  • Modals/Drawers:                                          │
│    - CaseStudyDrawer (slide-over from right)               │
│    - BlogPostModal                                          │
│  • Floating UI:                                             │
│    - Omnibar (CTA bar)                                      │
│    - ThemeToggle                                            │
│  • AmbientBackground (orbs + grid)                         │
│  • SEO component (react-helmet-async)                      │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│                  THEME LAYER (Styling)                      │
├─────────────────────────────────────────────────────────────┤
│  ThemeContext.tsx:                                          │
│  • Provider wraps app                                       │
│  • State: 'dark' | 'light'                                 │
│  • Sets data-theme attribute on <html>                     │
│  • Persists to localStorage                                │
│                                                              │
│  styles/globals.css:                                        │
│  • CSS custom properties for all design tokens             │
│  • :root { --color-* } (dark mode defaults)               │
│  • [data-theme="light"] { --color-* } (light overrides)   │
│                                                              │
│  Components use: style={{ color: 'var(--color-text-primary)' }} │
└─────────────────────────────────────────────────────────────┘
```

---

### 4. KEY ARCHITECTURAL PATTERNS

#### A. Content Schema Validation Flow

**File**: /Users/dfotesco/Portfolio/portfolio/src/lib/schemas.ts
- Defines Zod schemas for 9 content types
- Shared between runtime validation and CLI validation
- Ensures type safety from content to component

**File**: /Users/dfotesco/Portfolio/portfolio/src/lib/content.ts
- Imports YAML via Vite plugin: `import profileYaml from '../../content/profile.yaml'`
- Auto-discovers markdown files: `import.meta.glob('../../content/case-studies/*.md')`
- Validates at import time with `validate()` function
- Exports typed, validated content objects

**CLI Tool**: /Users/dfotesco/Portfolio/portfolio/scripts/validate-content.ts
- Command: `npm run validate`
- Validates all YAML and markdown files before commit
- Exit code 1 if validation fails (blocks CI/CD)

#### B. Markdown Frontmatter Processing

**Pattern**: YAML Frontmatter + Markdown Body

Example from case study:
```yaml
---
id: 1
slug: institutional-eth-staking
title: Institutional ETH Staking
company: Anchorage Digital
year: 2024–25
tags: [Staking, Custody, ETF-Grade]
hook:
  headline: Built ETF-grade staking infrastructure
  impactMetric:
    value: "Zero"
    label: slashing events
---
## The Challenge
[Markdown content here...]
```

**Processing**:
1. `parseFrontmatter()` extracts YAML and content via regex
2. YAML.parse() converts frontmatter to object
3. Combine: `{ ...frontmatter, content: markdownBody }`
4. Validate with Zod schema
5. Pass to components

#### C. Theme System Architecture

**File**: /Users/dfotesco/Portfolio/portfolio/src/context/ThemeContext.tsx

```typescript
// State management
const [theme, setTheme] = useState<'dark' | 'light'>(
  // Priority: localStorage > system preference > 'dark'
)

// Side effects
useEffect(() => {
  document.documentElement.setAttribute('data-theme', theme)
  localStorage.setItem('portfolio-theme', theme)
})
```

**File**: /Users/dfotesco/Portfolio/portfolio/src/styles/globals.css

```css
:root {
  --color-background: #08080a;  /* Dark mode default */
  --color-accent: #c29a6c;
}

[data-theme="light"] {
  --color-background: #fafafa;  /* Light mode override */
  --color-accent: #8a6642;
}
```

**Component Usage**:
```tsx
<div style={{ 
  background: 'var(--color-background)',
  color: 'var(--color-text-primary)' 
}} />
```

**Migration Note**: Previously used `useTheme().colors` (deprecated). Now uses CSS variables exclusively.

#### D. Component Communication Patterns

**State Lifting**: Portfolio.tsx manages global state
```tsx
const [modalCase, setModalCase] = useState<CaseStudy | null>(null)
const [hoveredCase, setHoveredCase] = useState<number | null>(null)
```

**Prop Drilling**: Pass callbacks and state to child sections
```tsx
<CaseStudiesSection
  hoveredCase={hoveredCase}
  setHoveredCase={setHoveredCase}
  onCaseClick={(study) => setModalCase(study)}
/>
```

**Modal Pattern**: Conditional rendering with backdrop
```tsx
{modalCase && (
  <CaseStudyDrawer
    isOpen={!!modalCase}
    onClose={() => setModalCase(null)}
    caseStudy={modalCase}
  />
)}
```

---

### 5. CONTENT SCHEMAS & TYPES

**Core Content Types** (defined in /Users/dfotesco/Portfolio/portfolio/src/types/portfolio.ts):

1. **Profile** - Hero, about, section visibility flags
2. **Experience** - Job history with highlights
3. **Testimonials** - Client/colleague reviews
4. **Certifications** - Professional credentials + onchain identity
5. **Skills** - Categorized skill lists
6. **Social** - Social links + contact CTA
7. **CaseStudy** - Project case studies with metrics
8. **PassionProject** - Side projects
9. **BlogPost** - Blog posts with tags

**Key Schema Features**:
- Optional fields with `.optional()` or `.nullable()`
- Enum validation: `z.enum(['contact', 'calendly', 'linkedin'])`
- Date format validation: `z.string().regex(/^\d{4}-\d{2}-\d{2}$/)`
- Nested objects with structured data
- Array validation with type constraints

**Aggregated Content Interface**:
```typescript
interface PortfolioContent {
  profile: Profile;
  experience: Experience;
  testimonials: Testimonials;
  certifications: Certifications;
  skills: Skills;
  social: Social;
  caseStudies: CaseStudy[];
  passionProjects: PassionProject[];
}
```

---

### 6. COMPONENT ARCHITECTURE

#### Section Components (8 files in src/components/sections/)

**Pattern**: All receive `isMobile`, `isTablet`, `sectionPadding` props

1. **HeroSection.tsx** - Large serif headline with status indicator
2. **AboutSection.tsx** - Bio + stats grid
3. **ExperienceSection.tsx** - Timeline of jobs
4. **CertificationsSection.tsx** - Credential cards + ENS identity
5. **CaseStudiesSection.tsx** - Case study grid with hover states
6. **PassionProjectsSection.tsx** - Side project cards
7. **TestimonialsSection.tsx** - Client testimonials
8. **FooterSection.tsx** - Footer with social links

#### Case Study Drawer Components (7 files in src/components/case-study/)

**Architecture**: Modular drawer split into sub-components

1. **CaseStudyDrawer.tsx** - Main container with slide-in animation
2. **CaseStudyHeader.tsx** - Close button + navigation
3. **CaseStudyHero.tsx** - Thumbnail + title
4. **CaseStudyMetrics.tsx** - Impact metrics display
5. **CaseStudyLinks.tsx** - External links (demo, GitHub, docs, media)
6. **CaseStudyContent.tsx** - Markdown rendering
7. **CaseStudyFooter.tsx** - CTA + navigation arrows

**State Management**: Framer Motion animations with `<AnimatePresence>`

#### Common Components (3 files in src/components/common/)

1. **AmbientBackground.tsx** - Animated orbs + grid overlay
2. **Omnibar.tsx** - Floating action bar (email, resume, book time)
3. **SEO.tsx** - Dynamic meta tags via react-helmet-async

#### Blog Components

1. **Blog.tsx** - Blog list with auto-discovery of markdown files
2. **BlogPostModal.tsx** - Full-screen reader with:
   - Reading progress bar
   - Table of contents with scroll spy
   - Code syntax highlighting
   - Copy code buttons
   - Like system
   - Social sharing
   - Related posts

---

### 7. DESIGN SYSTEM

**File**: /Users/dfotesco/Portfolio/portfolio/src/styles/globals.css

#### CSS Custom Properties

**Colors** (Dark → Light):
- Background: `#08080a` → `#fafafa`
- Text Primary: `#e8e6e3` → `#050505`
- Accent: `#c29a6c` → `#8a6642`
- Success: `#4ade80` → `#22c55e`

**Spacing Scale**:
```css
--space-xs: 4px
--space-sm: 8px
--space-md: 16px
--space-lg: 24px
--space-xl: 32px
--space-2xl: 48px
--space-3xl: 64px
--space-4xl: 80px
--space-5xl: 96px
--space-6xl: 128px
```

**Typography**:
- Serif: 'Instrument Serif' (italics for headlines)
- Sans: 'Instrument Sans' (body + UI)

**Layout**:
- Max width: `1600px` (wide, premium feel)
- Nav height: `20px` (compact)
- Drawer width: `min(960px, 95vw)`
- Drawer z-index: `200`

**Effects**:
- Transitions: `cubic-bezier(0.16, 1, 0.3, 1)`
- Glass surfaces: `backdrop-filter: blur(12px)`
- Ambient orbs: Radial gradients with animation
- Grid overlay: Dot pattern with opacity

---

### 8. SPECIAL FEATURES

#### A. Blog Like System
**File**: /Users/dfotesco/Portfolio/portfolio/src/lib/likes.ts

- Client-side only (localStorage)
- User fingerprinting (canvas + navigator)
- Like/unlike with count tracking
- Analytics dashboard component
- Export functionality for data analysis

#### B. Content Validation CLI
**File**: /Users/dfotesco/Portfolio/portfolio/scripts/validate-content.ts

- Validates all YAML and markdown files
- Color-coded terminal output
- Exit code for CI/CD integration
- Detailed error messages with field paths

#### C. Responsive Breakpoints
```typescript
const isMobile = windowWidth < 768
const isTablet = windowWidth >= 768 && windowWidth < 1024
const isDesktop = windowWidth >= 1024
```

#### D. Accessibility Features
- Skip to content link
- ARIA labels on interactive elements
- Keyboard navigation (ESC to close modals)
- Focus indicators
- Semantic HTML structure

---

### 9. BUILD & DEPLOYMENT

**Build Process**:
1. TypeScript compilation: `tsc -b`
2. Vite build: `vite build`
3. Output: `/dist` directory
4. Validation: `npm run validate` (pre-commit)

**Vite Configuration** (/Users/dfotesco/Portfolio/portfolio/vite.config.ts):
```typescript
export default defineConfig({
  plugins: [
    react(),  // React Fast Refresh
    yaml()    // @rollup/plugin-yaml for YAML imports
  ],
  base: '/',
})
```

**Testing**:
- Vitest for unit tests
- @testing-library/react for component tests
- jsdom for DOM simulation
- 7 test files with 187+ passing tests

---

### 10. DEVELOPMENT WORKFLOW

#### Content Updates
1. Edit YAML/markdown in `/content`
2. Run `npm run validate` to check schemas
3. Vite hot-reloads automatically
4. Content appears immediately

#### Adding New Case Study
1. Copy template from `content/_templates/case-study.md`
2. Fill frontmatter fields
3. Write markdown content
4. Validate: `npm run validate`
5. Auto-discovered by `import.meta.glob()`

#### Adding New Blog Post
1. Create `YYYY-MM-DD-slug.md` in `content/blog/`
2. Add frontmatter (title, date, excerpt, tags)
3. Write markdown content
4. Validate and auto-discovered

#### Theme Development
1. Add CSS variable to `styles/globals.css`
2. Define for both `:root` (dark) and `[data-theme="light"]`
3. Use in components: `var(--your-variable)`
4. Test theme toggle

---

### 11. IMPORTANT FILES REFERENCE

**Configuration**:
- `/Users/dfotesco/Portfolio/portfolio/vite.config.ts` - Vite setup
- `/Users/dfotesco/Portfolio/portfolio/vitest.config.ts` - Test config
- `/Users/dfotesco/Portfolio/portfolio/tsconfig.json` - TypeScript config
- `/Users/dfotesco/Portfolio/portfolio/package.json` - Dependencies + scripts

**Core Logic**:
- `/Users/dfotesco/Portfolio/portfolio/src/lib/content.ts` - Content loader
- `/Users/dfotesco/Portfolio/portfolio/src/lib/schemas.ts` - Validation schemas
- `/Users/dfotesco/Portfolio/portfolio/src/context/ThemeContext.tsx` - Theme provider
- `/Users/dfotesco/Portfolio/portfolio/src/components/Portfolio.tsx` - Main layout

**Styles**:
- `/Users/dfotesco/Portfolio/portfolio/src/styles/globals.css` - Design system
- `/Users/dfotesco/Portfolio/portfolio/src/index.css` - Global resets

**Documentation**:
- `/Users/dfotesco/Portfolio/portfolio/context/CODEBASE.md` - Architecture docs
- `/Users/dfotesco/Portfolio/portfolio/context/DESIGN.md` - Design system guide
- `/Users/dfotesco/Portfolio/portfolio/context/ROADMAP.md` - Strategic plan
- `/Users/dfotesco/Portfolio/portfolio/README.md` - Quick start

**Validation**:
- `/Users/dfotesco/Portfolio/portfolio/scripts/validate-content.ts` - CLI tool

---

### 12. KEY INSIGHTS

1. **Content-First Architecture**: All content lives in structured YAML/markdown, validated by Zod schemas. Components are purely presentational.

2. **Type Safety End-to-End**: Zod schemas → TypeScript types → Component props. No runtime surprises.

3. **CSS Variables for Theming**: Moved away from context-based colors to CSS custom properties. Instant theme switching, no re-renders.

4. **Auto-Discovery Pattern**: `import.meta.glob()` automatically discovers case studies and blog posts. No manual registration needed.

5. **Validation-First Workflow**: `npm run validate` catches errors before they reach production. CLI blocks bad commits.

6. **Modular Component Design**: Large components (CaseStudyModal) refactored into smaller, focused sub-components.

7. **Premium Design System**: Instrument Serif + Sans fonts, glassmorphism, ambient orbs, smooth animations via Framer Motion.

8. **Accessibility Built-In**: Skip links, ARIA labels, keyboard navigation, semantic HTML throughout.

9. **Blog as First-Class Feature**: Full reading experience with progress tracking, TOC, code highlighting, likes, and social sharing.

10. **AI-Friendly Documentation**: Comprehensive `/context` directory with architecture, design system, and governance rules for AI agents.

---

This portfolio represents a sophisticated, production-ready React application with a clean separation between content, business logic, and presentation. The architecture prioritizes developer experience, type safety, and maintainability while delivering a premium user experience.

