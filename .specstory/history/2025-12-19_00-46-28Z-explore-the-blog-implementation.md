<!-- Generated by SpecStory -->

# 2025-12-19 00:46:28Z

<!-- Claude Code Session 624e4926-602d-4550-a4ea-eb55180f5f48 (2025-12-19_00-46-28Z) -->

_**User (sidechain)**_

Explore the blog implementation in this portfolio codebase. Find:
1. The current blog modal component and how it's triggered
2. The BlogSection component and its structure
3. How blog posts are loaded and rendered
4. The blog content files and their structure
5. Any routing setup that exists

Provide file paths and key code snippets that show how the blog currently works.

---

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

I'll help you explore the blog implementation in this portfolio codebase. Let me start by searching for blog-related files and components.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** Find all blog-related files

`find /Users/dfotesco/Portfolio/portfolio -type f -name "*blog*" 2>/dev/null | head -20`

Result:

```
/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-dark.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-light.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-dark.html
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-stitch-light.html
/Users/dfotesco/Portfolio/portfolio/.git/logs/refs/remotes/origin/claude/evaluate-blog-ux-SfqKl
/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts
/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
/Users/dfotesco/Portfolio/portfolio/.git/logs/refs/remotes/origin/claude/evaluate-blog-ux-SfqKl
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-dark.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-dark.html
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-light.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-stitch-light.html
```

Result:

```
No files found
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/content/blog/.gitkeep
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-11-15-etf-grade-staking.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-01-ai-agents-meet-onchain.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-11-portfolio-retrospective.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-15-why-validation-matters.md
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me search for components related to blogs:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Grep**

Result:

```
No files found
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx
```

Result:

```
No files found
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Great! Let me read the key files I found:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/Blog.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/BlogPostModal.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/types/blog.ts`

Result:

```
1→import { useState } from 'react';
     2→import type { BlogPost } from '../types/blog';
     3→import BlogPostModal from './BlogPostModal';
     4→
     5→// Auto-discover blog posts using import.meta.glob
     6→const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
     7→
     8→interface BlogProps {
     9→    isMobile: boolean;
    10→    isTablet: boolean;
    11→}
    12→
    13→// Parse frontmatter from markdown
    14→function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    15→    const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    16→    if (!match) return { frontmatter: {}, content: raw };
    17→
    18→    const frontmatterStr = match[1];
    19→    const content = match[2];
    20→
    21→    const frontmatter: Record<string, unknown> = {};
    22→    const lines = frontmatterStr.split('\n');
    23→
    24→    for (const line of lines) {
    25→        const colonIndex = line.indexOf(':');
    26→        if (colonIndex === -1) continue;
    27→
    28→        const key = line.slice(0, colonIndex).trim();
    29→        let value = line.slice(colonIndex + 1).trim();
    30→
    31→        // Handle arrays
    32→        if (value.startsWith('[') && value.endsWith(']')) {
    33→            const arrayContent = value.slice(1, -1);
    34→            frontmatter[key] = arrayContent.split(',').map(item =>
    35→                item.trim().replace(/^["']|["']$/g, '')
    36→            );
    37→        }
    38→        // Handle quoted strings
    39→        else if (value.startsWith('"') && value.endsWith('"')) {
    40→            frontmatter[key] = value.slice(1, -1);
    41→        }
    42→        // Handle null
    43→        else if (value === 'null') {
    44→            frontmatter[key] = null;
    45→        }
    46→        // Regular string
    47→        else {
    48→            frontmatter[key] = value;
    49→        }
    50→    }
    51→
    52→    return { frontmatter, content };
    53→}
    54→
    55→// Calculate reading time
    56→function calculateReadingTime(content: string): number {
    57→    const wordsPerMinute = 200;
    58→    const words = content.split(/\s+/).length;
    59→    return Math.ceil(words / wordsPerMinute);
    60→}
    61→
    62→// Extract slug from filename (YYYY-MM-DD-slug.md → slug)
    63→function extractSlugFromFilename(path: string): string {
    64→    const filename = path.split('/').pop() || '';
    65→    // Remove .md extension and date prefix (YYYY-MM-DD-)
    66→    return filename.replace(/^\d{4}-\d{2}-\d{2}-/, '').replace(/\.md$/, '');
    67→}
    68→
    69→// Parse all blog posts (auto-discovered)
    70→function parseBlogPosts(): BlogPost[] {
    71→    const posts = Object.entries(blogPostFiles).map(([path, module]) => {
    72→        const raw = (module as any).default as string;
    73→        const slug = extractSlugFromFilename(path);
    74→        const { frontmatter, content } = parseFrontmatter(raw);
    75→
    76→        return {
    77→            slug,
    78→            title: frontmatter.title as string || 'Untitled',
    79→            date: frontmatter.date as string || new Date().toISOString().split('T')[0],
    80→            excerpt: frontmatter.excerpt as string || '',
    81→            tags: (frontmatter.tags as string[]) || [],
    82→            thumbnail: frontmatter.thumbnail as string | null || null,
    83→            readingTime: calculateReadingTime(content),
    84→            content
    85→        };
    86→    });
    87→
    88→    return posts.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
    89→}
    90→
    91→export default function Blog({ isMobile, isTablet }: BlogProps) {
    92→    const [hoveredPost, setHoveredPost] = useState<string | null>(null);
    93→    const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null);
    94→
    95→    const posts = parseBlogPosts();
    96→
    97→    const formatDate = (dateStr: string) => {
    98→        const date = new Date(dateStr);
    99→        return date.toLocaleDateString('en-US', {
   100→            month: '2-digit',
   101→            day: '2-digit',
   102→            year: '2-digit'
   103→        }).replace(/\//g, '.');
   104→    };
   105→
   106→    const handleNavigate = (direction: 'prev' | 'next') => {
   107→        if (!selectedPost) return;
   108→        const currentIndex = posts.findIndex(p => p.slug === selectedPost.slug);
   109→        const newIndex = direction === 'prev' ? currentIndex - 1 : currentIndex + 1;
   110→        if (newIndex >= 0 && newIndex < posts.length) {
   111→            setSelectedPost(posts[newIndex]);
   112→        }
   113→    };
   114→
   115→    const getRelatedPosts = (currentPost: BlogPost): BlogPost[] => {
   116→        if (!currentPost.tags || currentPost.tags.length === 0) return [];
   117→
   118→        // Find posts with shared tags, excluding current post
   119→        const relatedPosts = posts
   120→            .filter(post => post.slug !== currentPost.slug)
   121→            .map(post => {
   122→                const sharedTags = post.tags.filter(tag => currentPost.tags.includes(tag));
   123→                return { post, sharedTagCount: sharedTags.length };
   124→            })
   125→            .filter(({ sharedTagCount }) => sharedTagCount > 0)
   126→            .sort((a, b) => b.sharedTagCount - a.sharedTagCount)
   127→            .slice(0, 3) // Max 3 related posts
   128→            .map(({ post }) => post);
   129→
   130→        return relatedPosts;
   131→    };
   132→
   133→    const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
   134→
   135→    return (
   136→        <>
   137→            <section id="blog" style={{
   138→                padding: sectionPadding,
   139→                maxWidth: 'var(--layout-max-width)',
   140→                margin: '0 auto',
   141→                position: 'relative',
   142→                zIndex: 1
   143→            }}>
   144→                {/* Section label */}
   145→                <div style={{
   146→                    display: 'flex',
   147→                    alignItems: 'center',
   148→                    gap: 'var(--space-lg)',
   149→                    marginBottom: isMobile ? 'var(--space-xl)' : '40px'
   150→                }}>
   151→                    <span style={{
   152→                        fontSize: '11px',
   153→                        fontWeight: 600,
   154→                        letterSpacing: '0.15em',
   155→                        textTransform: 'uppercase',
   156→                        color: 'var(--color-text-muted)'
   157→                    }}>
   158→                        Insights
   159→                    </span>
   160→                    <div style={{
   161→                        flex: 1,
   162→                        height: '1px',
   163→                        background: 'var(--color-border-light)'
   164→                    }} />
   165→                </div>
   166→
   167→                {/* Section header */}
   168→                <div style={{
   169→                    marginBottom: isMobile ? 'var(--space-xl)' : 'var(--space-2xl)'
   170→                }}>
   171→                    <h2 style={{
   172→                        fontSize: isMobile ? '28px' : isTablet ? '36px' : '42px',
   173→                        fontFamily: 'var(--font-serif)',
   174→                        fontWeight: 400,
   175→                        fontStyle: 'italic',
   176→                        color: 'var(--color-text-primary)',
   177→                        marginBottom: 'var(--space-md)',
   178→                        letterSpacing: '-0.02em',
   179→                        lineHeight: 1.2
   180→                    }}>
   181→                        Thoughts on building at the edge
   182→                    </h2>
   183→                    <p style={{
   184→                        fontSize: '15px',
   185→                        color: 'var(--color-text-tertiary)',
   186→                        maxWidth: '600px',
   187→                        lineHeight: 1.6
   188→                    }}>
   189→                        Reflections on product management, crypto infrastructure, and the intersection of AI with on-chain execution.
   190→                    </p>
   191→                </div>
   192→
   193→                {/* Blog posts list */}
   194→                <div style={{
   195→                    display: 'flex',
   196→                    flexDirection: 'column',
   197→                    gap: '0'
   198→                }}>
   199→                    {posts.map((post, index) => (
   200→                        <article
   201→                            key={post.slug}
   202→                            style={{
   203→                                borderTop: index === 0 ? '1px solid var(--color-border)' : 'none',
   204→                                borderBottom: '1px solid var(--color-border)',
   205→                                padding: isMobile ? '28px 0' : '36px 0',
   206→                                cursor: 'pointer',
   207→                                transition: 'all 0.3s ease',
   208→                                background: hoveredPost === post.slug ? 'var(--color-card-hover)' : 'transparent'
   209→                            }}
   210→                            onMouseEnter={() => !isMobile && setHoveredPost(post.slug)}
   211→                            onMouseLeave={() => !isMobile && setHoveredPost(null)}
   212→                            onClick={() => setSelectedPost(post)}
   213→                        >
   214→                            <div style={{
   215→                                display: 'grid',
   216→                                gridTemplateColumns: isMobile ? '1fr' : isTablet ? '120px 1fr' : '140px 1fr auto',
   217→                                gap: isMobile ? 'var(--space-md)' : 'var(--space-xl)',
   218→                                alignItems: 'start'
   219→                            }}>
   220→                                {/* Date */}
   221→                                <div style={{
   222→                                    fontSize: '12px',
   223→                                    fontWeight: 500,
   224→                                    letterSpacing: '0.05em',
   225→                                    color: 'var(--color-text-muted)',
   226→                                    display: 'flex',
   227→                                    alignItems: 'center',
   228→                                    gap: 'var(--space-sm)'
   229→                                }}>
   230→                                    <span>{formatDate(post.date)}</span>
   231→                                    <span style={{ color: 'var(--color-separator)' }}>•</span>
   232→                                    <span>{post.readingTime} min</span>
   233→                                </div>
   234→
   235→                                {/* Content */}
   236→                                <div>
   237→                                    <h3 style={{
   238→                                        fontSize: isMobile ? '22px' : '26px',
   239→                                        fontFamily: 'var(--font-serif)',
   240→                                        fontWeight: 400,
   241→                                        fontStyle: 'italic',
   242→                                        color: 'var(--color-text-primary)',
   243→                                        marginBottom: 'var(--space-sm)',
   244→                                        letterSpacing: '-0.02em',
   245→                                        lineHeight: 1.2,
   246→                                        transition: 'color 0.2s ease'
   247→                                    }}>
   248→                                        {post.title}
   249→                                    </h3>
   250→
   251→                                    <p style={{
   252→                                        fontSize: '14px',
   253→                                        color: 'var(--color-text-tertiary)',
   254→                                        lineHeight: 1.6,
   255→                                        marginBottom: 'var(--space-md)',
   256→                                        maxWidth: '600px'
   257→                                    }}>
   258→                                        {post.excerpt}
   259→                                    </p>
   260→
   261→                                    {/* Tags */}
   262→                                    <div style={{
   263→                                        display: 'flex',
   264→                                        gap: 'var(--space-sm)',
   265→                                        flexWrap: 'wrap'
   266→                                    }}>
   267→                                        {post.tags.map((tag, i) => (
   268→                                            <span key={i} style={{
   269→                                                fontSize: '10px',
   270→                                                fontWeight: 500,
   271→                                                letterSpacing: '0.05em',
   272→                                                textTransform: 'uppercase',
   273→                                                color: 'var(--color-text-muted)',
   274→                                                padding: '4px 8px',
   275→                                                border: '1px solid var(--color-border-light)',
   276→                                                transition: 'all 0.2s ease',
   277→                                                background: hoveredPost === post.slug ? 'var(--color-tag-hover)' : 'transparent'
   278→                                            }}>
   279→                                                {tag}
   280→                                            </span>
   281→                                        ))}
   282→                                    </div>
   283→                                </div>
   284→
   285→                                {/* Read link - desktop only */}
   286→                                {!isMobile && !isTablet && (
   287→                                    <div style={{
   288→                                        display: 'flex',
   289→                                        alignItems: 'center',
   290→                                        gap: 'var(--space-sm)',
   291→                                        color: hoveredPost === post.slug ? 'var(--color-accent)' : 'var(--color-text-muted)',
   292→                                        transition: 'color 0.2s ease',
   293→                                        alignSelf: 'center'
   294→                                    }}>
   295→                                        <span style={{
   296→                                            fontSize: '13px',
   297→                                            fontWeight: 500,
   298→                                            letterSpacing: '0.02em'
   299→                                        }}>
   300→                                            Read
   301→                                        </span>
   302→                                        <span style={{
   303→                                            transform: hoveredPost === post.slug ? 'translateX(4px)' : 'translateX(0)',
   304→                                            transition: 'transform 0.2s ease',
   305→                                            fontFamily: 'var(--font-serif)',
   306→                                            fontStyle: 'italic'
   307→                                        }}>→</span>
   308→                                    </div>
   309→                                )}
   310→                            </div>
   311→                        </article>
   312→                    ))}
   313→                </div>
   314→            </section>
   315→
   316→            {/* Blog Post Modal */}
   317→            {selectedPost && (
   318→                <BlogPostModal
   319→                    post={selectedPost}
   320→                    onClose={() => setSelectedPost(null)}
   321→                    onNavigate={handleNavigate}
   322→                    hasPrev={posts.findIndex(p => p.slug === selectedPost.slug) > 0}
   323→                    hasNext={posts.findIndex(p => p.slug === selectedPost.slug) < posts.length - 1}
   324→                    prevTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) - 1]?.title}
   325→                    nextTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) + 1]?.title}
   326→                    isMobile={isMobile}
   327→                    relatedPosts={getRelatedPosts(selectedPost)}
   328→                    onPostSelect={setSelectedPost}
   329→                />
   330→            )}
   331→        </>
   332→    );
   333→}
   334→
```

Result:

```
1→export interface BlogPost {
     2→    slug: string;
     3→    title: string;
     4→    date: string;
     5→    excerpt: string;
     6→    tags: string[];
     7→    readingTime: number;
     8→    thumbnail?: string | null;
     9→    content: string;
    10→}
    11→
    12→export interface BlogFrontmatter {
    13→    title: string;
    14→    date: string;
    15→    excerpt: string;
    16→    tags: string[];
    17→    thumbnail?: string;
    18→}
    19→
```

Result:

```
1→import { useEffect, useState, useRef } from 'react';
     2→import ReactMarkdown from 'react-markdown';
     3→import remarkGfm from 'remark-gfm';
     4→import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
     5→import { oneDark, oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';
     6→import type { BlogPost } from '../types/blog';
     7→import { useTheme } from '../context/ThemeContext';
     8→import { likePost, unlikePost, getLikeCount, hasUserLikedPost } from '../lib/likes';
     9→
    10→interface TableOfContentsItem {
    11→    id: string;
    12→    text: string;
    13→    level: number;
    14→}
    15→
    16→interface BlogPostModalProps {
    17→    post: BlogPost;
    18→    onClose: () => void;
    19→    onNavigate?: (direction: 'prev' | 'next') => void;
    20→    hasPrev?: boolean;
    21→    hasNext?: boolean;
    22→    prevTitle?: string;
    23→    nextTitle?: string;
    24→    isMobile: boolean;
    25→    relatedPosts?: BlogPost[];
    26→    onPostSelect?: (post: BlogPost) => void;
    27→}
    28→
    29→export default function BlogPostModal({
    30→    post,
    31→    onClose,
    32→    onNavigate,
    33→    hasPrev,
    34→    hasNext,
    35→    prevTitle,
    36→    nextTitle,
    37→    isMobile,
    38→    relatedPosts = [],
    39→    onPostSelect
    40→}: BlogPostModalProps) {
    41→    // Only keep isDark for the SyntaxHighlighter theme (third-party library)
    42→    const { isDark } = useTheme();
    43→
    44→    // State for UX features
    45→    const [scrollProgress, setScrollProgress] = useState(0);
    46→    const [showBackToTop, setShowBackToTop] = useState(false);
    47→    const [activeHeading, setActiveHeading] = useState<string>('');
    48→    const [tocItems, setTocItems] = useState<TableOfContentsItem[]>([]);
    49→    const [showToc, setShowToc] = useState(false);
    50→    const [showCopyToast, setShowCopyToast] = useState(false);
    51→    const [likeCount, setLikeCount] = useState(0);
    52→    const [hasLiked, setHasLiked] = useState(false);
    53→    const [isLikeAnimating, setIsLikeAnimating] = useState(false);
    54→    const scrollContainerRef = useRef<HTMLDivElement>(null);
    55→    const contentRef = useRef<HTMLDivElement>(null);
    56→
    57→    // Handle scroll lock and ESC key
    58→    useEffect(() => {
    59→        document.body.style.overflow = 'hidden';
    60→        const handleEsc = (e: KeyboardEvent) => {
    61→            if (e.key === 'Escape') onClose();
    62→        };
    63→        window.addEventListener('keydown', handleEsc);
    64→        return () => {
    65→            document.body.style.overflow = '';
    66→            window.removeEventListener('keydown', handleEsc);
    67→        };
    68→    }, [onClose]);
    69→
    70→    // Extract table of contents from markdown
    71→    useEffect(() => {
    72→        const headings: TableOfContentsItem[] = [];
    73→        const headingRegex = /^(#{1,3})\s+(.+)$/gm;
    74→        let match;
    75→
    76→        while ((match = headingRegex.exec(post.content)) !== null) {
    77→            const level = match[1].length;
    78→            const text = match[2].trim();
    79→            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
    80→            headings.push({ id, text, level });
    81→        }
    82→
    83→        setTocItems(headings);
    84→        setShowToc(headings.length > 0);
    85→    }, [post.content]);
    86→
    87→    // Track scroll progress and back-to-top visibility
    88→    useEffect(() => {
    89→        const container = scrollContainerRef.current;
    90→        if (!container) return;
    91→
    92→        const handleScroll = () => {
    93→            const scrollTop = container.scrollTop;
    94→            const scrollHeight = container.scrollHeight - container.clientHeight;
    95→            const progress = (scrollTop / scrollHeight) * 100;
    96→
    97→            setScrollProgress(Math.min(progress, 100));
    98→            setShowBackToTop(scrollTop > 400);
    99→
   100→            // Track active heading
   101→            if (contentRef.current) {
   102→                const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   103→                let currentActiveId = '';
   104→
   105→                headings.forEach((heading) => {
   106→                    const rect = heading.getBoundingClientRect();
   107→                    if (rect.top <= 200) {
   108→                        currentActiveId = heading.id;
   109→                    }
   110→                });
   111→
   112→                setActiveHeading(currentActiveId);
   113→            }
   114→        };
   115→
   116→        container.addEventListener('scroll', handleScroll);
   117→        return () => container.removeEventListener('scroll', handleScroll);
   118→    }, []);
   119→
   120→    // Set IDs on headings for anchor links
   121→    useEffect(() => {
   122→        if (!contentRef.current) return;
   123→
   124→        const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   125→        headings.forEach((heading) => {
   126→            const text = heading.textContent || '';
   127→            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
   128→            heading.id = id;
   129→        });
   130→    }, [post.content]);
   131→
   132→    // Initialize like state from localStorage
   133→    useEffect(() => {
   134→        setLikeCount(getLikeCount(post.slug));
   135→        setHasLiked(hasUserLikedPost(post.slug));
   136→    }, [post.slug]);
   137→
   138→    const formatDate = (dateStr: string) => {
   139→        const date = new Date(dateStr);
   140→        return date.toLocaleDateString('en-US', {
   141→            year: 'numeric',
   142→            month: 'long',
   143→            day: 'numeric'
   144→        });
   145→    };
   146→
   147→    const scrollToTop = () => {
   148→        scrollContainerRef.current?.scrollTo({ top: 0, behavior: 'smooth' });
   149→    };
   150→
   151→    const scrollToHeading = (id: string) => {
   152→        const element = document.getElementById(id);
   153→        if (element && scrollContainerRef.current) {
   154→            const container = scrollContainerRef.current;
   155→            const elementTop = element.offsetTop;
   156→            const offset = 100; // Account for sticky header
   157→            container.scrollTo({ top: elementTop - offset, behavior: 'smooth' });
   158→        }
   159→    };
   160→
   161→    const copyCode = async (code: string) => {
   162→        try {
   163→            await navigator.clipboard.writeText(code);
   164→        } catch (err) {
   165→            console.error('Failed to copy code:', err);
   166→        }
   167→    };
   168→
   169→    const getPostUrl = () => {
   170→        // Generate a shareable URL for the post
   171→        // In a production environment, this would be the actual URL
   172→        return `${window.location.origin}/#blog?post=${post.slug}`;
   173→    };
   174→
   175→    const shareOnTwitter = () => {
   176→        const url = getPostUrl();
   177→        const text = `${post.title} by @kolob0kk`;
   178→        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
   179→        window.open(twitterUrl, '_blank', 'width=550,height=420');
   180→    };
   181→
   182→    const shareOnLinkedIn = () => {
   183→        const url = getPostUrl();
   184→        const linkedInUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`;
   185→        window.open(linkedInUrl, '_blank', 'width=550,height=420');
   186→    };
   187→
   188→    const copyLink = async () => {
   189→        try {
   190→            const url = getPostUrl();
   191→            await navigator.clipboard.writeText(url);
   192→            setShowCopyToast(true);
   193→            setTimeout(() => setShowCopyToast(false), 2000);
   194→        } catch (err) {
   195→            console.error('Failed to copy link:', err);
   196→        }
   197→    };
   198→
   199→    const shareNative = async () => {
   200→        if (navigator.share) {
   201→            try {
   202→                await navigator.share({
   203→                    title: post.title,
   204→                    text: post.excerpt,
   205→                    url: getPostUrl()
   206→                });
   207→            } catch (err) {
   208→                // User cancelled or error occurred
   209→                console.log('Share cancelled or failed:', err);
   210→            }
   211→        }
   212→    };
   213→
   214→    const handleLike = () => {
   215→        if (hasLiked) {
   216→            // Unlike
   217→            const result = unlikePost(post.slug);
   218→            if (result.success) {
   219→                setLikeCount(result.count);
   220→                setHasLiked(false);
   221→            }
   222→        } else {
   223→            // Like with animation
   224→            const result = likePost(post.slug);
   225→            if (result.success) {
   226→                setLikeCount(result.count);
   227→                setHasLiked(true);
   228→                setIsLikeAnimating(true);
   229→                setTimeout(() => setIsLikeAnimating(false), 600);
   230→            }
   231→        }
   232→    };
   233→
   234→    return (
   235→        <div
   236→            style={{
   237→                position: 'fixed',
   238→                inset: 0,
   239→                zIndex: 1000,
   240→                display: 'flex',
   241→                flexDirection: 'column',
   242→                background: 'var(--color-background)',
   243→                animation: 'modalSlideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)'
   244→            }}
   245→        >
   246→            {/* Reading Progress Bar */}
   247→            <div
   248→                style={{
   249→                    position: 'fixed',
   250→                    top: 0,
   251→                    left: 0,
   252→                    right: 0,
   253→                    height: '3px',
   254→                    background: 'var(--color-border-light)',
   255→                    zIndex: 1001
   256→                }}
   257→            >
   258→                <div
   259→                    style={{
   260→                        height: '100%',
   261→                        width: `${scrollProgress}%`,
   262→                        background: 'var(--color-accent)',
   263→                        transition: 'width 0.1s ease-out'
   264→                    }}
   265→                />
   266→            </div>
   267→            {/* Modal styles - all using CSS variables */}
   268→            <style>{`
   269→        @keyframes modalSlideUp {
   270→          from {
   271→            opacity: 0;
   272→            transform: translateY(40px);
   273→          }
   274→          to {
   275→            opacity: 1;
   276→            transform: translateY(0);
   277→          }
   278→        }
   279→
   280→        .blog-modal-scroll::-webkit-scrollbar {
   281→          width: 6px;
   282→        }
   283→
   284→        .blog-modal-scroll::-webkit-scrollbar-track {
   285→          background: transparent;
   286→        }
   287→
   288→        .blog-modal-scroll::-webkit-scrollbar-thumb {
   289→          background: var(--color-scrollbar-thumb);
   290→          border-radius: 3px;
   291→        }
   292→
   293→        .blog-modal-scroll::-webkit-scrollbar-thumb:hover {
   294→          background: var(--color-scrollbar-thumb-hover);
   295→        }
   296→
   297→        .blog-modal-scroll {
   298→          scrollbar-width: thin;
   299→          scrollbar-color: var(--color-scrollbar-thumb) transparent;
   300→        }
   301→
   302→        .blog-content h1 {
   303→          font-size: clamp(28px, 5vw, 36px);
   304→          font-family: var(--font-serif);
   305→          font-weight: 400;
   306→          font-style: italic;
   307→          color: var(--color-text-primary);
   308→          margin: 40px 0 20px;
   309→          letter-spacing: -0.02em;
   310→          line-height: 1.2;
   311→          text-wrap: balance;
   312→        }
   313→
   314→        .blog-content h2 {
   315→          font-size: clamp(22px, 4vw, 26px);
   316→          font-family: var(--font-serif);
   317→          font-weight: 400;
   318→          font-style: italic;
   319→          color: var(--color-text-primary);
   320→          margin: 36px 0 16px;
   321→          letter-spacing: -0.02em;
   322→          line-height: 1.3;
   323→          text-wrap: balance;
   324→        }
   325→
   326→        .blog-content h3 {
   327→          font-size: clamp(18px, 3vw, 20px);
   328→          font-weight: 600;
   329→          color: var(--color-text-primary);
   330→          margin: 28px 0 12px;
   331→          line-height: 1.4;
   332→          text-wrap: balance;
   333→        }
   334→
   335→        .blog-content p {
   336→          font-size: clamp(16px, 2.5vw, 17px);
   337→          color: var(--color-text-secondary);
   338→          line-height: 1.8;
   339→          margin: 0 0 20px;
   340→        }
   341→
   342→        .blog-content ul, .blog-content ol {
   343→          margin: 0 0 20px;
   344→          padding-left: 24px;
   345→          color: var(--color-text-secondary);
   346→        }
   347→
   348→        .blog-content li {
   349→          font-size: ${isMobile ? '16px' : '17px'};
   350→          line-height: 1.8;
   351→          margin-bottom: 8px;
   352→        }
   353→
   354→        .blog-content a {
   355→          color: var(--color-accent);
   356→          text-decoration: none;
   357→          transition: opacity 0.2s ease;
   358→        }
   359→
   360→        .blog-content a:hover {
   361→          opacity: 0.8;
   362→        }
   363→
   364→        .blog-content strong {
   365→          color: var(--color-text-primary);
   366→          font-weight: 600;
   367→        }
   368→
   369→        .blog-content em {
   370→          font-style: italic;
   371→        }
   372→
   373→        .blog-content blockquote {
   374→          border-left: 3px solid var(--color-accent);
   375→          margin: 24px 0;
   376→          padding: 16px 24px;
   377→          background: var(--color-tag-hover);
   378→        }
   379→
   380→        .blog-content blockquote p {
   381→          margin: 0;
   382→          font-style: italic;
   383→        }
   384→
   385→        .blog-content hr {
   386→          border: none;
   387→          height: 1px;
   388→          background: var(--color-border);
   389→          margin: 40px 0;
   390→        }
   391→
   392→        .blog-content pre {
   393→          margin: 24px 0;
   394→          border-radius: 0;
   395→          border: 1px solid var(--color-border);
   396→        }
   397→
   398→        .blog-content code:not([class*="language-"]) {
   399→          background: var(--color-border-light);
   400→          padding: 2px 6px;
   401→          font-size: 0.9em;
   402→          color: var(--color-accent);
   403→        }
   404→
   405→        .blog-modal-back-btn {
   406→          display: flex;
   407→          align-items: center;
   408→          gap: 8px;
   409→          background: none;
   410→          border: none;
   411→          color: var(--color-text-tertiary);
   412→          font-size: 13px;
   413→          font-weight: 500;
   414→          cursor: pointer;
   415→          padding: 0;
   416→          font-family: var(--font-sans);
   417→          transition: color 0.2s ease;
   418→        }
   419→
   420→        .blog-modal-back-btn:hover {
   421→          color: var(--color-text-primary);
   422→        }
   423→
   424→        .blog-modal-close-btn {
   425→          background: none;
   426→          border: 1px solid var(--color-border);
   427→          color: var(--color-text-tertiary);
   428→          width: 40px;
   429→          height: 40px;
   430→          cursor: pointer;
   431→          display: flex;
   432→          align-items: center;
   433→          justify-content: center;
   434→          font-size: 18px;
   435→          transition: all 0.2s ease;
   436→        }
   437→
   438→        .blog-modal-close-btn:hover {
   439→          border-color: var(--color-text-tertiary);
   440→          color: var(--color-text-primary);
   441→        }
   442→
   443→        .back-to-top-btn {
   444→          position: fixed;
   445→          bottom: var(--space-xl);
   446→          right: var(--space-xl);
   447→          width: 48px;
   448→          height: 48px;
   449→          border-radius: 50%;
   450→          background: var(--color-background-secondary);
   451→          border: 1px solid var(--color-border);
   452→          color: var(--color-text-secondary);
   453→          cursor: pointer;
   454→          display: flex;
   455→          align-items: center;
   456→          justify-content: center;
   457→          font-size: 20px;
   458→          transition: all var(--transition-fast);
   459→          z-index: 100;
   460→          opacity: 0;
   461→          transform: translateY(20px);
   462→          pointer-events: none;
   463→        }
   464→
   465→        .back-to-top-btn.visible {
   466→          opacity: 1;
   467→          transform: translateY(0);
   468→          pointer-events: auto;
   469→        }
   470→
   471→        .back-to-top-btn:hover {
   472→          background: var(--color-accent);
   473→          color: var(--color-background);
   474→          border-color: var(--color-accent);
   475→          transform: translateY(-2px);
   476→        }
   477→
   478→        .toc-container {
   479→          position: sticky;
   480→          top: 120px;
   481→          max-height: calc(100vh - 200px);
   482→          overflow-y: auto;
   483→          padding: var(--space-lg);
   484→          background: var(--color-background-secondary);
   485→          border: 1px solid var(--color-border-light);
   486→          border-radius: 0;
   487→        }
   488→
   489→        .toc-container::-webkit-scrollbar {
   490→          width: 4px;
   491→        }
   492→
   493→        .toc-title {
   494→          font-size: 11px;
   495→          font-weight: 600;
   496→          letter-spacing: 0.1em;
   497→          text-transform: uppercase;
   498→          color: var(--color-text-muted);
   499→          margin-bottom: var(--space-md);
   500→        }
   501→
   502→        .toc-item {
   503→          display: block;
   504→          font-size: 13px;
   505→          color: var(--color-text-tertiary);
   506→          text-decoration: none;
   507→          padding: 6px 0;
   508→          transition: color var(--transition-fast);
   509→          cursor: pointer;
   510→          line-height: 1.4;
   511→        }
   512→
   513→        .toc-item:hover {
   514→          color: var(--color-text-primary);
   515→        }
   516→
   517→        .toc-item.active {
   518→          color: var(--color-accent);
   519→          font-weight: 500;
   520→        }
   521→
   522→        .toc-item.level-2 {
   523→          padding-left: var(--space-md);
   524→        }
   525→
   526→        .toc-item.level-3 {
   527→          padding-left: var(--space-xl);
   528→          font-size: 12px;
   529→        }
   530→
   531→        .code-block-wrapper {
   532→          position: relative;
   533→          margin: 24px 0;
   534→        }
   535→
   536→        .code-copy-btn {
   537→          position: absolute;
   538→          top: 8px;
   539→          right: 8px;
   540→          background: var(--color-background-secondary);
   541→          border: 1px solid var(--color-border);
   542→          color: var(--color-text-tertiary);
   543→          padding: 6px 12px;
   544→          font-size: 11px;
   545→          font-weight: 500;
   546→          letter-spacing: 0.05em;
   547→          text-transform: uppercase;
   548→          cursor: pointer;
   549→          border-radius: 0;
   550→          transition: all var(--transition-fast);
   551→          font-family: var(--font-sans);
   552→          z-index: 10;
   553→        }
   554→
   555→        .code-copy-btn:hover {
   556→          background: var(--color-accent);
   557→          color: var(--color-background);
   558→          border-color: var(--color-accent);
   559→        }
   560→
   561→        .related-posts-section {
   562→          margin-top: var(--space-3xl);
   563→          padding-top: var(--space-3xl);
   564→          border-top: 1px solid var(--color-border-light);
   565→        }
   566→
   567→        .related-posts-title {
   568→          font-size: clamp(20px, 3vw, 24px);
   569→          font-family: var(--font-serif);
   570→          font-style: italic;
   571→          color: var(--color-text-primary);
   572→          margin-bottom: var(--space-xl);
   573→        }
   574→
   575→        .related-post-card {
   576→          padding: var(--space-lg);
   577→          border: 1px solid var(--color-border-light);
   578→          cursor: pointer;
   579→          transition: all var(--transition-fast);
   580→          background: var(--color-background);
   581→        }
   582→
   583→        .related-post-card:hover {
   584→          border-color: var(--color-accent);
   585→          background: var(--color-card-hover);
   586→        }
   587→
   588→        .related-post-title {
   589→          font-size: 16px;
   590→          font-family: var(--font-serif);
   591→          font-style: italic;
   592→          color: var(--color-text-primary);
   593→          margin-bottom: var(--space-sm);
   594→        }
   595→
   596→        .related-post-meta {
   597→          font-size: 12px;
   598→          color: var(--color-text-tertiary);
   599→        }
   600→
   601→        .share-buttons-container {
   602→          display: flex;
   603→          align-items: center;
   604→          gap: var(--space-sm);
   605→          margin-top: var(--space-lg);
   606→        }
   607→
   608→        .share-label {
   609→          font-size: 11px;
   610→          font-weight: 500;
   611→          letter-spacing: 0.1em;
   612→          text-transform: uppercase;
   613→          color: var(--color-text-muted);
   614→        }
   615→
   616→        .share-btn {
   617→          background: none;
   618→          border: 1px solid var(--color-border-light);
   619→          color: var(--color-text-tertiary);
   620→          width: 36px;
   621→          height: 36px;
   622→          cursor: pointer;
   623→          display: flex;
   624→          align-items: center;
   625→          justify-content: center;
   626→          transition: all var(--transition-fast);
   627→          padding: 0;
   628→        }
   629→
   630→        .share-btn:hover {
   631→          border-color: var(--color-accent);
   632→          color: var(--color-accent);
   633→          transform: translateY(-2px);
   634→        }
   635→
   636→        .share-btn svg {
   637→          width: 16px;
   638→          height: 16px;
   639→        }
   640→
   641→        .copy-toast {
   642→          position: fixed;
   643→          bottom: calc(var(--space-xl) * 2 + 48px);
   644→          right: var(--space-xl);
   645→          background: var(--color-background-secondary);
   646→          border: 1px solid var(--color-accent);
   647→          color: var(--color-text-primary);
   648→          padding: var(--space-md) var(--space-lg);
   649→          font-size: 13px;
   650→          font-weight: 500;
   651→          z-index: 1002;
   652→          opacity: 0;
   653→          transform: translateY(10px);
   654→          transition: all var(--transition-fast);
   655→          pointer-events: none;
   656→        }
   657→
   658→        .copy-toast.visible {
   659→          opacity: 1;
   660→          transform: translateY(0);
   661→        }
   662→
   663→        .like-button-container {
   664→          display: flex;
   665→          align-items: center;
   666→          gap: var(--space-md);
   667→          margin-top: var(--space-2xl);
   668→          padding-top: var(--space-xl);
   669→          border-top: 1px solid var(--color-border-light);
   670→        }
   671→
   672→        .like-button {
   673→          display: flex;
   674→          align-items: center;
   675→          gap: var(--space-sm);
   676→          background: none;
   677→          border: 1px solid var(--color-border-light);
   678→          color: var(--color-text-tertiary);
   679→          padding: var(--space-md) var(--space-lg);
   680→          cursor: pointer;
   681→          transition: all var(--transition-fast);
   682→          font-family: var(--font-sans);
   683→          font-size: 14px;
   684→          font-weight: 500;
   685→        }
   686→
   687→        .like-button:hover {
   688→          border-color: var(--color-accent);
   689→          color: var(--color-accent);
   690→          transform: translateY(-2px);
   691→        }
   692→
   693→        .like-button.liked {
   694→          border-color: var(--color-accent);
   695→          background: var(--color-accent);
   696→          color: var(--color-background);
   697→        }
   698→
   699→        .like-button.liked:hover {
   700→          opacity: 0.9;
   701→          transform: translateY(-2px);
   702→        }
   703→
   704→        .like-button svg {
   705→          width: 18px;
   706→          height: 18px;
   707→          transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
   708→        }
   709→
   710→        .like-button.animating svg {
   711→          animation: likeHeartBeat 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
   712→        }
   713→
   714→        @keyframes likeHeartBeat {
   715→          0% {
   716→            transform: scale(1);
   717→          }
   718→          25% {
   719→            transform: scale(1.3);
   720→          }
   721→          50% {
   722→            transform: scale(1.1);
   723→          }
   724→          75% {
   725→            transform: scale(1.25);
   726→          }
   727→          100% {
   728→            transform: scale(1);
   729→          }
   730→        }
   731→
   732→        .like-count {
   733→          font-size: 14px;
   734→          font-weight: 500;
   735→          color: var(--color-text-secondary);
   736→        }
   737→
   738→        .like-count.has-likes {
   739→          color: var(--color-text-primary);
   740→        }
   741→
   742→        .like-label {
   743→          font-size: 11px;
   744→          font-weight: 500;
   745→          letter-spacing: 0.1em;
   746→          text-transform: uppercase;
   747→          color: var(--color-text-muted);
   748→        }
   749→      `}</style>
   750→
   751→            {/* Modal Header */}
   752→            <div style={{
   753→                display: 'flex',
   754→                justifyContent: 'space-between',
   755→                alignItems: 'center',
   756→                padding: isMobile ? '20px 24px' : '28px 64px',
   757→                borderBottom: '1px solid var(--color-border-light)',
   758→                background: 'var(--color-background)',
   759→                position: 'sticky',
   760→                top: 0,
   761→                zIndex: 10
   762→            }}>
   763→                <button onClick={onClose} className="blog-modal-back-btn">
   764→                    <span style={{ fontFamily: 'var(--font-serif)', fontStyle: 'italic' }}>←</span>
   765→                    Back to Blog
   766→                </button>
   767→
   768→                <button onClick={onClose} className="blog-modal-close-btn">
   769→                    ✕
   770→                </button>
   771→            </div>
   772→
   773→            {/* Modal Content - Scrollable */}
   774→            <div
   775→                ref={scrollContainerRef}
   776→                className="blog-modal-scroll"
   777→                style={{
   778→                    flex: 1,
   779→                    overflowY: 'auto',
   780→                    padding: isMobile ? '40px 24px' : '64px',
   781→                    display: 'flex',
   782→                    gap: 'var(--space-3xl)',
   783→                    justifyContent: 'center'
   784→                }}
   785→            >
   786→                {/* Main Content */}
   787→                <div style={{
   788→                    maxWidth: '800px',
   789→                    width: '100%',
   790→                    flex: '1 1 auto'
   791→                }}>
   792→                {/* Header */}
   793→                <div style={{ marginBottom: '40px' }}>
   794→                    <div style={{
   795→                        fontSize: '13px',
   796→                        color: 'var(--color-text-tertiary)',
   797→                        marginBottom: 'var(--space-md)',
   798→                        display: 'flex',
   799→                        alignItems: 'center',
   800→                        gap: 'var(--space-sm)'
   801→                    }}>
   802→                        <span>{formatDate(post.date)}</span>
   803→                        <span style={{ color: 'var(--color-separator)' }}>•</span>
   804→                        <span>{post.readingTime} min read</span>
   805→                    </div>
   806→
   807→                    <h1 style={{
   808→                        fontSize: isMobile ? '32px' : '48px',
   809→                        fontFamily: 'var(--font-serif)',
   810→                        fontWeight: 400,
   811→                        fontStyle: 'italic',
   812→                        color: 'var(--color-text-primary)',
   813→                        marginBottom: '20px',
   814→                        letterSpacing: '-0.02em',
   815→                        lineHeight: 1.1
   816→                    }}>
   817→                        {post.title}
   818→                    </h1>
   819→
   820→                    {/* Tags */}
   821→                    <div style={{
   822→                        display: 'flex',
   823→                        gap: '10px',
   824→                        flexWrap: 'wrap'
   825→                    }}>
   826→                        {post.tags.map((tag, i) => (
   827→                            <span key={i} style={{
   828→                                fontSize: '11px',
   829→                                fontWeight: 500,
   830→                                letterSpacing: '0.08em',
   831→                                textTransform: 'uppercase',
   832→                                color: 'var(--color-text-muted)',
   833→                                padding: '6px 12px',
   834→                                border: '1px solid var(--color-border-light)'
   835→                            }}>
   836→                                {tag}
   837→                            </span>
   838→                        ))}
   839→                    </div>
   840→
   841→                    {/* Share Buttons */}
   842→                    <div className="share-buttons-container">
   843→                        <span className="share-label">Share</span>
   844→
   845→                        {/* Twitter/X */}
   846→                        <button
   847→                            className="share-btn"
   848→                            onClick={shareOnTwitter}
   849→                            title="Share on Twitter/X"
   850→                            aria-label="Share on Twitter/X"
   851→                        >
   852→                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   853→                                <path d="M4 4l11.733 16h4.267l-11.733 -16z" />
   854→                                <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
   855→                            </svg>
   856→                        </button>
   857→
   858→                        {/* LinkedIn */}
   859→                        <button
   860→                            className="share-btn"
   861→                            onClick={shareOnLinkedIn}
   862→                            title="Share on LinkedIn"
   863→                            aria-label="Share on LinkedIn"
   864→                        >
   865→                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   866→                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
   867→                                <rect x="2" y="9" width="4" height="12" />
   868→                                <circle cx="4" cy="4" r="2" />
   869→                            </svg>
   870→                        </button>
   871→
   872→                        {/* Copy Link */}
   873→                        <button
   874→                            className="share-btn"
   875→                            onClick={copyLink}
   876→                            title="Copy link"
   877→                            aria-label="Copy link to clipboard"
   878→                        >
   879→                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   880→                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
   881→                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
   882→                            </svg>
   883→                        </button>
   884→
   885→                        {/* Native Share (Mobile) */}
   886→                        {typeof navigator !== 'undefined' && 'share' in navigator && (
   887→                            <button
   888→                                className="share-btn"
   889→                                onClick={shareNative}
   890→                                title="Share"
   891→                                aria-label="Open share menu"
   892→                            >
   893→                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   894→                                    <circle cx="18" cy="5" r="3" />
   895→                                    <circle cx="6" cy="12" r="3" />
   896→                                    <circle cx="18" cy="19" r="3" />
   897→                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" />
   898→                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" />
   899→                                </svg>
   900→                            </button>
   901→                        )}
   902→                    </div>
   903→
   904→                    {/* Like Button */}
   905→                    <div className="like-button-container">
   906→                        <span className="like-label">Enjoyed this?</span>
   907→                        <button
   908→                            className={`like-button ${hasLiked ? 'liked' : ''} ${isLikeAnimating ? 'animating' : ''}`}
   909→                            onClick={handleLike}
   910→                            title={hasLiked ? 'Unlike this post' : 'Like this post'}
   911→                            aria-label={hasLiked ? 'Unlike this post' : 'Like this post'}
   912→                        >
   913→                            <svg
   914→                                viewBox="0 0 24 24"
   915→                                fill={hasLiked ? 'currentColor' : 'none'}
   916→                                stroke="currentColor"
   917→                                strokeWidth="2"
   918→                                strokeLinecap="round"
   919→                                strokeLinejoin="round"
   920→                            >
   921→                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
   922→                            </svg>
   923→                            <span>{hasLiked ? 'Liked' : 'Like'}</span>
   924→                        </button>
   925→                        {likeCount > 0 && (
   926→                            <span className={`like-count ${likeCount > 0 ? 'has-likes' : ''}`}>
   927→                                {likeCount} {likeCount === 1 ? 'like' : 'likes'}
   928→                            </span>
   929→                        )}
   930→                    </div>
   931→                </div>
   932→
   933→                {/* Hero Image */}
   934→                {post.thumbnail && (
   935→                    <div style={{
   936→                        aspectRatio: '16/9',
   937→                        marginBottom: 'var(--space-2xl)',
   938→                        background: 'linear-gradient(135deg, var(--color-background-secondary) 0%, var(--color-background-tertiary) 100%)',
   939→                        border: '1px solid var(--color-border-light)',
   940→                        overflow: 'hidden'
   941→                    }}>
   942→                        <img
   943→                            src={post.thumbnail}
   944→                            alt={post.title}
   945→                            style={{ width: '100%', height: '100%', objectFit: 'cover' }}
   946→                        />
   947→                    </div>
   948→                )}
   949→
   950→                {/* Article Content */}
   951→                <div ref={contentRef} className="blog-content">
   952→                    <ReactMarkdown
   953→                        remarkPlugins={[remarkGfm]}
   954→                        components={{
   955→                            code({ className, children, ...props }) {
   956→                                const match = /language-(\w+)/.exec(className || '');
   957→                                const isInline = !match;
   958→                                const code = String(children).replace(/\n$/, '');
   959→
   960→                                return !isInline ? (
   961→                                    <div className="code-block-wrapper">
   962→                                        <button
   963→                                            className="code-copy-btn"
   964→                                            onClick={() => copyCode(code)}
   965→                                            title="Copy code"
   966→                                        >
   967→                                            Copy
   968→                                        </button>
   969→                                        <SyntaxHighlighter
   970→                                            style={isDark ? oneDark : oneLight}
   971→                                            language={match[1]}
   972→                                            PreTag="div"
   973→                                            customStyle={{
   974→                                                margin: 0,
   975→                                                borderRadius: 0,
   976→                                                border: '1px solid var(--color-border)',
   977→                                                background: 'var(--color-code-bg)'
   978→                                            }}
   979→                                        >
   980→                                            {code}
   981→                                        </SyntaxHighlighter>
   982→                                    </div>
   983→                                ) : (
   984→                                    <code className={className} {...props}>
   985→                                        {children}
   986→                                    </code>
   987→                                );
   988→                            }
   989→                        }}
   990→                    >
   991→                        {post.content}
   992→                    </ReactMarkdown>
   993→                </div>
   994→
   995→                {/* Navigation Between Posts */}
   996→                {(hasPrev || hasNext) && (
   997→                    <div style={{
   998→                        display: 'flex',
   999→                        justifyContent: 'space-between',
  1000→                        marginTop: 'var(--space-3xl)',
  1001→                        paddingTop: 'var(--space-xl)',
  1002→                        borderTop: '1px solid var(--color-border-light)',
  1003→                        gap: 'var(--space-lg)',
  1004→                        flexWrap: 'wrap'
  1005→                    }}>
  1006→                        {hasPrev ? (
  1007→                            <button
  1008→                                onClick={() => onNavigate?.('prev')}
  1009→                                style={{
  1010→                                    background: 'none',
  1011→                                    border: 'none',
  1012→                                    cursor: 'pointer',
  1013→                                    textAlign: 'left',
  1014→                                    padding: 0,
  1015→                                    flex: 1,
  1016→                                    fontFamily: 'var(--font-sans)'
  1017→                                }}
  1018→                            >
  1019→                                <span style={{
  1020→                                    fontSize: '11px',
  1021→                                    fontWeight: 500,
  1022→                                    letterSpacing: '0.1em',
  1023→                                    textTransform: 'uppercase',
  1024→                                    color: 'var(--color-text-muted)',
  1025→                                    display: 'block',
  1026→                                    marginBottom: 'var(--space-sm)'
  1027→                                }}>← Previous</span>
  1028→                                <span style={{
  1029→                                    fontSize: '16px',
  1030→                                    fontFamily: 'var(--font-serif)',
  1031→                                    fontStyle: 'italic',
  1032→                                    color: 'var(--color-text-secondary)'
  1033→                                }}>{prevTitle}</span>
  1034→                            </button>
  1035→                        ) : <div style={{ flex: 1 }} />}
  1036→
  1037→                        {hasNext ? (
  1038→                            <button
  1039→                                onClick={() => onNavigate?.('next')}
  1040→                                style={{
  1041→                                    background: 'none',
  1042→                                    border: 'none',
  1043→                                    cursor: 'pointer',
  1044→                                    textAlign: 'right',
  1045→                                    padding: 0,
  1046→                                    flex: 1,
  1047→                                    fontFamily: 'var(--font-sans)'
  1048→                                }}
  1049→                            >
  1050→                                <span style={{
  1051→                                    fontSize: '11px',
  1052→                                    fontWeight: 500,
  1053→                                    letterSpacing: '0.1em',
  1054→                                    textTransform: 'uppercase',
  1055→                                    color: 'var(--color-text-muted)',
  1056→                                    display: 'block',
  1057→                                    marginBottom: 'var(--space-sm)'
  1058→                                }}>Next →</span>
  1059→                                <span style={{
  1060→                                    fontSize: '16px',
  1061→                                    fontFamily: 'var(--font-serif)',
  1062→                                    fontStyle: 'italic',
  1063→                                    color: 'var(--color-text-secondary)'
  1064→                                }}>{nextTitle}</span>
  1065→                            </button>
  1066→                        ) : <div style={{ flex: 1 }} />}
  1067→                    </div>
  1068→                )}
  1069→
  1070→                {/* Related Posts */}
  1071→                {relatedPosts && relatedPosts.length > 0 && (
  1072→                    <div className="related-posts-section">
  1073→                        <h2 className="related-posts-title">Related Articles</h2>
  1074→                        <div style={{
  1075→                            display: 'grid',
  1076→                            gap: 'var(--space-lg)',
  1077→                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(280px, 1fr))'
  1078→                        }}>
  1079→                            {relatedPosts.map((relatedPost, index) => (
  1080→                                <div
  1081→                                    key={index}
  1082→                                    className="related-post-card"
  1083→                                    onClick={() => onPostSelect?.(relatedPost)}
  1084→                                >
  1085→                                    <h3 className="related-post-title">{relatedPost.title}</h3>
  1086→                                    <div className="related-post-meta">
  1087→                                        {formatDate(relatedPost.date)} · {relatedPost.readingTime} min read
  1088→                                    </div>
  1089→                                    {relatedPost.tags && relatedPost.tags.length > 0 && (
  1090→                                        <div style={{
  1091→                                            display: 'flex',
  1092→                                            gap: '8px',
  1093→                                            flexWrap: 'wrap',
  1094→                                            marginTop: 'var(--space-sm)'
  1095→                                        }}>
  1096→                                            {relatedPost.tags.slice(0, 3).map((tag, i) => (
  1097→                                                <span key={i} style={{
  1098→                                                    fontSize: '10px',
  1099→                                                    fontWeight: 500,
  1100→                                                    letterSpacing: '0.08em',
  1101→                                                    textTransform: 'uppercase',
  1102→                                                    color: 'var(--color-text-muted)',
  1103→                                                    padding: '4px 8px',
  1104→                                                    border: '1px solid var(--color-border-light)'
  1105→                                                }}>
  1106→                                                    {tag}
  1107→                                                </span>
  1108→                                            ))}
  1109→                                        </div>
  1110→                                    )}
  1111→                                </div>
  1112→                            ))}
  1113→                        </div>
  1114→                    </div>
  1115→                )}
  1116→                </div>
  1117→
  1118→                {/* Table of Contents - Desktop Only */}
  1119→                {!isMobile && showToc && tocItems.length > 0 && (
  1120→                    <div style={{
  1121→                        width: '280px',
  1122→                        flexShrink: 0
  1123→                    }}>
  1124→                        <div className="toc-container">
  1125→                            <div className="toc-title">Contents</div>
  1126→                            <nav>
  1127→                                {tocItems.map((item, index) => (
  1128→                                    <div
  1129→                                        key={index}
  1130→                                        className={`toc-item level-${item.level} ${activeHeading === item.id ? 'active' : ''}`}
  1131→                                        onClick={() => scrollToHeading(item.id)}
  1132→                                    >
  1133→                                        {item.text}
  1134→                                    </div>
  1135→                                ))}
  1136→                            </nav>
  1137→                        </div>
  1138→                    </div>
  1139→                )}
  1140→            </div>
  1141→
  1142→            {/* Back to Top Button */}
  1143→            <button
  1144→                className={`back-to-top-btn ${showBackToTop ? 'visible' : ''}`}
  1145→                onClick={scrollToTop}
  1146→                title="Back to top"
  1147→            >
  1148→                ↑
  1149→            </button>
  1150→
  1151→            {/* Copy Toast Notification */}
  1152→            <div className={`copy-toast ${showCopyToast ? 'visible' : ''}`}>
  1153→                Link copied to clipboard!
  1154→            </div>
  1155→        </div>
  1156→    );
  1157→}
  1158→
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me look at the blog post content files and check how they integrate into the main app:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./content/blog/2024-11-15-etf-grade-staking.md`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Grep**

Result:

```
1→---
     2→title: "The Hidden Complexity of ETF-Grade Staking"
     3→date: "2024-11-15"
     4→excerpt: "What it really takes to build staking infrastructure for institutional clients—the compliance, custody, and coordination challenges nobody talks about."
     5→tags: ["Staking", "Ethereum", "Custody", "Institutional"]
     6→thumbnail: null
     7→---
     8→
     9→When people hear "ETH staking," they often think it's straightforward: deposit 32 ETH, run a validator, earn yield. In reality, building staking infrastructure for institutional clients like ETF providers is an entirely different beast. Here's a look behind the curtain at what it actually takes.
    10→
    11→## The Custody Paradox
    12→
    13→Institutional staking creates a fundamental tension:
    14→
    15→**For maximum yield**, you want:
    16→- Distributed validator infrastructure
    17→- Quick slashing response
    18→- Flexible withdrawal strategies
    19→- MEV optimization
    20→
    21→**For custody compliance**, you need:
    22→- Full control of withdrawal keys
    23→- Auditable key management
    24→- Regulatory-approved processes
    25→- Cold storage capabilities
    26→
    27→These requirements often conflict. The same distributed architecture that optimizes for uptime can create custody concerns. The cold storage that satisfies auditors can slow response times.
    28→
    29→## Key Decisions We Faced
    30→
```

Result:

```
No files found
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/App.tsx
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me read the App.tsx file and search for Blog component usage:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/App.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** Search for blog references in App.tsx

`grep -n "Blog\|blog" /Users/dfotesco/Portfolio/portfolio/src/App.tsx`

Result:

```
1→import { HashRouter, Routes, Route } from 'react-router-dom';
     2→import { ThemeProvider } from './context/ThemeContext';
     3→import { HelmetProvider } from 'react-helmet-async';
     4→import BasePortfolio from './pages/BasePortfolio';
     5→import VariantPortfolio from './pages/VariantPortfolio';
     6→
     7→function App() {
     8→  return (
     9→    <HelmetProvider>
    10→      <ThemeProvider>
    11→        <HashRouter>
    12→          <Routes>
    13→            {/* Base portfolio route */}
    14→            <Route path="/" element={<BasePortfolio />} />
    15→
    16→            {/* Variant portfolio routes: /#/company/role */}
    17→            <Route path="/:company/:role" element={<VariantPortfolio />} />
    18→          </Routes>
    19→        </HashRouter>
    20→      </ThemeProvider>
    21→    </HelmetProvider>
    22→  );
    23→}
    24→
    25→export default App;
    26→
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the BasePortfolio and see where Blog is used:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/pages/BasePortfolio.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** Find all Blog imports

`grep -rn "import.*Blog" /Users/dfotesco/Portfolio/portfolio/src --include="*.tsx" --include="*.ts"`

Result:

```
1→/**
     2→ * Base Portfolio Page
     3→ *
     4→ * Default portfolio without variant customization
     5→ */
     6→
     7→import { VariantProvider } from '../context/VariantContext';
     8→import { profile } from '../lib/content';
     9→import Portfolio from '../components/Portfolio';
    10→
    11→export default function BasePortfolio() {
    12→  return (
    13→    <VariantProvider profile={profile}>
    14→      <Portfolio />
    15→    </VariantProvider>
    16→  );
    17→}
    18→
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx:18:import BlogPostModal from '../../components/BlogPostModal';
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx:19:import type { BlogPost } from '../../types/blog';
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx:2:import type { BlogPost } from '../types/blog';
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx:3:import BlogPostModal from './BlogPostModal';
/Users/dfotesco/Portfolio/portfolio/src/components/Portfolio.tsx:2:import Blog from './Blog';
/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx:6:import type { BlogPost } from '../types/blog';
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me check the Portfolio component:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/Portfolio.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/lib/likes.ts`

Result:

```
1→import { useState, useEffect } from 'react';
     2→import Blog from './Blog';
     3→import ThemeToggle from './ThemeToggle';
     4→import HeroSection from './sections/HeroSection';
     5→import AboutSection from './sections/AboutSection';
     6→import ExperienceSection from './sections/ExperienceSection';
     7→import CertificationsSection from './sections/CertificationsSection';
     8→import TestimonialsSection from './sections/TestimonialsSection';
     9→import PassionProjectsSection from './sections/PassionProjectsSection';
    10→
    11→import CaseStudiesSection from './sections/CaseStudiesSection';
    12→import FooterSection from './sections/FooterSection';
    13→import CaseStudyDrawer from './case-study/CaseStudyDrawer';
    14→import AmbientBackground from './common/AmbientBackground';
    15→import Omnibar from './common/Omnibar';
    16→import { useVariant } from '../context/VariantContext';
    17→import type { CaseStudy } from '../types/portfolio';
    18→
    19→export default function Portfolio() {
    20→  // Get profile from variant context (either base or merged with variant)
    21→  const { profile } = useVariant();
    22→
    23→  const [isLoaded, setIsLoaded] = useState(false);
    24→  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    25→  const [windowWidth, setWindowWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1200);
    26→  const [modalCase, setModalCase] = useState<CaseStudy | null>(null);
    27→  const [hoveredCase, setHoveredCase] = useState<number | null>(null);
    28→
    29→  useEffect(() => {
    30→    setIsLoaded(true);
    31→
    32→    const handleResize = () => setWindowWidth(window.innerWidth);
    33→    window.addEventListener('resize', handleResize);
    34→    return () => window.removeEventListener('resize', handleResize);
    35→  }, []);
    36→
    37→  // Handle modal scroll lock and ESC key
    38→  useEffect(() => {
    39→    if (modalCase) {
    40→      document.body.style.overflow = 'hidden';
    41→      const handleEsc = (e: KeyboardEvent) => {
    42→        if (e.key === 'Escape') setModalCase(null);
    43→      };
    44→      window.addEventListener('keydown', handleEsc);
    45→      return () => {
    46→        document.body.style.overflow = '';
    47→        window.removeEventListener('keydown', handleEsc);
    48→      };
    49→    } else {
    50→      document.body.style.overflow = '';
    51→    }
    52→  }, [modalCase]);
    53→
    54→  const isMobile = windowWidth < 768;
    55→  const isTablet = windowWidth >= 768 && windowWidth < 1024;
    56→
    57→  // Section visibility flags from YAML config
    58→  const { sections } = profile;
    59→
    60→  const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
    61→
    62→  return (
    63→    <>
    64→      <style>{`
    65→        .nav-link {
    66→          color: var(--color-text-tertiary);
    67→          text-decoration: none;
    68→          font-size: 13px;
    69→          font-weight: 500;
    70→          letter-spacing: 0.05em;
    71→          text-transform: uppercase;
    72→          transition: color 0.2s ease;
    73→          cursor: pointer;
    74→        }
    75→        .nav-link:hover {
    76→          color: var(--color-text-primary);
    77→        }
    78→        .nav-cta {
    79→          color: var(--color-background);
    80→          background: var(--color-accent);
    81→          padding: 12px 24px;
    82→          text-decoration: none;
    83→          font-size: 13px;
    84→          font-weight: 600;
    85→          letter-spacing: 0.02em;
    86→          transition: all 0.2s ease;
    87→        }
    88→        .nav-cta:hover {
    89→          background: var(--color-accent-hover);
    90→        }
    91→        .mobile-menu-link {
    92→          color: var(--color-text-primary);
    93→          text-decoration: none;
    94→          font-family: var(--font-serif);
    95→          font-size: 42px;
    96→          font-style: italic;
    97→          padding: 16px 0;
    98→          border-bottom: 1px solid var(--color-border);
    99→        }
   100→        .footer-omnibar-btn {
   101→          display: flex;
   102→          align-items: center;
   103→          gap: 10px;
   104→          padding: 16px 24px;
   105→          background: transparent;
   106→          border: none;
   107→          border-radius: 2px;
   108→          color: var(--color-text-primary);
   109→          font-size: 14px;
   110→          font-weight: 500;
   111→          letter-spacing: 0.02em;
   112→          cursor: pointer;
   113→          white-space: nowrap;
   114→          text-decoration: none;
   115→          transition: background 0.2s ease;
   116→        }
   117→        .footer-omnibar-btn:hover {
   118→          background: var(--color-tag-hover);
   119→        }
   120→        .footer-omnibar-btn-primary {
   121→          background: transparent;
   122→          border: 1px solid var(--color-accent);
   123→          color: var(--color-accent);
   124→          font-weight: 600;
   125→        }
   126→        .footer-omnibar-btn-primary:hover {
   127→          background: var(--color-accent);
   128→          color: var(--color-background);
   129→        }
   130→        .social-link {
   131→          color: var(--color-separator);
   132→          text-decoration: none;
   133→          font-size: 12px;
   134→          font-weight: 500;
   135→          letter-spacing: 0.08em;
   136→          text-transform: uppercase;
   137→          transition: color 0.2s ease;
   138→        }
   139→        .social-link:hover {
   140→          color: var(--color-text-tertiary);
   141→        }
   142→      `}</style>
   143→
   144→      <div style={{
   145→        minHeight: '100vh',
   146→        background: 'var(--color-background)',
   147→        color: 'var(--color-text-primary)',
   148→        transition: 'background var(--transition-medium), color var(--transition-medium)',
   149→        position: 'relative'
   150→      }}>
   151→        <a className="skip-link" href="#main-content">
   152→          Skip to content
   153→        </a>
   154→
   155→        <AmbientBackground />
   156→
   157→        {/* Navigation - hidden when drawer is open on mobile */}
   158→        <nav
   159→          aria-label="Primary"
   160→          style={{
   161→            position: 'fixed',
   162→            top: 0,
   163→            left: 0,
   164→            right: 0,
   165→            zIndex: 100,
   166→            background: 'var(--color-nav-bg)',
   167→            backdropFilter: 'blur(12px)',
   168→            WebkitBackdropFilter: 'blur(12px)',
   169→            borderBottom: '1px solid var(--color-border-light)',
   170→            opacity: isLoaded ? 1 : 0,
   171→            transform: isLoaded ? 'translateY(0)' : 'translateY(-20px)',
   172→            transition: 'all 0.8s cubic-bezier(0.16, 1, 0.3, 1)',
   173→            display: (isMobile && modalCase) ? 'none' : 'block'
   174→          }}
   175→        >
   176→          <div style={{
   177→            maxWidth: 'var(--layout-max-width)',
   178→            margin: '0 auto',
   179→            padding: isMobile
   180→              ? 'var(--nav-height-mobile) var(--space-lg)'
   181→              : 'var(--nav-height) var(--space-3xl)',
   182→            display: 'flex',
   183→            justifyContent: 'space-between',
   184→            alignItems: 'center'
   185→          }}>
   186→            {/* Logo */}
   187→            <div style={{
   188→              fontFamily: 'var(--font-serif)',
   189→              fontSize: '24px',
   190→              fontStyle: 'italic',
   191→              fontWeight: 700,
   192→              zIndex: 101,
   193→              position: 'relative'
   194→            }}>
   195→              <a
   196→                href="#"
   197→                onClick={(e) => {
   198→                  e.preventDefault();
   199→                  // Close any open drawer
   200→                  setModalCase(null);
   201→                  // Close mobile menu if open
   202→                  setMobileMenuOpen(false);
   203→                  // Scroll to top
   204→                  window.scrollTo({ top: 0, behavior: 'smooth' });
   205→                  // Clear URL hash if any
   206→                  if (window.location.hash) {
   207→                    window.history.pushState(null, '', window.location.pathname);
   208→                  }
   209→                }}
   210→                style={{
   211→                  textDecoration: 'none',
   212→                  color: 'var(--color-text-primary)',
   213→                  transition: 'color 0.4s ease',
   214→                  cursor: 'pointer'
   215→                }}
   216→              >
   217→                {profile.name}
   218→              </a>
   219→            </div>
   220→
   221→            {/* Desktop Navigation */}
   222→            {!isMobile && (
   223→              <div style={{ display: 'flex', gap: 'var(--space-xl)', alignItems: 'center' }}>
   224→                {['Work', 'About', 'Blog'].map((item) => (
   225→                  <a
   226→                    key={item}
   227→                    href={`#${item.toLowerCase()}`}
   228→                    className="nav-link"
   229→                  >
   230→                    {item}
   231→                  </a>
   232→                ))}
   233→                <ThemeToggle />
   234→                <a href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o=" target="_blank" rel="noopener noreferrer" className="nav-cta">
   235→                  Get in Touch
   236→                </a>
   237→              </div>
   238→            )}
   239→
   240→            {/* Mobile Menu Button */}
   241→            {isMobile && (
   242→              <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-sm)' }}>
   243→                <ThemeToggle isMobile />
   244→                <button
   245→                  type="button"
   246→                  onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
   247→                  aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}
   248→                  aria-expanded={mobileMenuOpen}
   249→                  aria-controls="mobile-menu"
   250→                  style={{
   251→                    background: 'transparent',
   252→                    border: 'none',
   253→                    padding: 'var(--space-sm)',
   254→                    cursor: 'pointer',
   255→                    zIndex: 101,
   256→                    position: 'relative',
   257→                    color: 'var(--color-text-primary)'
   258→                  }}
   259→                >
   260→                  <span style={{
   261→                    fontSize: '14px',
   262→                    textTransform: 'uppercase',
   263→                    letterSpacing: '0.1em',
   264→                    fontWeight: 600
   265→                  }}>
   266→                    {mobileMenuOpen ? 'Close' : 'Menu'}
   267→                  </span>
   268→                </button>
   269→              </div>
   270→            )}
   271→          </div>
   272→        </nav>
   273→
   274→        {/* Mobile Menu Overlay */}
   275→        {isMobile && (
   276→          <div
   277→            id="mobile-menu"
   278→            role="dialog"
   279→            aria-modal="true"
   280→            aria-label="Navigation menu"
   281→            style={{
   282→              position: 'fixed',
   283→              top: 0,
   284→              left: 0,
   285→              right: 0,
   286→              bottom: 0,
   287→              background: 'var(--color-background)',
   288→              zIndex: 99,
   289→              display: 'flex',
   290→              flexDirection: 'column',
   291→              justifyContent: 'center',
   292→              padding: '0 var(--space-lg)',
   293→              opacity: mobileMenuOpen ? 1 : 0,
   294→              pointerEvents: mobileMenuOpen ? 'auto' : 'none',
   295→              transition: 'opacity 0.3s ease, background 0.4s ease'
   296→            }}>
   297→            {['Work', 'About', 'Blog', 'Contact'].map((item, i) => (
   298→              <a
   299→                key={item}
   300→                href={item === 'Contact' ? `mailto:${profile.email}` : `#${item.toLowerCase()}`}
   301→                onClick={() => setMobileMenuOpen(false)}
   302→                className="mobile-menu-link"
   303→                style={{
   304→                  transform: mobileMenuOpen ? 'translateX(0)' : 'translateX(-20px)',
   305→                  opacity: mobileMenuOpen ? 1 : 0,
   306→                  transition: `all 0.4s ease ${i * 0.08}s`
   307→                }}
   308→              >
   309→                {item}
   310→              </a>
   311→            ))}
   312→          </div>
   313→        )}
   314→
   315→        <main id="main-content" style={{ position: 'relative', zIndex: 1 }}>
   316→          {/* Hero Section */}
   317→          <HeroSection
   318→            profile={profile}
   319→            isMobile={isMobile}
   320→            isTablet={isTablet}
   321→            isLoaded={isLoaded}
   322→          />
   323→
   324→          {/* About Section */}
   325→          <AboutSection
   326→            profile={profile}
   327→            isMobile={isMobile}
   328→            isTablet={isTablet}
   329→            sectionPadding={sectionPadding}
   330→          />
   331→
   332→          {/* Experience Section */}
   333→          <ExperienceSection
   334→            isMobile={isMobile}
   335→            isTablet={isTablet}
   336→            sectionPadding={sectionPadding}
   337→          />
   338→
   339→          {/* Certifications Section */}
   340→          <CertificationsSection
   341→            profile={profile}
   342→            isMobile={isMobile}
   343→            isTablet={isTablet}
   344→            sectionPadding={sectionPadding}
   345→          />
   346→
   347→          {/* Skills Section - conditionally rendered */}
   348→          {sections.skills && (
   349→            <section style={{
   350→              padding: sectionPadding,
   351→              maxWidth: 'var(--layout-max-width)',
   352→              margin: '0 auto',
   353→              position: 'relative',
   354→              zIndex: 1
   355→            }}>
   356→              {/* Skills content would go here */}
   357→            </section>
   358→          )}
   359→
   360→          {/* Case Studies Section */}
   361→          <CaseStudiesSection
   362→            isMobile={isMobile}
   363→            isTablet={isTablet}
   364→            sectionPadding={sectionPadding}
   365→            hoveredCase={hoveredCase}
   366→            setHoveredCase={setHoveredCase}
   367→            onCaseClick={(study) => setModalCase(study)}
   368→          />
   369→
   370→          {/* Passion Projects Section */}
   371→          {sections.passionProjects && (
   372→            <PassionProjectsSection
   373→              isMobile={isMobile}
   374→              sectionPadding={sectionPadding}
   375→            />
   376→          )}
   377→
   378→          {/* Testimonials Section */}
   379→          <TestimonialsSection
   380→            isMobile={isMobile}
   381→            isTablet={isTablet}
   382→            sectionPadding={sectionPadding}
   383→          />
   384→
   385→          {/* Blog Section */}
   386→          {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   387→
   388→          {/* Final CTA */}
   389→          <section style={{
   390→            padding: isMobile ? '48px 24px 64px' : '64px 64px 80px',
   391→            maxWidth: '1000px',
   392→            margin: '0 auto',
   393→            textAlign: 'center',
   394→            position: 'relative',
   395→            zIndex: 1
   396→          }}>
   397→            <h2 style={{
   398→              fontSize: isMobile ? '10vw' : '7vw',
   399→              fontFamily: 'var(--font-serif)',
   400→              fontWeight: 400,
   401→              fontStyle: 'italic',
   402→              color: 'var(--color-text-primary)',
   403→              letterSpacing: '-0.03em',
   404→              lineHeight: 1,
   405→              marginBottom: 'var(--space-xl)'
   406→            }}>
   407→              Let's build
   408→            </h2>
   409→
   410→            <p style={{
   411→              fontSize: '16px',
   412→              color: 'var(--color-text-tertiary)',
   413→              maxWidth: '440px',
   414→              margin: '0 auto var(--space-xl)',
   415→              lineHeight: 1.6
   416→            }}>
   417→              Open to PM roles in AI, infrastructure, and Web3.
   418→              Particularly interested in where agents meet on-chain execution.
   419→              Based in {profile.location} ({profile.timezone}), flexible on remote.
   420→            </p>
   421→
   422→            {/* Omnibar-style CTA */}
   423→            <div style={{
   424→              display: 'inline-flex',
   425→              alignItems: 'center',
   426→              gap: 'var(--space-sm)',
   427→              padding: 'var(--space-sm)',
   428→              background: 'var(--color-surface-glass)',
   429→              backdropFilter: 'blur(12px)',
   430→              WebkitBackdropFilter: 'blur(12px)',
   431→              borderRadius: '6px',
   432→              border: '1px solid var(--color-border-light)',
   433→              boxShadow: '0 12px 40px rgba(0, 0, 0, 0.15)',
   434→              flexWrap: isMobile ? 'wrap' : 'nowrap',
   435→              justifyContent: 'center'
   436→            }}>
   437→              {/* Copy Email */}
   438→              <button
   439→                onClick={() => {
   440→                  navigator.clipboard.writeText(profile.email);
   441→                }}
   442→                className="footer-omnibar-btn"
   443→              >
   444→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   445→                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
   446→                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
   447→                </svg>
   448→                <span>Copy Email</span>
   449→              </button>
   450→
   451→              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   452→
   453→              {/* Resume */}
   454→              <a
   455→                href="/dmitrii-fotesco-resume.pdf"
   456→                target="_blank"
   457→                rel="noopener noreferrer"
   458→                className="footer-omnibar-btn"
   459→              >
   460→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   461→                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
   462→                  <polyline points="7 10 12 15 17 10" />
   463→                  <line x1="12" y1="15" x2="12" y2="3" />
   464→                </svg>
   465→                <span>Resume</span>
   466→              </a>
   467→
   468→              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   469→
   470→              {/* Book Time */}
   471→              <a
   472→                href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o="
   473→                target="_blank"
   474→                rel="noopener noreferrer"
   475→                className="footer-omnibar-btn footer-omnibar-btn-primary"
   476→              >
   477→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   478→                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
   479→                  <line x1="16" y1="2" x2="16" y2="6" />
   480→                  <line x1="8" y1="2" x2="8" y2="6" />
   481→                  <line x1="3" y1="10" x2="21" y2="10" />
   482→                </svg>
   483→                <span>Book Time</span>
   484→              </a>
   485→            </div>
   486→
   487→            {/* Social Icons Bar */}
   488→            <div style={{
   489→              display: 'flex',
   490→              justifyContent: 'center',
   491→              gap: 'var(--space-lg)',
   492→              marginTop: 'var(--space-xl)'
   493→            }}>
   494→              {/* LinkedIn */}
   495→              <a
   496→                href="https://www.linkedin.com/in/0xdmitri/"
   497→                target="_blank"
   498→                rel="noopener noreferrer"
   499→                title="LinkedIn"
   500→                style={{
   501→                  color: 'var(--color-text-tertiary)',
   502→                  transition: 'color 0.2s ease'
   503→                }}
   504→              >
   505→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   506→                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
   507→                </svg>
   508→              </a>
   509→
   510→              {/* GitHub */}
   511→              <a
   512→                href="https://github.com/fotescodev"
   513→                target="_blank"
   514→                rel="noopener noreferrer"
   515→                title="GitHub"
   516→                style={{
   517→                  color: 'var(--color-text-tertiary)',
   518→                  transition: 'color 0.2s ease'
   519→                }}
   520→              >
   521→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   522→                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
   523→                </svg>
   524→              </a>
   525→
   526→              {/* X / Twitter */}
   527→              <a
   528→                href="https://x.com/kolob0kk"
   529→                target="_blank"
   530→                rel="noopener noreferrer"
   531→                title="X / Twitter"
   532→                style={{
   533→                  color: 'var(--color-text-tertiary)',
   534→                  transition: 'color 0.2s ease'
   535→                }}
   536→              >
   537→                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
   538→                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
   539→                </svg>
   540→              </a>
   541→
   542→              {/* Telegram */}
   543→              <a
   544→                href="https://t.me/zimbru0x"
   545→                target="_blank"
   546→                rel="noopener noreferrer"
   547→                title="Telegram"
   548→                style={{
   549→                  color: 'var(--color-text-tertiary)',
   550→                  transition: 'color 0.2s ease'
   551→                }}
   552→              >
   553→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   554→                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z" />
   555→                </svg>
   556→              </a>
   557→            </div>
   558→          </section>
   559→
   560→          {/* Omnibar */}
   561→          <Omnibar />
   562→
   563→          {/* Case Study Modal */}
   564→          {modalCase && (
   565→            <CaseStudyDrawer
   566→              isOpen={!!modalCase}
   567→              onClose={() => setModalCase(null)}
   568→              caseStudy={modalCase}
   569→              isMobile={isMobile}
   570→              onNavigate={(study) => setModalCase(study)}
   571→            />
   572→          )}
   573→
   574→        </main>
   575→
   576→        {/* Footer */}
   577→        <FooterSection isMobile={isMobile} />
   578→      </div>
   579→    </>
   580→  );
   581→}
   582→
```

Result:

```
1→/**
     2→ * Blog Post Likes System
     3→ *
     4→ * Manages like functionality with client-side persistence and tracking.
     5→ * Stores like data in localStorage with user tracking information.
     6→ */
     7→
     8→export interface LikeData {
     9→    postSlug: string;
    10→    count: number;
    11→    timestamp: number;
    12→    userFingerprint: string;
    13→}
    14→
    15→export interface UserLike {
    16→    postSlug: string;
    17→    timestamp: number;
    18→    userAgent: string;
    19→    fingerprintHash: string;
    20→}
    21→
    22→const LIKES_STORAGE_KEY = 'blog-post-likes';
    23→const USER_LIKES_KEY = 'user-likes';
    24→const USER_FINGERPRINT_KEY = 'user-fingerprint';
    25→
    26→/**
    27→ * Generate a simple fingerprint for the user
    28→ * Uses browser characteristics to create a semi-stable identifier
    29→ */
    30→function generateUserFingerprint(): string {
    31→    const canvas = document.createElement('canvas');
    32→    const ctx = canvas.getContext('2d');
    33→    if (ctx) {
    34→        ctx.textBaseline = 'top';
    35→        ctx.font = '14px Arial';
    36→        ctx.fillText('fingerprint', 2, 2);
    37→    }
    38→
    39→    const components = [
    40→        navigator.userAgent,
    41→        navigator.language,
    42→        screen.colorDepth,
    43→        screen.width + 'x' + screen.height,
    44→        new Date().getTimezoneOffset(),
    45→        canvas.toDataURL()
    46→    ];
    47→
    48→    // Simple hash function
    49→    const str = components.join('|');
    50→    let hash = 0;
    51→    for (let i = 0; i < str.length; i++) {
    52→        const char = str.charCodeAt(i);
    53→        hash = ((hash << 5) - hash) + char;
    54→        hash = hash & hash;
    55→    }
    56→
    57→    return Math.abs(hash).toString(36);
    58→}
    59→
    60→/**
    61→ * Get or create user fingerprint
    62→ */
    63→function getUserFingerprint(): string {
    64→    try {
    65→        let fingerprint = localStorage.getItem(USER_FINGERPRINT_KEY);
    66→        if (!fingerprint) {
    67→            fingerprint = generateUserFingerprint();
    68→            localStorage.setItem(USER_FINGERPRINT_KEY, fingerprint);
    69→        }
    70→        return fingerprint;
    71→    } catch {
    72→        // Fallback if localStorage is not available
    73→        return generateUserFingerprint();
    74→    }
    75→}
    76→
    77→/**
    78→ * Get all likes from storage
    79→ */
    80→function getAllLikes(): Record<string, LikeData> {
    81→    try {
    82→        const data = localStorage.getItem(LIKES_STORAGE_KEY);
    83→        return data ? JSON.parse(data) : {};
    84→    } catch {
    85→        return {};
    86→    }
    87→}
    88→
    89→/**
    90→ * Save likes to storage
    91→ */
    92→function saveLikes(likes: Record<string, LikeData>): void {
    93→    try {
    94→        localStorage.setItem(LIKES_STORAGE_KEY, JSON.stringify(likes));
    95→    } catch (error) {
    96→        console.error('Failed to save likes:', error);
    97→    }
    98→}
    99→
   100→/**
   101→ * Get user's likes from storage
   102→ */
   103→function getUserLikes(): UserLike[] {
   104→    try {
   105→        const data = localStorage.getItem(USER_LIKES_KEY);
   106→        return data ? JSON.parse(data) : [];
   107→    } catch {
   108→        return [];
   109→    }
   110→}
   111→
   112→/**
   113→ * Save user's likes to storage
   114→ */
   115→function saveUserLikes(userLikes: UserLike[]): void {
   116→    try {
   117→        localStorage.setItem(USER_LIKES_KEY, JSON.stringify(userLikes));
   118→    } catch (error) {
   119→        console.error('Failed to save user likes:', error);
   120→    }
   121→}
   122→
   123→/**
   124→ * Check if user has liked a post
   125→ */
   126→export function hasUserLikedPost(postSlug: string): boolean {
   127→    const userLikes = getUserLikes();
   128→    return userLikes.some(like => like.postSlug === postSlug);
   129→}
   130→
   131→/**
   132→ * Get like count for a post
   133→ */
   134→export function getLikeCount(postSlug: string): number {
   135→    const likes = getAllLikes();
   136→    return likes[postSlug]?.count || 0;
   137→}
   138→
   139→/**
   140→ * Like a post (increment count)
   141→ */
   142→export function likePost(postSlug: string): { count: number; success: boolean } {
   143→    try {
   144→        // Check if already liked
   145→        if (hasUserLikedPost(postSlug)) {
   146→            return { count: getLikeCount(postSlug), success: false };
   147→        }
   148→
   149→        const likes = getAllLikes();
   150→        const fingerprint = getUserFingerprint();
   151→        const timestamp = Date.now();
   152→
   153→        // Update like count
   154→        if (!likes[postSlug]) {
   155→            likes[postSlug] = {
   156→                postSlug,
   157→                count: 0,
   158→                timestamp,
   159→                userFingerprint: fingerprint
   160→            };
   161→        }
   162→        likes[postSlug].count += 1;
   163→        saveLikes(likes);
   164→
   165→        // Track user's like
   166→        const userLikes = getUserLikes();
   167→        userLikes.push({
   168→            postSlug,
   169→            timestamp,
   170→            userAgent: navigator.userAgent,
   171→            fingerprintHash: fingerprint
   172→        });
   173→        saveUserLikes(userLikes);
   174→
   175→        return { count: likes[postSlug].count, success: true };
   176→    } catch (error) {
   177→        console.error('Failed to like post:', error);
   178→        return { count: getLikeCount(postSlug), success: false };
   179→    }
   180→}
   181→
   182→/**
   183→ * Unlike a post (decrement count)
   184→ */
   185→export function unlikePost(postSlug: string): { count: number; success: boolean } {
   186→    try {
   187→        // Check if user has liked this post
   188→        if (!hasUserLikedPost(postSlug)) {
   189→            return { count: getLikeCount(postSlug), success: false };
   190→        }
   191→
   192→        const likes = getAllLikes();
   193→
   194→        // Decrement count
   195→        if (likes[postSlug] && likes[postSlug].count > 0) {
   196→            likes[postSlug].count -= 1;
   197→            saveLikes(likes);
   198→        }
   199→
   200→        // Remove from user's likes
   201→        const userLikes = getUserLikes();
   202→        const updatedUserLikes = userLikes.filter(like => like.postSlug !== postSlug);
   203→        saveUserLikes(updatedUserLikes);
   204→
   205→        return { count: likes[postSlug]?.count || 0, success: true };
   206→    } catch (error) {
   207→        console.error('Failed to unlike post:', error);
   208→        return { count: getLikeCount(postSlug), success: false };
   209→    }
   210→}
   211→
   212→/**
   213→ * Get all posts with likes (for analytics)
   214→ */
   215→export function getAllPostLikes(): LikeData[] {
   216→    const likes = getAllLikes();
   217→    return Object.values(likes).sort((a, b) => b.count - a.count);
   218→}
   219→
   220→/**
   221→ * Get all user likes (for analytics)
   222→ */
   223→export function getAllUserLikes(): UserLike[] {
   224→    return getUserLikes().sort((a, b) => b.timestamp - a.timestamp);
   225→}
   226→
   227→/**
   228→ * Export likes data as JSON (for backup/analysis)
   229→ */
   230→export function exportLikesData(): string {
   231→    return JSON.stringify({
   232→        postLikes: getAllPostLikes(),
   233→        userLikes: getAllUserLikes(),
   234→        exportDate: new Date().toISOString()
   235→    }, null, 2);
   236→}
   237→
   238→/**
   239→ * Get like analytics for a specific post
   240→ */
   241→export function getPostLikeAnalytics(postSlug: string): {
   242→    count: number;
   243→    userLikes: UserLike[];
   244→    firstLikeDate: Date | null;
   245→    lastLikeDate: Date | null;
   246→} {
   247→    const count = getLikeCount(postSlug);
   248→    const userLikes = getAllUserLikes().filter(like => like.postSlug === postSlug);
   249→
   250→    let firstLikeDate = null;
   251→    let lastLikeDate = null;
   252→
   253→    if (userLikes.length > 0) {
   254→        const timestamps = userLikes.map(like => like.timestamp);
   255→        firstLikeDate = new Date(Math.min(...timestamps));
   256→        lastLikeDate = new Date(Math.max(...timestamps));
   257→    }
   258→
   259→    return {
   260→        count,
   261→        userLikes,
   262→        firstLikeDate,
   263→        lastLikeDate
   264→    };
   265→}
   266→
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me check the vite configuration to understand how the markdown glob works:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** Find vite and tsconfig configuration files

`find /Users/dfotesco/Portfolio/portfolio -name "vite.config.*" -o -name "tsconfig.json" | head -5`

Result:

```
/Users/dfotesco/Portfolio/portfolio/node_modules/@jest/pattern/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/vitest/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/jest-globals/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/bun/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/jest/tsconfig.json
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me search for vite config more specifically:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List config files in portfolio root

`ls -la /Users/dfotesco/Portfolio/portfolio/ | grep -E "vite|tsconfig"`

Result:

```
-rw-r--r--@   1 dfotesco  staff     732 Dec 10 12:54 tsconfig.app.json
-rw-r--r--@   1 dfotesco  staff     119 Dec 10 12:54 tsconfig.json
-rw-r--r--@   1 dfotesco  staff     653 Dec 10 12:54 tsconfig.node.json
-rw-r--r--@   1 dfotesco  staff     233 Dec 11 18:24 vite.config.ts
-rw-r--r--@   1 dfotesco  staff     640 Dec 12 12:06 vitest.config.ts
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me read the vite config:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./vite.config.ts`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List all blog post files

`ls -la /Users/dfotesco/Portfolio/portfolio/content/blog/`

Result:

```
1→import { defineConfig } from 'vite'
     2→import react from '@vitejs/plugin-react'
     3→import yaml from '@rollup/plugin-yaml'
     4→
     5→// https://vite.dev/config/
     6→export default defineConfig({
     7→  plugins: [
     8→    react(),
     9→    yaml()
    10→  ],
    11→  base: '/',
    12→})
    13→
```

Result:

```
total 48
drwxr-xr-x@  7 dfotesco  staff   224 Dec 15 19:14 .
drwxr-xr-x@ 13 dfotesco  staff   416 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff    65 Dec 10 12:54 .gitkeep
-rw-r--r--@  1 dfotesco  staff  4090 Dec 10 12:54 2024-11-15-etf-grade-staking.md
-rw-r--r--@  1 dfotesco  staff  3217 Dec 10 12:54 2024-12-01-ai-agents-meet-onchain.md
-rw-r--r--@  1 dfotesco  staff  6505 Dec 11 09:34 2024-12-11-portfolio-retrospective.md
-rw-r--r--@  1 dfotesco  staff  3832 Dec 15 19:14 2024-12-15-why-validation-matters.md
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the test file to understand more features:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/tests/blog/blog-ux-features.test.tsx`

Result:

```
1→/**
     2→ * Blog UX Features Tests
     3→ *
     4→ * Comprehensive test suite for blog post modal UX enhancements:
     5→ * - Reading progress bar
     6→ * - Table of contents with scroll spy
     7→ * - Copy code buttons
     8→ * - Back-to-top button
     9→ * - Related posts
    10→ * - Social sharing
    11→ * - Fluid typography
    12→ * - Design system compliance
    13→ */
    14→
    15→import { render, screen, fireEvent, waitFor } from '@testing-library/react';
    16→import { vi, describe, it, expect, beforeEach, afterEach } from 'vitest';
    17→import { ThemeProvider } from '../../context/ThemeContext';
    18→import BlogPostModal from '../../components/BlogPostModal';
    19→import type { BlogPost } from '../../types/blog';
    20→
    21→// Test wrapper with ThemeProvider
    22→const TestWrapper = ({ children }: { children: React.ReactNode }) => (
    23→    <ThemeProvider>{children}</ThemeProvider>
    24→);
    25→
    26→// Mock blog post data
    27→const mockPost: BlogPost = {
    28→    slug: 'test-post',
    29→    title: 'Test Blog Post with UX Features',
    30→    date: '2024-12-15',
    31→    excerpt: 'A test post to verify all UX features work correctly',
    32→    tags: ['Testing', 'UX', 'Features'],
    33→    thumbnail: null,
    34→    readingTime: 5,
    35→    content: `
    36→# Introduction
    37→
    38→This is a test blog post with multiple sections.
    39→
    40→## First Section
    41→
    42→Some content here with a code example:
    43→
    44→\`\`\`javascript
    45→function testFunction() {
    46→    return "Hello World";
    47→}
    48→\`\`\`
    49→
    50→## Second Section
    51→
    52→More content in the second section.
    53→
    54→### Subsection
    55→
    56→Even more detailed content.
    57→    `.trim()
    58→};
    59→
    60→const mockRelatedPosts: BlogPost[] = [
    61→    {
    62→        slug: 'related-1',
    63→        title: 'Related Post 1',
    64→        date: '2024-12-10',
    65→        excerpt: 'First related post',
    66→        tags: ['Testing', 'Related'],
    67→        thumbnail: null,
    68→        readingTime: 3,
    69→        content: '# Related content'
    70→    },
    71→    {
    72→        slug: 'related-2',
    73→        title: 'Related Post 2',
    74→        date: '2024-12-11',
    75→        excerpt: 'Second related post',
    76→        tags: ['UX', 'Related'],
    77→        thumbnail: null,
    78→        readingTime: 4,
    79→        content: '# Related content'
    80→    }
    81→];
    82→
    83→describe('BlogPostModal - UX Features', () => {
    84→    let mockOnClose: ReturnType<typeof vi.fn>;
    85→    let mockOnPostSelect: ReturnType<typeof vi.fn>;
    86→    let localStorageMock: { [key: string]: string };
    87→
    88→    beforeEach(() => {
    89→        mockOnClose = vi.fn();
    90→        mockOnPostSelect = vi.fn();
    91→
    92→        // Mock localStorage
    93→        localStorageMock = {};
    94→        global.Storage.prototype.getItem = vi.fn((key: string) => localStorageMock[key] || null);
    95→        global.Storage.prototype.setItem = vi.fn((key: string, value: string) => {
    96→            localStorageMock[key] = value;
    97→        });
    98→        global.Storage.prototype.clear = vi.fn(() => {
    99→            localStorageMock = {};
   100→        });
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the blog template file:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./content/_templates/blog-post.md`

Result:

```
1→---
     2→title: "Your Blog Post Title"
     3→date: "2024-12-15"
     4→excerpt: "A compelling one-sentence description that appears in the blog list. Make it count—this is what draws readers in."
     5→tags: ["Tag1", "Tag2", "Tag3"]
     6→thumbnail: null
     7→---
     8→
     9→Opening paragraph that hooks the reader. What's the key insight or story you're sharing?
    10→
    11→## Main Section 1
    12→
    13→Your content here. Use subheadings to organize your thoughts.
    14→
    15→### Subsection
    16→
    17→More detailed content.
    18→
    19→## Main Section 2
    20→
    21→Continue developing your argument or narrative.
    22→
    23→**Key points:**
    24→- Point 1
    25→- Point 2
    26→- Point 3
    27→
    28→## Main Section 3
    29→
    30→Wrap up with conclusions or next steps.
    31→
    32→> Use callouts for important quotes or insights.
    33→
    34→### Code Examples (if applicable)
    35→
    36→\```typescript
    37→// Example code snippet
    38→function example() {
    39→  return "formatted code";
    40→}
    41→\```
    42→
    43→## Conclusion
    44→
    45→Summarize your key takeaways. What should readers remember?
    46→
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Perfect! Now I have a comprehensive understanding. Let me create a detailed summary report of the blog implementation.

## Blog Implementation Exploration Report

I've thoroughly explored the blog implementation in your portfolio codebase. Here's a complete breakdown of how the blog currently works:

### 1. Blog Modal Component & Triggering

**File:** `/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx`

The `BlogPostModal` is a full-screen modal component triggered when users click on a blog post in the list. Key features:

- **Triggering:** Opened by clicking on a blog post article in the Blog section (line 212 in Blog.tsx: `onClick={() => setSelectedPost(post)}`)
- **Modal Controls:**
  - Back button (returns to blog list)
  - Close button (X icon) 
  - ESC key to close
  - Scroll lock on body (prevents background scrolling)

- **Advanced UX Features:**
  - Reading progress bar (top of modal, shows scroll position)
  - Table of contents (sticky sidebar on desktop)
  - Back-to-top button (appears after 400px scroll)
  - Code copy buttons
  - Smooth scroll-spy for active headings
  - Social sharing buttons (Twitter, LinkedIn, copy link, native share)
  - Like/unlike functionality with animations
  - Related posts suggestions based on shared tags

### 2. BlogSection Component Structure

**File:** `/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx`

The main Blog component serves as the section container with these responsibilities:

- **Section Layout:**
  - Section label "Insights" with decorative line
  - Section title: "Thoughts on building at the edge"
  - Descriptive tagline about content focus
  
- **Blog Posts Display:**
  - Renders list of blog posts in grid format (responsive)
  - Shows date, reading time, title, excerpt, and tags
  - Hover effects on desktop
  - Navigation arrows on desktop
  - Related posts feature

- **State Management:**
  - `hoveredPost` - tracks which post is being hovered
  - `selectedPost` - tracks which post is open in modal
  - Navigation between posts (prev/next)
  - Related posts calculation based on tag similarity

### 3. How Blog Posts Are Loaded and Rendered

**Auto-discovery mechanism (Blog.tsx, line 6):**
```typescript
const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
```

**Parsing Process:**

1. **Frontmatter Parsing** (lines 14-53):
   - Extracts YAML frontmatter delimited by `---`
   - Parses key-value pairs (title, date, excerpt, tags, thumbnail)
   - Handles arrays, quoted strings, and null values

2. **Reading Time Calculation** (lines 56-60):
   - Counts words in content
   - Divides by 200 words/minute average
   - Returns ceil value

3. **Slug Generation** (lines 62-67):
   - Extracts from filename: `YYYY-MM-DD-slug.md`
   - Removes date prefix and `.md` extension
   - Used for URL anchors and post identification

4. **Post Parsing** (lines 70-89):
   - Builds BlogPost objects with metadata and content
   - Sorts by date (newest first)
   - Returns array of structured posts

**Rendering:**
- ReactMarkdown component renders markdown content
- Syntax highlighting via `react-syntax-highlighter`
- GitHub Flavored Markdown (GFM) support via `remark-gfm`
- Custom markdown components for code blocks with copy buttons

### 4. Blog Content Files Structure

**Location:** `/Users/dfotesco/Portfolio/portfolio/content/blog/`

**Template:** `/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md`

**Format:** YAML frontmatter + Markdown content

**Frontmatter Fields:**
```yaml
title: "Your Blog Post Title"
date: "2024-12-15"  # ISO date format
excerpt: "Short compelling description"
tags: ["Tag1", "Tag2", "Tag3"]  # Array of tags
thumbnail: null  # Optional image URL or null
```

**Current Blog Posts:**
1. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-11-15-etf-grade-staking.md` - "The Hidden Complexity of ETF-Grade Staking"
2. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-01-ai-agents-meet-onchain.md`
3. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-11-portfolio-retrospective.md`
4. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-15-why-validation-matters.md`

### 5. Routing Setup

**Navigation Integration:**

1. **Hash-based routing** (App.tsx, lines 1-2):
   - Uses `HashRouter` from react-router-dom
   - Blog section uses hash anchor: `#blog`

2. **Navigation Links** (Portfolio.tsx, lines 224-231):
   - Desktop nav: `['Work', 'About', 'Blog'].map((item) => <a href={`#${item.toLowerCase()}`}>`
   - Mobile nav: Same structure in mobile menu overlay (lines 297-310)

3. **Section Rendering** (Portfolio.tsx, line 386):
   ```typescript
   {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   ```
   - Blog section is conditionally rendered based on profile config
   - Receives responsive breakpoint props

4. **URL Structure:**
   - Main blog section: `#blog`
   - Shareable post links: `/#blog?post={slug}` (generated in BlogPostModal, line 172)

### 6. Supporting Systems

**Blog Post Likes** (`/Users/dfotesco/Portfolio/portfolio/src/lib/likes.ts`):
- Client-side persistence using localStorage
- User fingerprinting to prevent duplicate likes
- Functions: `likePost()`, `unlikePost()`, `getLikeCount()`, `hasUserLikedPost()`
- Analytics functions for tracking engagement

**Type Definitions** (`/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts`):
```typescript
export interface BlogPost {
    slug: string;
    title: string;
    date: string;
    excerpt: string;
    tags: string[];
    readingTime: number;
    thumbnail?: string | null;
    content: string;
}
```

**Build Configuration** (`vite.config.ts`):
- Uses Vite with React plugin
- YAML plugin for content parsing
- Raw markdown imports via `import.meta.glob`

This is a sophisticated, self-contained blog system that leverages Vite's glob imports for static markdown discovery, renders posts with rich markdown support, and provides an excellent reading experience with modern UX features like reading progress, table of contents, and social sharing.

