<!-- Generated by SpecStory, Markdown v2.0.0 -->

# 2025-12-19 00:38:16Z

<!-- Claude Code Session 624e4926-602d-4550-a4ea-eb55180f5f48 (2025-12-19_00-38-16Z) -->

_**User**_

orient yourself in the codebase and most recent updates

---

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
The user wants me to orient myself in the codebase and understand the most recent updates. This is an exploration task, so I should use the Task tool with subagent_type=Explore to efficiently gather context about the codebase structure and recent changes.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

I'll explore the codebase structure and recent updates for you.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="unknown" data-tool-name="Task"><details>
<summary>Tool use: **Task**</summary>
 Explore codebase structure
```
Perfect! Now I have a comprehensive understanding of the codebase. Let me provide a concise summary.

## Codebase Architecture Summary

I've thoroughly explored the Dmitrii Fotesco portfolio codebase. Here's a comprehensive overview:

### Project Overview
**Name**: Dmitrii Fotesco's Senior Technical PM Portfolio  
**URL**: https://edgeoftrust.com  
**Status**: Production-ready (80% maturity)  
**Tech Stack**: React 19 + TypeScript + Vite + Framer Motion + Zod  
**Repository**: https://github.com/fotescodev/portfolio

---

### Core Architecture

#### 1. **Directory Structure**
```
portfolio/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Main UI components
â”‚   â”‚   â”œâ”€â”€ sections/        # Page sections (Hero, About, Experience, etc.)
â”‚   â”‚   â”œâ”€â”€ case-study/      # Case study modal & display components
â”‚   â”‚   â””â”€â”€ common/          # Shared UI (Omnibar, AmbientBackground)
â”‚   â”œâ”€â”€ pages/               # Route pages (Base & Variant portfolios)
â”‚   â”œâ”€â”€ context/             # React contexts (Theme, Variant profile injection)
â”‚   â”œâ”€â”€ lib/                 # Utilities (content loader, Zod schemas, variant logic)
â”‚   â”œâ”€â”€ types/               # TypeScript interfaces
â”‚   â”œâ”€â”€ styles/              # CSS variables & globals
â”‚   â””â”€â”€ tests/               # Vitest + Testing Library suite
â”œâ”€â”€ content/                 # YAML & markdown content files
â”‚   â”œâ”€â”€ profile.yaml         # Base profile data
â”‚   â”œâ”€â”€ experience/          # Job history
â”‚   â”œâ”€â”€ case-studies/        # Markdown with YAML frontmatter
â”‚   â”œâ”€â”€ blog/                # Blog posts
â”‚   â”œâ”€â”€ skills/              # Skill categories
â”‚   â””â”€â”€ variants/            # Personalized variants (Bloomberg, Gensyn)
â”œâ”€â”€ scripts/                 # CLI utilities
â”‚   â”œâ”€â”€ validate-content.ts  # Content validation
â”‚   â””â”€â”€ generate-cv.ts       # AI-powered variant generator
â””â”€â”€ context/                 # Documentation & governance
    â”œâ”€â”€ CODEBASE.md          # Architecture docs
    â”œâ”€â”€ DESIGN.md            # Design system specs
    â”œâ”€â”€ STATE_OF_THE_UNION.md # Current audit & status
    â”œâ”€â”€ ROADMAP.md           # Feature roadmap
    â”œâ”€â”€ AGENT_RULES.md       # AI collaboration rules
    â””â”€â”€ DEVLOG.md            # Session history
```

---

### 2. **Key Technologies**

| Category | Technology | Purpose |
|----------|-----------|---------|
| **Core** | React 19 | UI framework |
| **Language** | TypeScript 5.9 | Type safety |
| **Build** | Vite 7.2 | Module bundler |
| **Routing** | React Router DOM 6 (HashRouter) | Client-side routing |
| **Animation** | Framer Motion 12 | Smooth transitions |
| **Validation** | Zod 4.1 | Schema validation |
| **Content** | gray-matter, react-markdown | YAML/markdown parsing |
| **Testing** | Vitest 3.2, Testing Library 16 | Test framework |
| **Styling** | CSS Variables (globals.css) | Design tokens |
| **SEO** | react-helmet-async | Meta tag management |

---

### 3. **Main Components & Pages**

**Page Routes:**
- `/#/` â€” Base portfolio
- `/#/company/role` â€” Personalized variant (e.g., `/#/bloomberg/technical-product-manager`)

**Key Sections:**
- **HeroSection** â€” Animated headline with CTA buttons
- **AboutSection** â€” Tagline + bio + stats
- **ExperienceSection** â€” Job history timeline
- **CaseStudiesSection** â€” Featured projects with drawer modal
- **CertificationsSection** â€” Credentials + instructor info
- **PassionProjectsSection** â€” Side projects gallery
- **TestimonialsSection** â€” Social proof carousel
- **SocialSection** â€” Contact & social links
- **BlogSection** â€” Article listing with modal reader

**Shared Components:**
- **ThemeToggle** â€” Dark/light mode switcher
- **AmbientBackground** â€” Animated orbs + grid overlay
- **Omnibar** â€” Navigation bar with glassmorphism
- **Blog.tsx** â€” Blog post feed with like analytics

---

### 4. **Universal CV System (Variant Engine)**

A personalization system that creates tailored portfolio variants for job applications:

**Data Flow:**
```
URL (/#/company/role)
  â†’ VariantPortfolio.tsx loads variant JSON
  â†’ variants.ts merges base profile + overrides
  â†’ VariantContext injects merged profile
  â†’ Sections receive profile prop â†’ personalized content
```

**Key Files:**
- `src/context/VariantContext.tsx` â€” Profile injection system
- `src/pages/VariantPortfolio.tsx` â€” Dynamic variant loader
- `src/lib/variants.ts` â€” Merging logic
- `scripts/generate-cv.ts` â€” AI CLI generator (uses Claude/Gemini/OpenAI)
- `content/variants/*.{yaml,json}` â€” Variant data

**Live Examples:**
- Base: `https://edgeoftrust.com/#/`
- Bloomberg TPM: `https://edgeoftrust.com/#/bloomberg/technical-product-manager`
- Gensyn TPM: `https://edgeoftrust.com/#/gensyn/technical-product-manager`

---

### 5. **Content Pipeline**

**Data Flow:**
```
YAML/Markdown Files
  â†’ Vite import.meta.glob (eager loading)
  â†’ Frontmatter parser (YAML extraction)
  â†’ Zod validation (runtime type checking)
  â†’ React components (prop-based rendering)
```

**Content Loader (`src/lib/content.ts`):**
- Imports all YAML files
- Parses markdown frontmatter
- Validates against Zod schemas
- Exports aggregated `PortfolioContent` object

**Available Exports:**
- `profile` â€” Hero + about section data
- `experience` â€” Job history
- `caseStudies` â€” Project case studies (from markdown)
- `certifications`, `testimonials`, `skills`, `passionProjects`
- Helper functions: `getCaseStudyBySlug()`, `getFeaturedTestimonials()`, etc.

---

### 6. **Design System**

**CSS Variables (src/styles/globals.css):**

| Token | Dark Mode | Light Mode |
|-------|-----------|------------|
| `--color-background` | #08080a | #fafafa |
| `--color-text-primary` | #e8e6e3 | #050505 |
| `--color-accent` | #c29a6c | #8a6642 |

**Spacing Tokens:** `--space-xs` (4px) â†’ `--space-3xl` (64px)  
**Typography:** `--font-serif` (Instrument Serif), `--font-sans` (Instrument Sans)  
**Transitions:** `--ease-smooth`, `--transition-medium`

**Theme System:**
- Uses `data-theme` attribute on `<html>`
- ThemeContext manages toggle state
- Components reference CSS variables (no hardcoded colors)

---

### 7. **Testing Infrastructure**

**Framework:** Vitest 3.2 + Testing Library 16  
**Coverage:** 187 passing tests

**Test Suites:**
- `design-system/` â€” CSS variables, theme toggle (29 tests)
- `case-study/` â€” Modal interactions
- `mobile/` â€” Responsiveness checks
- `blog/` â€” Blog loading & rendering
- `validation/` â€” Content schema validation

**Commands:**
```bash
npm run test                  # All tests
npm run test:watch           # Watch mode
npm run test:design-system   # Design system only
```

---

### 8. **Performance & Bundle Status**

**Current Metrics:**
- Bundle size: 467KB (gzipped) â€” âš  Critical concern
- Pre-minification: 1,466KB
- Tests: 187 passing
- TypeScript: Clean compilation

**Known Issues:**
- No code splitting (single bundle)
- LikeAnalytics.tsx (505 lines) loaded on first paint
- No lazy image loading
- Bundle size blocks Core Web Vitals improvements

---

### 9. **Key Design Patterns**

1. **Type-Safe Content:** Zod schemas validate all data at runtime
2. **Prop Drilling:** Sections receive `profile` prop for variant support (not direct imports)
3. **CSS Variables:** No hardcoded colors; theme switching is seamless
4. **HashRouter:** GitHub Pages compatible (no server redirects needed)
5. **Lazy Loading:** Variants loaded via `import.meta.glob` with `eager: false`
6. **Frontmatter Parsing:** Markdown files can embed YAML metadata

---

### 10. **Documentation & Governance**

All critical context stored in `/context/`:
- **STATE_OF_THE_UNION.md** â€” Current audit (80% production-ready)
- **CODEBASE.md** â€” Architecture & conventions
- **DESIGN.md** â€” Design system governance
- **AGENT_RULES.md** â€” AI collaboration rules
- **ROADMAP.md** â€” Feature priorities
- **DEVLOG.md** â€” Session-by-session history

---

### Quick Start Commands

```bash
# Development
npm install
npm run dev              # Start local instance
npm run validate         # Check content integrity
npm run test            # Run test suite

# Personalization
npm run generate:cv -- --company "X" --role "Y" --jd "./jd.txt" --provider gemini

# Build & Deploy
npm run build           # TypeScript + Vite
npm run preview         # Test production build
```

---

This is a **well-architected, production-grade portfolio engine** with a sophisticated Universal CV personalization system. The main technical debt is bundle size optimization, but the core content pipeline, type safety, and variant system are solid and extensible.
agentId: a061b82 (for resuming to continue this agent's work if needed)
```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 View recent git commits

`git log --oneline -15`
```
af16adbc Refine portfolio design: Section delineation, layout cleanup, and alternating backgrounds
e13cec27 docs: consolidate and revise project documentation context
f0b195c8 docs: add state of the union audit and local settings
079fa679 fix: resolve case sensitivity conflict for DEVLOG.md
ae7ee803 Merge pull request #33 from fotescodev/feature/passion-projects-redesign
9e5d5e87 refactor(passion-projects): redesign section to editorial index list
fe8815fe Merge pull request #32 from fotescodev/claude/improve-cv-customization-p3pce
d2071ffa feat: Improve CV customization - preserve signature headline, add experience overrides
e86589a5 feat: Add companyAccent and experience overrides to variant schema
7958c20a Merge pull request #31 from fotescodev/claude/universal-cv-portfolio-Uua4e
410c7b39 docs: Add comprehensive Universal CV documentation
3701127f Merge pull request #30 from fotescodev/claude/universal-cv-portfolio-Uua4e
6e5b88b6 fix: Pass profile prop to sections for variant support
00dfd4ce Merge pull request #29 from fotescodev/claude/universal-cv-portfolio-Uua4e
2b2a0740 fix: Switch to HashRouter for GitHub Pages compatibility
```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 Show changes on current branch

`git diff main --stat`
```
 .claude/settings.local.json | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)
```
</details></tool-use>

---

_**User (sidechain)**_

Explore this portfolio codebase to understand:
1. The overall project structure and key directories
2. What technologies/frameworks are being used
3. The main components and pages
4. Any documentation files that explain the project

Provide a concise summary of the codebase architecture.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

I'll explore this portfolio codebase systematically to understand its structure, technologies, and architecture.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 Find configuration and documentation files

`find /Users/dfotesco/Portfolio/portfolio -type f -name "*.json" -o -name "*.md" | head -20`
```
/Users/dfotesco/Portfolio/portfolio/tsconfig.node.json
/Users/dfotesco/Portfolio/portfolio/context/STATE_OF_THE_UNION.md
/Users/dfotesco/Portfolio/portfolio/context/AGENT_RULES.md
/Users/dfotesco/Portfolio/portfolio/context/DEVLOG.md
/Users/dfotesco/Portfolio/portfolio/context/ROADMAP.md
/Users/dfotesco/Portfolio/portfolio/context/CODEBASE.md
/Users/dfotesco/Portfolio/portfolio/context/DESIGN.md
/Users/dfotesco/Portfolio/portfolio/tsconfig.app.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-plain-obj/readme.md
/Users/dfotesco/Portfolio/portfolio/node_modules/is-plain-obj/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/react-is/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/react-is/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/ansi-styles/readme.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/ansi-styles/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/pretty-format/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/pretty-format/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/tinyglobby/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/tinyglobby/package.json
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Glob"><details>
<summary>Tool use: **Glob**</summary>
 path `./` pattern `**/*.json`
```
/Users/dfotesco/Portfolio/portfolio/tsconfig.app.json
/Users/dfotesco/Portfolio/portfolio/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/tsconfig.node.json
/Users/dfotesco/Portfolio/portfolio/.git/cursor/crepe/6ee7982c4fce24532408727efc9bb7b545f176eb/metadata.json
/Users/dfotesco/Portfolio/portfolio/content/variants/bloomberg-technical-product-manager.json
/Users/dfotesco/Portfolio/portfolio/content/variants/gensyn-technical-product-manager.json
/Users/dfotesco/Portfolio/portfolio/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/symbol-tree/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/to-regex-range/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/strip-indent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/sprintf-js/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/stackback/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/slash/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/strip-bom-string/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/section-matter/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/shebang-regex/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/shallowequal/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/resolve-from/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/require-from-string/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/redent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/safer-buffer/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/path-exists/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/parent-module/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/natural-compare/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/lru-cache/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/loose-envify/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/lodash.merge/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/json-buffer/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/json-stable-stringify-without-jsonify/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/json-schema-traverse/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/js-tokens/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/isexe/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-extglob/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-number/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/invariant/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-extendable/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/imurmurhash/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/indent-string/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/has-flag/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/format/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fast-levenshtein/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/extend/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/esutils/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/extend-shallow/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/esprima/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/css.escape/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/concat-map/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/color-convert/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/color-name/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/callsites/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@rollup/rollup-darwin-arm64/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/stack-utils/node_modules/escape-string-regexp/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/gray-matter/node_modules/argparse/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/undici-types/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/stack-utils/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/ms/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-potential-custom-element-name/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/balanced-match/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/zwitch/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/yocto-queue/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/xml-name-validator/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/whatwg-encoding/lib/labels-to-names.json
/Users/dfotesco/Portfolio/portfolio/node_modules/webidl-conversions/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/word-wrap/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/trim-lines/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/strip-json-comments/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/space-separated-tokens/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/shebang-command/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/react-fast-compare/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/pathval/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/path-key/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/p-locate/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/p-limit/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-html-tag-name/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-resolve-all/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/min-indent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-types/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-combine-extensions/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-encode/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-extension-gfm/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/markdown-table/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/longest-streak/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/locate-path/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/kind-of/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-hexadecimal/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-glob/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-alphabetical/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/import-fresh/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-plain-obj/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-alphanumerical/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-decimal/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/html-encoding-sniffer/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/hermes-estree/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/hermes-parser/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/glob-parent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/find-up/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fsevents/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fault/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fill-range/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/escape-string-regexp/package.json
(Results are truncated. Consider using a more specific path or pattern.)
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List root directory contents

`ls -la /Users/dfotesco/Portfolio/portfolio`
```
total 1160
drwxr-xr-x@  27 dfotesco  staff     864 Dec 18 16:33 .
drwxr-xr-x@  34 dfotesco  staff    1088 Dec 18 05:46 ..
drwxr-xr-x@   3 dfotesco  staff      96 Dec 18 17:12 .claude
drwxr-xr-x@  17 dfotesco  staff     544 Dec 18 19:37 .git
drwxr-xr-x@   3 dfotesco  staff      96 Dec 18 06:06 .github
-rw-r--r--@   1 dfotesco  staff     327 Dec 18 06:16 .gitignore
drwxr-xr-x@  13 dfotesco  staff     416 Dec 18 06:16 content
drwxr-xr-x@   8 dfotesco  staff     256 Dec 18 06:19 context
drwxr-xr-x@   9 dfotesco  staff     288 Dec 18 14:35 design-refs
drwxr-xr-x@   6 dfotesco  staff     192 Dec 15 19:14 docs
-rw-r--r--@   1 dfotesco  staff     616 Dec 10 12:54 eslint.config.js
-rw-r--r--@   1 dfotesco  staff    2313 Dec 10 15:01 index.html
-rw-r--r--@   1 dfotesco  staff  106589 Dec 11 06:15 linkedin-banner-wide.png
-rw-r--r--@   1 dfotesco  staff  113170 Dec 11 06:06 linkedin-banner.png
drwxr-xr-x@ 343 dfotesco  staff   10976 Dec 18 14:49 node_modules
-rw-r--r--@   1 dfotesco  staff  267246 Dec 18 14:48 package-lock.json
-rw-r--r--@   1 dfotesco  staff    1682 Dec 18 06:16 package.json
drwxr-xr-x@   9 dfotesco  staff     288 Dec 18 06:16 public
-rw-r--r--@   1 dfotesco  staff    1872 Dec 18 06:19 README.md
drwxr-xr-x@   4 dfotesco  staff     128 Dec 18 06:16 scripts
drwxr-xr-x@  12 dfotesco  staff     384 Dec 18 06:16 src
-rw-r--r--@   1 dfotesco  staff   54540 Dec 18 16:33 test_output.txt
-rw-r--r--@   1 dfotesco  staff     732 Dec 10 12:54 tsconfig.app.json
-rw-r--r--@   1 dfotesco  staff     119 Dec 10 12:54 tsconfig.json
-rw-r--r--@   1 dfotesco  staff     653 Dec 10 12:54 tsconfig.node.json
-rw-r--r--@   1 dfotesco  staff     233 Dec 11 18:24 vite.config.ts
-rw-r--r--@   1 dfotesco  staff     640 Dec 12 12:06 vitest.config.ts
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me read the key configuration and documentation files to understand the project better.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./package.json`
```
     1â†’{
     2â†’  "name": "dmitrii-portfolio",
     3â†’  "private": true,
     4â†’  "version": "0.0.0",
     5â†’  "type": "module",
     6â†’  "scripts": {
     7â†’    "dev": "vite",
     8â†’    "build": "tsc -b && vite build",
     9â†’    "lint": "eslint .",
    10â†’    "preview": "vite preview",
    11â†’    "test": "vitest run",
    12â†’    "test:watch": "vitest",
    13â†’    "test:design-system": "vitest run --reporter=verbose src/tests/design-system",
    14â†’    "validate": "tsx scripts/validate-content.ts",
    15â†’    "generate:cv": "tsx scripts/generate-cv.ts"
    16â†’  },
    17â†’  "dependencies": {
    18â†’    "@types/react-syntax-highlighter": "^15.5.13",
    19â†’    "framer-motion": "^12.23.26",
    20â†’    "gray-matter": "^4.0.3",
    21â†’    "react": "^19.2.0",
    22â†’    "react-dom": "^19.2.0",
    23â†’    "react-helmet-async": "^2.0.5",
    24â†’    "react-markdown": "^10.1.0",
    25â†’    "react-router-dom": "^6.30.2",
    26â†’    "react-syntax-highlighter": "^16.1.0",
    27â†’    "remark-gfm": "^4.0.1",
    28â†’    "yaml": "^2.8.2",
    29â†’    "zod": "^4.1.13"
    30â†’  },
    31â†’  "overrides": {
    32â†’    "react-helmet-async": {
    33â†’      "react": "$react",
    34â†’      "react-dom": "$react-dom"
    35â†’    }
    36â†’  },
    37â†’  "devDependencies": {
    38â†’    "@eslint/js": "^9.39.1",
    39â†’    "@rollup/plugin-yaml": "^4.1.2",
    40â†’    "@testing-library/dom": "^10.4.1",
    41â†’    "@testing-library/jest-dom": "^6.9.1",
    42â†’    "@testing-library/react": "^16.3.0",
    43â†’    "@types/node": "^24.10.4",
    44â†’    "@types/react": "^19.2.5",
    45â†’    "@types/react-dom": "^19.2.3",
    46â†’    "@types/testing-library__jest-dom": "^5.14.9",
    47â†’    "@vitejs/plugin-react": "^5.1.1",
    48â†’    "eslint": "^9.39.1",
    49â†’    "eslint-plugin-react-hooks": "^7.0.1",
    50â†’    "eslint-plugin-react-refresh": "^0.4.24",
    51â†’    "globals": "^16.5.0",
    52â†’    "jsdom": "^27.0.1",
    53â†’    "tsx": "^4.21.0",
    54â†’    "typescript": "~5.9.3",
    55â†’    "typescript-eslint": "^8.46.4",
    56â†’    "vite": "^7.2.4",
    57â†’    "vitest": "^3.2.4"
    58â†’  }
    59â†’}
    60â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./README.md`
```
     1â†’# Dmitrii Fotesco | Senior Technical PM Portfolio
     2â†’
     3â†’**Mission Control Center** for the edgeoftrust.com portfolio engine.
     4â†’
     5â†’---
     6â†’
     7â†’## ğŸ›ï¸ Project Structure
     8â†’
     9â†’### ğŸ§  [Active Context](./context/) (Read this first)
    10â†’The "Brain" of the project. Essential for AI agents and strategic planning.
    11â†’*   **[STATE OF THE UNION](./context/STATE_OF_THE_UNION.md)**: ğŸ”´ **Current Audit & Status** (Red Alert Check).
    12â†’*   **[ROADMAP](./context/ROADMAP.md)**: Current sprint status and future targets.
    13â†’*   **[AGENT RULES](./context/AGENT_RULES.md)**: The "Supreme Law" for AI collaboration.
    14â†’*   **[CODEBASE Architecture](./context/CODEBASE.md)**: High-level system design and patterns.
    15â†’*   **[DESIGN System](./context/DESIGN.md)**: Visual tokens, typography, and theme parity.
    16â†’*   **[DEVLOG](./context/DEVLOG.md)**: Session-by-session history of changes.
    17â†’
    18â†’### ğŸ“– [Reference Guides](./docs/)
    19â†’Operational details for managing the engine.
    20â†’*   **[Content Guide](./docs/CONTENT.md)**: Schema definitions for YAML/MD.
    21â†’*   **[Universal CV](./docs/guides/universal-cv.md)**: Personalization engine documentation.
    22â†’*   **[Adding Case Studies](./docs/guides/adding-case-studies.md)**: Workflow for new editorial content.
    23â†’
    24â†’### ğŸ—„ï¸ [Historical Archive](./docs/history/)
    25â†’Past plans, refactoring logs, and legacy prompts.
    26â†’
    27â†’---
    28â†’
    29â†’## ğŸš€ Quick Start (Operations)
    30â†’
    31â†’### ğŸ› ï¸ Local Development
    32â†’```bash
    33â†’# Setup & Dependency injection
    34â†’npm install
    35â†’
    36â†’# Start Local Instance
    37â†’npm run dev
    38â†’
    39â†’# Content Integrity Check
    40â†’npm run validate
    41â†’```
    42â†’
    43â†’### ğŸ¯ Personalization (Universal CV)
    44â†’```bash
    45â†’# Generate a tailored variant for a specific role
    46â†’npm run generate:cv -- --company "Company" --role "Role" --jd "./jd.txt" --provider gemini
    47â†’```
    48â†’
    49â†’---
    50â†’
    51â†’## ğŸ—ï¸ Technical Stack
    52â†’**React 19 + TypeScript + Vite + Framer Motion + Zod**
    53â†’
    54â†’**Status**: Active Development
    55â†’**Live URL**: [edgeoftrust.com](https://edgeoftrust.com)
    56â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./context/CODEBASE.md`
```
     1â†’# Portfolio Codebase Context
     2â†’
     3â†’> **For AI Agents**: This document provides comprehensive context about the codebase architecture, conventions, and recent work to enable effective onboarding.
     4â†’
     5â†’---
     6â†’
     7â†’## Project Overview
     8â†’
     9â†’**Name**: Dmitrii Fotesco's Portfolio  
    10â†’**Stack**: React 19 + TypeScript + Vite  
    11â†’**Purpose**: Personal portfolio showcasing PM/engineering work with case studies  
    12â†’**URL**: https://github.com/fotescodev/portfolio
    13â†’
    14â†’---
    15â†’
    16â†’## Technical Constraints
    17â†’
    18â†’| Metric | Limit | Rationale |
    19â†’|--------|-------|-----------|
    20â†’| **Initial Bundle** | < 200KB (Gzipped) | SEO & Mobile LCP performance |
    21â†’| **Animation Rate** | 60 FPS | Premium "smooth" feel requirement |
    22â†’| **Type Safety** | 100% Zod | Data integrity for YAML-to-JSON pipeline |
    23â†’
    24â†’---
    25â†’
    26â†’## Architecture
    27â†’
    28â†’### Directory Structure
    29â†’
    30â†’```
    31â†’portfolio/
    32â†’â”œâ”€â”€ src/
    33â†’â”‚   â”œâ”€â”€ components/
    34â†’â”‚   â”‚   â”œâ”€â”€ Portfolio.tsx             # Main portfolio component
    35â†’â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx           # Theme switcher component
    36â†’â”‚   â”‚   â”œâ”€â”€ sections/                 # Page sections
    37â†’â”‚   â”‚   â”‚   â”œâ”€â”€ HeroSection.tsx       # Receives profile prop
    38â†’â”‚   â”‚   â”‚   â”œâ”€â”€ AboutSection.tsx      # Receives profile prop
    39â†’â”‚   â”‚   â”‚   â”œâ”€â”€ ExperienceSection.tsx
    40â†’â”‚   â”‚   â”‚   â”œâ”€â”€ CertificationsSection.tsx  # Receives profile prop
    41â†’â”‚   â”‚   â”‚   â”œâ”€â”€ PassionProjectsSection.tsx
    42â†’â”‚   â”‚   â”‚   â”œâ”€â”€ SocialSection.tsx
    43â†’â”‚   â”‚   â”‚   â”œâ”€â”€ FooterSection.tsx
    44â†’â”‚   â”‚   â”‚   â””â”€â”€ CaseStudiesSection.tsx
    45â†’â”‚   â”‚   â”œâ”€â”€ case-study/              # Case study components
    46â†’â”‚   â”‚   â”‚   â”œâ”€â”€ CaseStudyDrawer.tsx
    47â†’â”‚   â”‚   â”‚   â”œâ”€â”€ CaseStudyContent.tsx
    48â†’â”‚   â”‚   â”‚   â””â”€â”€ CaseStudyFooter.tsx
    49â†’â”‚   â”‚   â””â”€â”€ common/                   # Reusable UI components
    50â†’â”‚   â”‚       â”œâ”€â”€ AmbientBackground.tsx
    51â†’â”‚   â”‚       â””â”€â”€ Omnibar.tsx
    52â†’â”‚   â”œâ”€â”€ pages/                        # Route pages
    53â†’â”‚   â”‚   â”œâ”€â”€ BasePortfolio.tsx         # Base portfolio (/#/)
    54â†’â”‚   â”‚   â””â”€â”€ VariantPortfolio.tsx      # Personalized variants (/#/company/role)
    55â†’â”‚   â”œâ”€â”€ context/
    56â†’â”‚   â”‚   â”œâ”€â”€ ThemeContext.tsx          # Theme provider (dark/light)
    57â†’â”‚   â”‚   â””â”€â”€ VariantContext.tsx        # ğŸ†• Variant profile injection
    58â†’â”‚   â”œâ”€â”€ lib/
    59â†’â”‚   â”‚   â”œâ”€â”€ content.ts                # Content loader (Vite import.meta.glob)
    60â†’â”‚   â”‚   â”œâ”€â”€ schemas.ts                # Zod validation schemas
    61â†’â”‚   â”‚   â””â”€â”€ variants.ts               # ğŸ†• Variant loading & merging
    62â†’â”‚   â”œâ”€â”€ types/
    63â†’â”‚   â”‚   â”œâ”€â”€ portfolio.ts              # Portfolio type definitions
    64â†’â”‚   â”‚   â””â”€â”€ variant.ts                # ğŸ†• Variant type definitions
    65â†’â”‚   â”œâ”€â”€ styles/
    66â†’â”‚   â”‚   â””â”€â”€ globals.css               # Design system tokens
    67â†’â”‚   â””â”€â”€ tests/
    68â†’â”‚       â”œâ”€â”€ setup.ts                  # Test configuration
    69â†’â”‚       â”œâ”€â”€ design-system/            # Design system test suite
    70â†’â”‚       â””â”€â”€ mobile/                   # Mobile responsiveness tests
    71â†’â”œâ”€â”€ content/
    72â†’â”‚   â”œâ”€â”€ profile.yaml                  # Base profile data
    73â†’â”‚   â”œâ”€â”€ experience/index.yaml
    74â†’â”‚   â”œâ”€â”€ case-studies/*.md
    75â†’â”‚   â”œâ”€â”€ blog/*.md
    76â†’â”‚   â””â”€â”€ variants/                     # ğŸ†• Personalized variants
    77â†’â”‚       â”œâ”€â”€ README.md
    78â†’â”‚       â”œâ”€â”€ _template.yaml
    79â†’â”‚       â”œâ”€â”€ bloomberg-technical-product-manager.{yaml,json}
    80â†’â”‚       â””â”€â”€ gensyn-technical-product-manager.{yaml,json}
    81â†’â”œâ”€â”€ scripts/
    82â†’â”‚   â”œâ”€â”€ validate-content.ts           # Content validation CLI
    83â†’â”‚   â””â”€â”€ generate-cv.ts                # ğŸ†• Variant generation CLI
    84â†’â”œâ”€â”€ docs/
    85â†’â”‚   â”œâ”€â”€ guides/
    86â†’â”‚   â”‚   â”œâ”€â”€ adding-case-studies.md
    87â†’â”‚   â”‚   â””â”€â”€ universal-cv.md           # ğŸ†• Universal CV guide
    88â†’â”‚   â””â”€â”€ CONTENT.md
    89â†’â”œâ”€â”€ context/
    90â†’â”‚   â”œâ”€â”€ AGENT_RULES.md                # AI agent governance rules
    91â†’â”‚   â”œâ”€â”€ CODEBASE.md                   # This file - architecture docs
    92â†’â”‚   â”œâ”€â”€ DESIGN.md                     # Design system documentation
    93â†’â”‚   â”œâ”€â”€ DEVLOG.md                     # Developer log (session history)
    94â†’â”‚   â””â”€â”€ ROADMAP.md                    # Project roadmap
    95â†’â””â”€â”€ vitest.config.ts                  # Test configuration
    96â†’```
    97â†’
    98â†’### Key Patterns
    99â†’
   100â†’1. **Inline Styles with CSS Variables**: Components use inline `style` props with CSS variables
   101â†’   ```tsx
   102â†’   style={{ color: 'var(--color-text-primary)' }}
   103â†’   ```
   104â†’
   105â†’2. **Theme via data-attribute**: Theme switching uses `data-theme` on `<html>`
   106â†’   ```css
   107â†’   [data-theme="light"] { --color-background: #fafafa; }
   108â†’   ```
   109â†’
   110â†’3. **ThemeContext**: Provides `isDark`, `toggleTheme`, `theme` - but NOT colors (deprecated)
   111â†’
   112â†’4. **Universal CV - Variant System**: Portfolio personalization for job applications
   113â†’   - Base profile + variant overrides = personalized experience
   114â†’   - Dynamic routes via HashRouter (`/#/:company/:role`)
   115â†’   - VariantContext provides merged profile to components
   116â†’   - Sections receive `profile` prop from context (not direct imports)
   117â†’
   118â†’---
   119â†’
   120â†’## Universal CV System
   121â†’
   122â†’### Overview
   123â†’
   124â†’The Universal CV system creates personalized portfolio variants tailored to specific job applications using AI-generated overrides of the base profile.
   125â†’
   126â†’**Live Examples:**
   127â†’- Base: `https://edgeoftrust.com/#/`
   128â†’- Bloomberg TPM: `https://edgeoftrust.com/#/bloomberg/technical-product-manager`
   129â†’- Gensyn TPM: `https://edgeoftrust.com/#/gensyn/technical-product-manager`
   130â†’
   131â†’### Architecture
   132â†’
   133â†’**Data Flow:**
   134â†’```
   135â†’URL (/#/company/role)
   136â†’  â†’ React Router captures params
   137â†’  â†’ VariantPortfolio.tsx loads variant JSON
   138â†’  â†’ variants.ts: mergeProfile(base + overrides)
   139â†’  â†’ VariantContext provides merged profile
   140â†’  â†’ Portfolio.tsx receives from context
   141â†’  â†’ Sections (Hero, About, etc.) receive profile prop
   142â†’  â†’ Personalized content rendered
   143â†’```
   144â†’
   145â†’**Key Files:**
   146â†’- `src/context/VariantContext.tsx` - Profile injection system
   147â†’- `src/pages/VariantPortfolio.tsx` - Dynamic variant loader
   148â†’- `src/lib/variants.ts` - Loading + merging logic
   149â†’- `src/types/variant.ts` - Type definitions
   150â†’- `scripts/generate-cv.ts` - CLI generator (243 lines)
   151â†’- `content/variants/*.{yaml,json}` - Variant data
   152â†’
   153â†’### Variant Schema
   154â†’
   155â†’```typescript
   156â†’interface Variant {
   157â†’  metadata: {
   158â†’    company: string;
   159â†’    role: string;
   160â†’    slug: string;
   161â†’    generatedAt: string;
   162â†’    jobDescription: string;
   163â†’    generationModel?: string;
   164â†’  };
   165â†’  overrides: {
   166â†’    hero?: {
   167â†’      status?: string;
   168â†’      headline?: HeadlineSegment[];
   169â†’      subheadline?: string;
   170â†’    };
   171â†’    about?: {
   172â†’      tagline?: string;
   173â†’      bio?: string[];
   174â†’      stats?: Stat[];
   175â†’    };
   176â†’    sections?: {
   177â†’      beyondWork?: boolean;
   178â†’      blog?: boolean;
   179â†’      onchainIdentity?: boolean;
   180â†’      skills?: boolean;
   181â†’      passionProjects?: boolean;
   182â†’    };
   183â†’  };
   184â†’  relevance?: {
   185â†’    caseStudies?: Array<{ slug: string; relevanceScore: number; reasoning?: string }>;
   186â†’    skills?: Array<{ category: string; relevanceScore: number }>;
   187â†’    projects?: Array<{ slug: string; relevanceScore: number; reasoning?: string }>;
   188â†’  };
   189â†’}
   190â†’```
   191â†’
   192â†’### Creating Variants
   193â†’
   194â†’**CLI Generator:**
   195â†’```bash
   196â†’npm run generate:cv -- \
   197â†’  --company "Company" \
   198â†’  --role "Role Title" \
   199â†’  --jd "./job-description.txt" \
   200â†’  --provider gemini
   201â†’```
   202â†’
   203â†’**Supported Providers:**
   204â†’- Claude (Anthropic): `ANTHROPIC_API_KEY`
   205â†’- OpenAI: `OPENAI_API_KEY`
   206â†’- Gemini (Google): `GEMINI_API_KEY`
   207â†’
   208â†’### Component Integration
   209â†’
   210â†’**IMPORTANT**: Sections that show personalized content MUST receive `profile` as a prop:
   211â†’
   212â†’```tsx
   213â†’// âœ… CORRECT - Receives profile from context
   214â†’function HeroSection({ profile, isMobile }: { profile: Profile; isMobile: boolean }) {
   215â†’  const { hero } = profile;  // Uses variant profile
   216â†’  // ...
   217â†’}
   218â†’
   219â†’// âŒ INCORRECT - Direct import bypasses variants
   220â†’import { profile } from '../lib/content';
   221â†’function HeroSection({ isMobile }: { isMobile: boolean }) {
   222â†’  const { hero } = profile;  // Always uses base profile!
   223â†’  // ...
   224â†’}
   225â†’```
   226â†’
   227â†’**Updated Components:**
   228â†’- `HeroSection.tsx` - Receives `profile` prop
   229â†’- `AboutSection.tsx` - Receives `profile` prop
   230â†’- `CertificationsSection.tsx` - Receives `profile` prop
   231â†’
   232â†’**In Portfolio.tsx:**
   233â†’```tsx
   234â†’const { profile } = useVariant();  // Get from context
   235â†’
   236â†’<HeroSection profile={profile} isMobile={isMobile} ... />
   237â†’<AboutSection profile={profile} isMobile={isMobile} ... />
   238â†’```
   239â†’
   240â†’### Routing
   241â†’
   242â†’**HashRouter** (GitHub Pages compatible):
   243â†’```tsx
   244â†’// src/App.tsx
   245â†’<HashRouter>
   246â†’  <Routes>
   247â†’    <Route path="/" element={<BasePortfolio />} />
   248â†’    <Route path="/:company/:role" element={<VariantPortfolio />} />
   249â†’  </Routes>
   250â†’</HashRouter>
   251â†’```
   252â†’
   253â†’**Why Hash Routing?**
   254â†’- GitHub Pages doesn't support server-side redirects
   255â†’- Hash URLs (`/#/company/role`) handled client-side
   256â†’- Fully shareable and bookmarkable
   257â†’- Can switch to BrowserRouter on Vercel/Netlify with proper config
   258â†’
   259â†’### Build Process
   260â†’
   261â†’Variants are bundled as separate chunks for optimal loading:
   262â†’```
   263â†’dist/assets/
   264â†’â”œâ”€â”€ bloomberg-technical-product-manager-[hash].js  (4KB)
   265â†’â”œâ”€â”€ gensyn-technical-product-manager-[hash].js     (4KB)
   266â†’â””â”€â”€ index-[hash].js                                (main bundle)
   267â†’```
   268â†’
   269â†’Vite's `import.meta.glob` enables lazy loading:
   270â†’```typescript
   271â†’const variantFiles = import.meta.glob('../../content/variants/*.json', {
   272â†’  eager: false  // Lazy load only when needed
   273â†’});
   274â†’```
   275â†’
   276â†’---
   277â†’
   278â†’## Design System
   279â†’
   280â†’### CSS Variables (globals.css)
   281â†’
   282â†’| Category | Examples |
   283â†’|----------|----------|
   284â†’| **Colors** | `--color-background`, `--color-text-primary`, `--color-accent` |
   285â†’| **Spacing** | `--space-xs` (4px) through `--space-3xl` (64px) |
   286â†’| **Typography** | `--font-serif`, `--font-sans` |
   287â†’| **Transitions** | `--ease-smooth`, `--transition-medium` |
   288â†’
   289â†’### Theme Values
   290â†’
   291â†’| Token | Dark Mode | Light Mode |
   292â†’|-------|-----------|------------|
   293â†’| `--color-background` | #08080a | #fafafa |
   294â†’| `--color-text-primary` | #e8e6e3 | #050505 |
   295â†’| `--color-accent` | #c29a6c | #8a6642 |
   296â†’
   297â†’---
   298â†’
   299â†’## Testing
   300â†’
   301â†’### Framework: Vitest + Testing Library
   302â†’
   303â†’**Run commands:**
   304â†’```bash
   305â†’npm run test:design-system  # Design system tests (29 tests)
   306â†’npm run test                # All tests
   307â†’npm run test:watch          # Watch mode
   308â†’```
   309â†’
   310â†’### Test Structure
   311â†’
   312â†’| File | Tests | Purpose |
   313â†’|------|-------|---------|
   314â†’| `css-variables.test.ts` | 12 | Verify design tokens exist |
   315â†’| `theme-toggle.test.tsx` | 6 | ThemeProvider functionality |
   316â†’| `components.test.tsx` | 11 | Component render checks |
   317â†’
   318â†’---
   319â†’
   320â†’## Recent Work (Dec 2024)
   321â†’
   322â†’### Design System Migration
   323â†’
   324â†’**Objective**: Migrate from React context-based colors to CSS custom properties
   325â†’
   326â†’**Changes Made:**
   327â†’1. Created `src/styles/globals.css` with all design tokens
   328â†’2. Updated `ThemeContext.tsx` to set `data-theme` attribute on `<html>`
   329â†’3. Migrated 8 components to use CSS variables instead of `useTheme().colors`:
   330â†’   - ThemeToggle.tsx
   331â†’   - FooterSection.tsx
   332â†’   - HeroSection.tsx
   333â†’   - AboutSection.tsx
   334â†’   - SocialSection.tsx
   335â†’   - ExperienceSection.tsx
   336â†’   - CertificationsSection.tsx
   337â†’   - CaseStudyModal.tsx
   338â†’
   339â†’**Git Commits:**
   340â†’- `34a925e` - feat: migrate design system to CSS custom properties
   341â†’- `1d5668e` - test: add design system test suite with Vitest
   342â†’
   343â†’---
   344â†’
   345â†’## Important Conventions
   346â†’
   347â†’### DO âœ…
   348â†’
   349â†’- Use CSS variables for all colors: `var(--color-*)`
   350â†’- Use spacing tokens: `var(--space-md)` not `16px`
   351â†’- Use font variables: `var(--font-serif)` not hardcoded strings
   352â†’- Run `npm run test:design-system` after design changes
   353â†’
   354â†’### DON'T âŒ
   355â†’
   356â†’- Import `colors` from `useTheme()` - this is deprecated
   357â†’- Use hardcoded hex colors in components
   358â†’- Use `isDark` conditionals for colors (CSS handles this now)
   359â†’
   360â†’---
   361â†’
   362â†’## Dependencies
   363â†’
   364â†’**Core:**
   365â†’- react@19.2.0
   366â†’- react-dom@19.2.0
   367â†’- vite@7.2.4
   368â†’
   369â†’**Dev/Testing:**
   370â†’- vitest@3.2.4
   371â†’- @testing-library/react
   372â†’- @testing-library/jest-dom
   373â†’- jsdom
   374â†’
   375â†’---
   376â†’
   377â†’## Useful Commands
   378â†’
   379â†’### Shipping Workflow (PR-Only)
   380â†’```bash
   381â†’# 1. Create feature branch
   382â†’git checkout -b feat/your-feature
   383â†’
   384â†’# 2. Push work
   385â†’git push origin feat/your-feature
   386â†’
   387â†’# 3. Create Pull Request (via gh CLI)
   388â†’gh pr create --title "feat: descriptive title" --body "context about changes"
   389â†’
   390â†’# 4. Merge after approval
   391â†’gh pr merge --squash
   392â†’```
   393â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List source directory structure

`ls -la /Users/dfotesco/Portfolio/portfolio/src`
```
total 24
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 .
drwxr-xr-x@ 27 dfotesco  staff   864 Dec 18 16:33 ..
-rw-r--r--@  1 dfotesco  staff   745 Dec 18 06:16 App.tsx
drwxr-xr-x@ 10 dfotesco  staff   320 Dec 18 19:36 components
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 context
-rw-r--r--@  1 dfotesco  staff  1097 Dec 15 10:40 index.css
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 lib
-rw-r--r--@  1 dfotesco  staff   230 Dec 10 12:54 main.tsx
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 pages
drwxr-xr-x@  3 dfotesco  staff    96 Dec 18 19:36 styles
drwxr-xr-x@  8 dfotesco  staff   256 Dec 18 19:36 tests
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 types
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me explore the components and structure more deeply.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List components directory

`ls -la /Users/dfotesco/Portfolio/portfolio/src/components`
```
total 224
drwxr-xr-x@ 10 dfotesco  staff    320 Dec 18 19:36 .
drwxr-xr-x@ 12 dfotesco  staff    384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  14889 Dec 18 19:36 Blog.tsx
-rw-r--r--@  1 dfotesco  staff  41818 Dec 18 05:09 BlogPostModal.tsx
drwxr-xr-x@  9 dfotesco  staff    288 Dec 18 19:36 case-study
drwxr-xr-x@  5 dfotesco  staff    160 Dec 18 19:36 common
-rw-r--r--@  1 dfotesco  staff  20856 Dec 18 05:09 LikeAnalytics.tsx
-rw-r--r--@  1 dfotesco  staff  22186 Dec 18 19:36 Portfolio.tsx
drwxr-xr-x@ 12 dfotesco  staff    384 Dec 18 19:36 sections
-rw-r--r--@  1 dfotesco  staff   2594 Dec 12 10:56 ThemeToggle.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List library utilities

`ls -la /Users/dfotesco/Portfolio/portfolio/src/lib`
```
total 72
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  4956 Dec 15 19:14 content.ts
-rw-r--r--@  1 dfotesco  staff  6852 Dec 18 05:09 likes.ts
-rw-r--r--@  1 dfotesco  staff  9392 Dec 18 06:16 schemas.ts
-rw-r--r--@  1 dfotesco  staff  4833 Dec 18 06:16 variants.ts
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List content directory

`ls -la /Users/dfotesco/Portfolio/portfolio/content`
```
total 8
drwxr-xr-x@  6 dfotesco  staff   192 Dec 15 19:14 _templates
drwxr-xr-x@ 13 dfotesco  staff   416 Dec 18 06:16 .
drwxr-xr-x@ 27 dfotesco  staff   864 Dec 18 16:33 ..
drwxr-xr-x@  7 dfotesco  staff   224 Dec 15 19:14 blog
drwxr-xr-x@  8 dfotesco  staff   256 Dec 15 19:14 case-studies
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 12:35 certifications
drwxr-xr-x@  3 dfotesco  staff    96 Dec 11 18:24 experience
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 19:14 passion-projects
-rw-r--r--@  1 dfotesco  staff  3358 Dec 15 19:14 profile.yaml
drwxr-xr-x@  3 dfotesco  staff    96 Dec 11 18:24 skills
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 12:35 social
drwxr-xr-x@  3 dfotesco  staff    96 Dec 14 15:19 testimonials
drwxr-xr-x@  8 dfotesco  staff   256 Dec 18 06:16 variants
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./vite.config.ts`
```
     1â†’import { defineConfig } from 'vite'
     2â†’import react from '@vitejs/plugin-react'
     3â†’import yaml from '@rollup/plugin-yaml'
     4â†’
     5â†’// https://vite.dev/config/
     6â†’export default defineConfig({
     7â†’  plugins: [
     8â†’    react(),
     9â†’    yaml()
    10â†’  ],
    11â†’  base: '/',
    12â†’})
    13â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the components/sections to understand the page structure better.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List page sections

`ls -la /Users/dfotesco/Portfolio/portfolio/src/components/sections`
```
total 192
drwxr-xr-x@ 12 dfotesco  staff    384 Dec 18 19:36 .
drwxr-xr-x@ 10 dfotesco  staff    320 Dec 18 19:36 ..
-rw-r--r--@  1 dfotesco  staff  13859 Dec 18 06:16 AboutSection.tsx
-rw-r--r--@  1 dfotesco  staff  19211 Dec 18 19:36 CaseStudiesSection.tsx
-rw-r--r--@  1 dfotesco  staff   8029 Dec 18 19:36 CertificationsSection.tsx
-rw-r--r--@  1 dfotesco  staff   6248 Dec 18 19:36 ExperienceSection.tsx
-rw-r--r--@  1 dfotesco  staff    967 Dec 12 10:56 FooterSection.tsx
-rw-r--r--@  1 dfotesco  staff   7847 Dec 18 19:36 HeroSection.tsx
-rw-r--r--@  1 dfotesco  staff    557 Dec 12 15:56 index.ts
-rw-r--r--@  1 dfotesco  staff  11697 Dec 18 19:36 PassionProjectsSection.tsx
-rw-r--r--@  1 dfotesco  staff   6563 Dec 15 10:40 SocialSection.tsx
-rw-r--r--@  1 dfotesco  staff   6368 Dec 15 10:40 TestimonialsSection.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List case study components

`ls -la /Users/dfotesco/Portfolio/portfolio/src/components/case-study`
```
total 136
drwxr-xr-x@  9 dfotesco  staff    288 Dec 18 19:36 .
drwxr-xr-x@ 10 dfotesco  staff    320 Dec 18 19:36 ..
-rw-r--r--@  1 dfotesco  staff   7051 Dec 15 19:14 CaseStudyContent.tsx
-rw-r--r--@  1 dfotesco  staff  13869 Dec 18 19:36 CaseStudyDrawer.tsx
-rw-r--r--@  1 dfotesco  staff  15068 Dec 15 19:14 CaseStudyFooter.tsx
-rw-r--r--@  1 dfotesco  staff   1829 Dec 12 14:11 CaseStudyHeader.tsx
-rw-r--r--@  1 dfotesco  staff   4397 Dec 15 19:14 CaseStudyHero.tsx
-rw-r--r--@  1 dfotesco  staff  10718 Dec 15 19:14 CaseStudyLinks.tsx
-rw-r--r--@  1 dfotesco  staff   2438 Dec 12 14:11 CaseStudyMetrics.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List pages/routes

`ls -la /Users/dfotesco/Portfolio/portfolio/src/pages`
```
total 16
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff   382 Dec 18 06:16 BasePortfolio.tsx
-rw-r--r--@  1 dfotesco  staff  2035 Dec 18 06:16 VariantPortfolio.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/App.tsx`
```
     1â†’import { HashRouter, Routes, Route } from 'react-router-dom';
     2â†’import { ThemeProvider } from './context/ThemeContext';
     3â†’import { HelmetProvider } from 'react-helmet-async';
     4â†’import BasePortfolio from './pages/BasePortfolio';
     5â†’import VariantPortfolio from './pages/VariantPortfolio';
     6â†’
     7â†’function App() {
     8â†’  return (
     9â†’    <HelmetProvider>
    10â†’      <ThemeProvider>
    11â†’        <HashRouter>
    12â†’          <Routes>
    13â†’            {/* Base portfolio route */}
    14â†’            <Route path="/" element={<BasePortfolio />} />
    15â†’
    16â†’            {/* Variant portfolio routes: /#/company/role */}
    17â†’            <Route path="/:company/:role" element={<VariantPortfolio />} />
    18â†’          </Routes>
    19â†’        </HashRouter>
    20â†’      </ThemeProvider>
    21â†’    </HelmetProvider>
    22â†’  );
    23â†’}
    24â†’
    25â†’export default App;
    26â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me also check the context files and types to complete the picture.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List context providers

`ls -la /Users/dfotesco/Portfolio/portfolio/src/context`
```
total 24
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  4158 Dec 12 16:09 ThemeContext.tsx
-rw-r--r--@  1 dfotesco  staff  1231 Dec 18 06:16 VariantContext.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List type definitions

`ls -la /Users/dfotesco/Portfolio/portfolio/src/types`
```
total 40
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff   343 Dec 10 12:54 blog.ts
-rw-r--r--@  1 dfotesco  staff  7774 Dec 15 19:14 portfolio.ts
-rw-r--r--@  1 dfotesco  staff  1736 Dec 18 06:16 variant.ts
-rw-r--r--@  1 dfotesco  staff   230 Dec 11 18:24 yaml.d.ts
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List styles

`ls -la /Users/dfotesco/Portfolio/portfolio/src/styles`
```
total 16
drwxr-xr-x@  3 dfotesco  staff    96 Dec 18 19:36 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  7218 Dec 18 19:36 globals.css
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./context/DESIGN.md`
```
     1â†’# Web3 Portfolio Design System
     2â†’
     3â†’A comprehensive design system for a Web3 product manager portfolio featuring dark and light modes with elegant typography and consistent spacing.
     4â†’
     5â†’## Features
     6â†’
     7â†’- ğŸ¨ **Dual Theme Support**: Seamless dark and light mode switching
     8â†’- ğŸ”¤ **Premium Typography**: Instrument Serif & Instrument Sans font pairing
     9â†’- ğŸ“ **Consistent Spacing**: Token-based spacing system
    10â†’- ğŸ§© **Reusable Components**: Production-ready React components
    11â†’- âœ¨ **Smooth Animations**: Premium easing and transitions
    12â†’- ğŸ“± **Fully Responsive**: Mobile, tablet, and desktop optimized
    13â†’
    14â†’## ğŸš¨ Governance ("The Prime Directive")
    15â†’**The Design System is the Single Source of Truth.**
    16â†’*   **Do not** use hardcoded values in components.
    17â†’*   **Do not** add "snowflake" styles without justification.
    18â†’*   **Updates**: If you need a new style, add it to `globals.css` AND document it here first.
    19â†’
    20â†’## Quick Start
    21â†’
    22â†’### Theme System
    23â†’
    24â†’The design system uses CSS custom properties for theming. Toggle between dark and light modes using the `ThemeToggle` component.
    25â†’
    26â†’```tsx
    27â†’import { ThemeProvider } from './context/ThemeContext';
    28â†’
    29â†’function App() {
    30â†’  return (
    31â†’    <ThemeProvider>
    32â†’      {/* Your app content */}
    33â†’    </ThemeProvider>
    34â†’  );
    35â†’}
    36â†’```
    37â†’
    38â†’### Using Components
    39â†’
    40â†’All components are available in the `/components` directory:
    41â†’
    42â†’```tsx
    43â†’import { Button } from './components/Button';
    44â†’import { Tag } from './components/Tag';
    45â†’import { CaseStudyCard } from './components/CaseStudyCard';
    46â†’
    47â†’// Primary button
    48â†’<Button variant="primary" href="#contact">Get in touch</Button>
    49â†’
    50â†’// Secondary button
    51â†’<Button variant="secondary" href="#work">View work</Button>
    52â†’
    53â†’// Tags
    54â†’<Tag>Web3</Tag>
    55â†’<Tag>Product</Tag>
    56â†’```
    57â†’
    58â†’## Available Components
    59â†’
    60â†’### Buttons
    61â†’
    62â†’- **Primary Button**: Solid background with accent hover
    63â†’- **Secondary Button**: Text link with underline
    64â†’
    65â†’```tsx
    66â†’<Button variant="primary">Primary Action</Button>
    67â†’<Button variant="secondary">Secondary Action</Button>
    68â†’```
    69â†’
    70â†’### Cards
    71â†’
    72â†’#### Case Study Card
    73â†’Displays project information with metrics:
    74â†’
    75â†’```tsx
    76â†’<CaseStudyCard
    77â†’  year="2024"
    78â†’  title="Project Title"
    79â†’  description="Project description"
    80â†’  tags={['Tag1', 'Tag2']}
    81â†’  metrics={[
    82â†’    { label: 'Metric', value: '100K' }
    83â†’  ]}
    84â†’/>
    85â†’```
    86â†’
    87â†’#### Experience Card
    88â†’Shows work experience with achievements:
    89â†’
    90â†’```tsx
    91â†’<ExperienceCard
    92â†’  period="2023 â€” Present"
    93â†’  company="Company Name"
    94â†’  role="Role Title"
    95â†’  description="Description"
    96â†’  achievements={['Achievement 1', 'Achievement 2']}
    97â†’/>
    98â†’```
    99â†’
   100â†’#### Certification Card

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me check the test structure and look at some key content files.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List test structure

`ls -la /Users/dfotesco/Portfolio/portfolio/src/tests`
```
total 8
drwxr-xr-x@  8 dfotesco  staff  256 Dec 18 19:36 .
drwxr-xr-x@ 12 dfotesco  staff  384 Dec 18 06:16 ..
drwxr-xr-x@  3 dfotesco  staff   96 Dec 18 05:09 blog
drwxr-xr-x@  3 dfotesco  staff   96 Dec 15 19:14 case-study
drwxr-xr-x@  5 dfotesco  staff  160 Dec 18 19:36 design-system
drwxr-xr-x@  3 dfotesco  staff   96 Dec 18 19:36 mobile
-rw-r--r--@  1 dfotesco  staff  941 Dec 12 12:29 setup.ts
drwxr-xr-x@  3 dfotesco  staff   96 Dec 15 19:14 validation
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/lib/content.ts`
```
     1â†’/**
     2â†’ * Content Loader with Zod Validation
     3â†’ *
     4â†’ * This module provides type-safe access to all content files.
     5â†’ * YAML files are loaded via @rollup/plugin-yaml.
     6â†’ * Case studies are loaded from markdown files with YAML frontmatter.
     7â†’ */
     8â†’
     9â†’import { z } from 'zod';
    10â†’import YAML from 'yaml';
    11â†’import type { PortfolioContent, CaseStudy } from '../types/portfolio';
    12â†’import {
    13â†’  ProfileSchema,
    14â†’  ExperienceSchema,
    15â†’  TestimonialsSchema,
    16â†’  CertificationsSchema,
    17â†’  SkillsSchema,
    18â†’  SocialSchema,
    19â†’  CaseStudySchema,
    20â†’  PassionProjectsSchema,
    21â†’  BlogPostSchema
    22â†’} from './schemas';
    23â†’
    24â†’// Import YAML content files
    25â†’import profileYaml from '../../content/profile.yaml';
    26â†’import experienceYaml from '../../content/experience/index.yaml';
    27â†’import testimonialsYaml from '../../content/testimonials/index.yaml';
    28â†’import certificationsYaml from '../../content/certifications/index.yaml';
    29â†’import skillsYaml from '../../content/skills/index.yaml';
    30â†’import socialYaml from '../../content/social/index.yaml';
    31â†’import passionProjectsYaml from '../../content/passion-projects/index.yaml';
    32â†’
    33â†’// Auto-discover case studies using import.meta.glob (now markdown files)
    34â†’const caseStudyFiles = import.meta.glob('../../content/case-studies/*.md', { query: '?raw', eager: true });
    35â†’
    36â†’// Re-export schemas for backward compatibility
    37â†’export {
    38â†’  ProfileSchema,
    39â†’  ExperienceSchema,
    40â†’  TestimonialsSchema,
    41â†’  CertificationsSchema,
    42â†’  SkillsSchema,
    43â†’  SocialSchema,
    44â†’  CaseStudySchema,
    45â†’  PassionProjectsSchema,
    46â†’  BlogPostSchema
    47â†’};
    48â†’
    49â†’// ------------------------------------------------------------------
    50â†’// Frontmatter Parsing
    51â†’// ------------------------------------------------------------------
    52â†’
    53â†’function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    54â†’  const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    55â†’  if (!match) return { frontmatter: {}, content: raw };
    56â†’
    57â†’  const frontmatterStr = match[1];
    58â†’  const content = match[2].trim();
    59â†’
    60â†’  try {
    61â†’    const frontmatter = YAML.parse(frontmatterStr);
    62â†’    return { frontmatter, content };
    63â†’  } catch (error) {
    64â†’    console.error('Failed to parse frontmatter:', error);
    65â†’    return { frontmatter: {}, content: raw };
    66â†’  }
    67â†’}
    68â†’
    69â†’// ------------------------------------------------------------------
    70â†’// Runtime Validation
    71â†’// ------------------------------------------------------------------
    72â†’
    73â†’function validate<T>(schema: z.ZodSchema<T>, data: unknown, filename: string): T {
    74â†’  try {
    75â†’    return schema.parse(data);
    76â†’  } catch (error) {
    77â†’    if (error instanceof z.ZodError) {
    78â†’      console.error(`âŒ Validation failed for ${filename}:`, error.flatten().fieldErrors);
    79â†’      throw new Error(`Invalid content in ${filename}: ${error.message}`);
    80â†’    }
    81â†’    throw error;
    82â†’  }
    83â†’}
    84â†’
    85â†’// Export validated content
    86â†’export const profile = validate(ProfileSchema, profileYaml, 'profile.yaml');
    87â†’export const experience = validate(ExperienceSchema, experienceYaml, 'experience/index.yaml');
    88â†’export const testimonials = validate(TestimonialsSchema, testimonialsYaml, 'testimonials/index.yaml');
    89â†’export const certifications = validate(CertificationsSchema, certificationsYaml, 'certifications/index.yaml');
    90â†’export const skills = validate(SkillsSchema, skillsYaml, 'skills/index.yaml');
    91â†’export const social = validate(SocialSchema, socialYaml, 'social/index.yaml');
    92â†’export const passionProjectsData = validate(PassionProjectsSchema, passionProjectsYaml, 'passion-projects/index.yaml');
    93â†’export const passionProjects = passionProjectsData.projects;
    94â†’
    95â†’// Parse and validate case studies from markdown files
    96â†’function parseCaseStudies(): CaseStudy[] {
    97â†’  return Object.entries(caseStudyFiles)
    98â†’    .map(([path, module]) => {
    99â†’      const filename = path.split('/').pop() || 'unknown';
   100â†’      const raw = (module as { default: string }).default;
   101â†’      const { frontmatter, content } = parseFrontmatter(raw);
   102â†’      
   103â†’      // Combine frontmatter with content
   104â†’      const caseStudyData = {
   105â†’        ...frontmatter,
   106â†’        content
   107â†’      };
   108â†’      
   109â†’      return validate(CaseStudySchema, caseStudyData, filename);
   110â†’    })
   111â†’    .sort((a, b) => a.id - b.id);
   112â†’}
   113â†’
   114â†’export const caseStudies = parseCaseStudies();
   115â†’
   116â†’// Aggregated content export
   117â†’export const content: PortfolioContent = {
   118â†’  profile,
   119â†’  experience,
   120â†’  testimonials,
   121â†’  certifications,
   122â†’  skills,
   123â†’  social,
   124â†’  caseStudies,
   125â†’  passionProjects,
   126â†’};
   127â†’
   128â†’// Helper functions
   129â†’export function getCaseStudyBySlug(slug: string) {
   130â†’  return caseStudies.find(cs => cs.slug === slug);
   131â†’}
   132â†’
   133â†’export function getCaseStudyById(id: number) {
   134â†’  return caseStudies.find(cs => cs.id === id);
   135â†’}
   136â†’
   137â†’export function getFeaturedTestimonials() {
   138â†’  return testimonials.testimonials.filter(t => t.featured);
   139â†’}
   140â†’
   141â†’export function getFeaturedCertifications() {
   142â†’  return certifications.certifications.filter(c => c.featured);
   143â†’}
   144â†’
   145â†’export function getPrimarySocialLinks() {
   146â†’  return social.links.filter(l => l.primary);
   147â†’}
   148â†’
   149â†’export function isSectionVisible(section: keyof typeof profile.sections): boolean {
   150â†’  return profile.sections[section];
   151â†’}
   152â†’
   153â†’export default content;
   154â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/types/portfolio.ts`
```
     1â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     2â†’// PROFILE
     3â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     4â†’export interface HeadlineSegment {
     5â†’  text: string;
     6â†’  style: 'italic' | 'muted' | 'accent' | 'normal';
     7â†’}
     8â†’
     9â†’export interface CtaButton {
    10â†’  label: string;
    11â†’  href: string;
    12â†’}
    13â†’
    14â†’export interface Stat {
    15â†’  value: string;
    16â†’  label: string;
    17â†’}
    18â†’
    19â†’export interface Profile {
    20â†’  name: string;
    21â†’  ens: string;
    22â†’  email: string;
    23â†’  location: string;
    24â†’  timezone: string;
    25â†’  photo: string;
    26â†’  hero: {
    27â†’    status: string;
    28â†’    headline: HeadlineSegment[];
    29â†’    subheadline: string;
    30â†’    cta: {
    31â†’      primary: CtaButton;
    32â†’      secondary: CtaButton;
    33â†’    };
    34â†’  };
    35â†’  about: {
    36â†’    tagline: string;
    37â†’    bio: string[];
    38â†’    stats: Stat[];
    39â†’  };
    40â†’  sections: {
    41â†’    beyondWork: boolean;
    42â†’    blog: boolean;
    43â†’    onchainIdentity: boolean;
    44â†’    skills: boolean;
    45â†’    passionProjects: boolean;
    46â†’  };
    47â†’}
    48â†’
    49â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    50â†’// EXPERIENCE
    51â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    52â†’export interface Job {
    53â†’  company: string;
    54â†’  role: string;
    55â†’  period: string;
    56â†’  location: string;
    57â†’  logo?: string | null;
    58â†’  highlights: string[];
    59â†’  tags: string[];
    60â†’  url?: string | null;
    61â†’}
    62â†’
    63â†’export interface Experience {
    64â†’  jobs: Job[];
    65â†’}
    66â†’
    67â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    68â†’// TESTIMONIALS
    69â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    70â†’export interface Testimonial {
    71â†’  quote: string;
    72â†’  author: string;
    73â†’  initials?: string;
    74â†’  role: string;
    75â†’  company: string;
    76â†’  avatar?: string | null;
    77â†’  featured: boolean;
    78â†’}
    79â†’
    80â†’export interface Testimonials {
    81â†’  testimonials: Testimonial[];
    82â†’}
    83â†’
    84â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    85â†’// CERTIFICATIONS
    86â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    87â†’export interface Certification {
    88â†’  name: string;
    89â†’  issuer: string;
    90â†’  date: string;
    91â†’  credentialId?: string | null;
    92â†’  url?: string | null;
    93â†’  logo?: string | null;
    94â†’  featured: boolean;
    95â†’  instructor?: string | null;
    96â†’  instructorRole?: string | null;
    97â†’}
    98â†’
    99â†’export interface Credential {
   100â†’  label: string;

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Perfect! Now let me get a final overview by checking the git commit history to understand recent work.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 Show recent git commits

`git -C /Users/dfotesco/Portfolio/portfolio log --oneline -20`
```
af16adbc Refine portfolio design: Section delineation, layout cleanup, and alternating backgrounds
e13cec27 docs: consolidate and revise project documentation context
f0b195c8 docs: add state of the union audit and local settings
079fa679 fix: resolve case sensitivity conflict for DEVLOG.md
ae7ee803 Merge pull request #33 from fotescodev/feature/passion-projects-redesign
9e5d5e87 refactor(passion-projects): redesign section to editorial index list
fe8815fe Merge pull request #32 from fotescodev/claude/improve-cv-customization-p3pce
d2071ffa feat: Improve CV customization - preserve signature headline, add experience overrides
e86589a5 feat: Add companyAccent and experience overrides to variant schema
7958c20a Merge pull request #31 from fotescodev/claude/universal-cv-portfolio-Uua4e
410c7b39 docs: Add comprehensive Universal CV documentation
3701127f Merge pull request #30 from fotescodev/claude/universal-cv-portfolio-Uua4e
6e5b88b6 fix: Pass profile prop to sections for variant support
00dfd4ce Merge pull request #29 from fotescodev/claude/universal-cv-portfolio-Uua4e
2b2a0740 fix: Switch to HashRouter for GitHub Pages compatibility
cdf11cfb Merge pull request #28 from fotescodev/claude/universal-cv-portfolio-Uua4e
243ed135 feat: Add Bloomberg and Gensyn personalized portfolio variants
0067984d Merge pull request #27 from fotescodev/claude/evaluate-blog-ux-SfqKl
5f8a5526 feat: Implement Universal CV system for personalized portfolio variants
4d9e7884 docs: Add comprehensive Devlog and update ROADMAP
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./context/STATE_OF_THE_UNION.md`
```
     1â†’# State of the Union: Portfolio Audit
     2â†’**Version**: 2.0
     3â†’**Date**: 2024-12-18
     4â†’**Branch**: `regroup`
     5â†’**Auditors**: Claude (Technical), Gemini (Reconciliation)
     6â†’
     7â†’---
     8â†’
     9â†’## Executive Summary
    10â†’
    11â†’The portfolio is **production-ready at 80%** with solid technical foundations. The YAML-to-Zod pipeline is robust, the Blog UX sprint delivered exceptional value, and 187 tests pass. However, **bundle size (467KB)** is a critical performance blocker, and the **Testimonials section** doesn't convey Director-level seniority.
    12â†’
    13â†’**The "Hired-on-Sight" Delta**: Performance optimization + social proof enhancement + one investigation into documentation ghosts.
    14â†’
    15â†’---
    16â†’
    17â†’## Part I: Strategic Audit
    18â†’
    19â†’### 1.1 Technical Health Assessment
    20â†’
    21â†’#### Data Pipeline: YAML â†’ Zod â†’ Components
    22â†’
    23â†’| Component | Location | Status |
    24â†’|-----------|----------|--------|
    25â†’| Schema Definitions | `src/lib/schemas.ts` | âœ… **SOLID** - 9 Zod schemas |
    26â†’| Runtime Validation | `src/lib/content.ts:73-83` | âœ… **SAFE** - `validate()` wraps all imports |
    27â†’| Frontmatter Parser | `src/lib/content.ts:53-67` | âœ… **DEFENSIVE** - Graceful fallback |
    28â†’| Type Exports | `src/types/portfolio.ts` | âœ… **MIRRORED** - Interfaces match schemas |
    29â†’
    30â†’**Type Safety Score**: 9/10
    31â†’**One Escape Hatch**: `src/components/Blog.tsx:72` uses `(module as any).default`
    32â†’
    33â†’#### Build & Test Health
    34â†’
    35â†’```
    36â†’âœ“ TypeScript:  CLEAN (tsc -b passes)
    37â†’âœ“ Vite Build:  SUCCESS
    38â†’âœ“ Tests:       187 passing
    39â†’âš  Bundle:      467KB gzipped (CRITICAL)
    40â†’âš  Chunk Warn:  1,466KB pre-minification
    41â†’```
    42â†’
    43â†’#### Technical Debt Inventory
    44â†’
    45â†’| Issue | Severity | Impact |
    46â†’|-------|----------|--------|
    47â†’| **Bundle Size** (467KB) | ğŸ”´ CRITICAL | Poor Core Web Vitals, slow mobile load |
    48â†’| **No Code Splitting** | ğŸ”´ HIGH | Single chunk loads everything |
    49â†’| **Inline Styles** (324 occurrences) | ğŸŸ¡ MEDIUM | Maintainability burden |
    50â†’| **LikeAnalytics.tsx** (505 lines) | ğŸŸ¡ MEDIUM | Unused on first load |
    51â†’| **No `<Image />` component** | ğŸŸ¡ MEDIUM | No lazy load, no blur-up |
    52â†’| **SocialSection.tsx unused** | ğŸŸ¢ LOW | Dead code |
    53â†’| **Manual type duplication** | ğŸŸ¢ LOW | Zod â†’ interfaces redundancy |
    54â†’
    55â†’### 1.2 Design Fidelity Assessment
    56â†’
    57â†’**Premium Quotient**: 7.5/10 â€” "Clean" but not yet "Director-level Editorial"
    58â†’
    59â†’| Aspect | Status | Notes |
    60â†’|--------|--------|-------|
    61â†’| Typography | âœ… Strong | Instrument Serif/Sans pairing, fluid blog scaling |
    62â†’| Color Palette | âœ… Elegant | Warm accent (#c29a6c) feels premium |
    63â†’| Motion | âœ… Good | Framer Motion drawer transitions |
    64â†’| Glassmorphism | âœ… Implemented | Nav and Omnibar with backdrop-blur |
    65â†’| Ambient Effects | âœ… Present | Orbs + grid overlay active |
    66â†’| Whitespace | ğŸŸ¡ Inconsistent | Hero spacious; mid-page denser |
    67â†’| Component Elevation | ğŸŸ¡ Flat | Cards lack shadow depth |
    68â†’| Light Mode | ğŸŸ¡ Afterthought | Flatter feel, lower orb opacity |
    69â†’
    70â†’#### Editorial Layout Gaps
    71â†’
    72â†’1. **Testimonials** â€” Horizontal scroll is functional but not premium. No staggered animations. Uniform card sizes. Missing "pull-quote" treatment.
    73â†’
    74â†’2. **Case Study Grid** â€” List format is clean but lacks visual hierarchy. No "featured" case study with larger treatment.
    75â†’
    76â†’3. **Skills Section** â€” Empty stub exists (`sections.skills && ...`). Either implement or remove.
    77â†’
    78â†’### 1.3 Theme Parity Analysis
    79â†’
    80â†’| Token | Dark | Light | Status |
    81â†’|-------|------|-------|--------|
    82â†’| Background | `#08080a` | `#fafafa` | âœ… |
    83â†’| Text Primary | `#e8e6e3` | `#050505` | âœ… |
    84â†’| Accent | `#c29a6c` | `#8a6642` | âœ… |
    85â†’| Orb Opacity | 0.25 | 0.15 | ğŸŸ¡ Light feels muted |
    86â†’| Card Shadows | Visible | Nearly invisible | ğŸŸ¡ Light feels flat |
    87â†’
    88â†’---
    89â†’
    90â†’## Part II: Onboarding Success
    91â†’
    92â†’## ğŸŸ¢ Executive Summary: "The Engine is Active"
    93â†’**Strategic Update**: The **"Universal CV" Personalization Engine** is **Confirmed Online**.
    94â†’- `src/context/VariantContext.tsx`: âœ… Verified
    95â†’- `scripts/generate-cv.ts`: âœ… Verified
    96â†’- `src/lib/variants.ts`: âœ… Verified
    97â†’
    98â†’The previous "Ghost" finding was an artifact of an outdated branch. The project is effectively a **Dynamic Personalization Engine** ready for optimization.
    99â†’
   100â†’### 2.2 Resolution Requirements

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Perfect! Now I have a comprehensive understanding of the codebase. Let me provide a concise summary.

## Codebase Architecture Summary

I've thoroughly explored the Dmitrii Fotesco portfolio codebase. Here's a comprehensive overview:

### Project Overview
**Name**: Dmitrii Fotesco's Senior Technical PM Portfolio  
**URL**: https://edgeoftrust.com  
**Status**: Production-ready (80% maturity)  
**Tech Stack**: React 19 + TypeScript + Vite + Framer Motion + Zod  
**Repository**: https://github.com/fotescodev/portfolio

---

### Core Architecture

#### 1. **Directory Structure**
```
portfolio/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Main UI components
â”‚   â”‚   â”œâ”€â”€ sections/        # Page sections (Hero, About, Experience, etc.)
â”‚   â”‚   â”œâ”€â”€ case-study/      # Case study modal & display components
â”‚   â”‚   â””â”€â”€ common/          # Shared UI (Omnibar, AmbientBackground)
â”‚   â”œâ”€â”€ pages/               # Route pages (Base & Variant portfolios)
â”‚   â”œâ”€â”€ context/             # React contexts (Theme, Variant profile injection)
â”‚   â”œâ”€â”€ lib/                 # Utilities (content loader, Zod schemas, variant logic)
â”‚   â”œâ”€â”€ types/               # TypeScript interfaces
â”‚   â”œâ”€â”€ styles/              # CSS variables & globals
â”‚   â””â”€â”€ tests/               # Vitest + Testing Library suite
â”œâ”€â”€ content/                 # YAML & markdown content files
â”‚   â”œâ”€â”€ profile.yaml         # Base profile data
â”‚   â”œâ”€â”€ experience/          # Job history
â”‚   â”œâ”€â”€ case-studies/        # Markdown with YAML frontmatter
â”‚   â”œâ”€â”€ blog/                # Blog posts
â”‚   â”œâ”€â”€ skills/              # Skill categories
â”‚   â””â”€â”€ variants/            # Personalized variants (Bloomberg, Gensyn)
â”œâ”€â”€ scripts/                 # CLI utilities
â”‚   â”œâ”€â”€ validate-content.ts  # Content validation
â”‚   â””â”€â”€ generate-cv.ts       # AI-powered variant generator
â””â”€â”€ context/                 # Documentation & governance
    â”œâ”€â”€ CODEBASE.md          # Architecture docs
    â”œâ”€â”€ DESIGN.md            # Design system specs
    â”œâ”€â”€ STATE_OF_THE_UNION.md # Current audit & status
    â”œâ”€â”€ ROADMAP.md           # Feature roadmap
    â”œâ”€â”€ AGENT_RULES.md       # AI collaboration rules
    â””â”€â”€ DEVLOG.md            # Session history
```

---

### 2. **Key Technologies**

| Category | Technology | Purpose |
|----------|-----------|---------|
| **Core** | React 19 | UI framework |
| **Language** | TypeScript 5.9 | Type safety |
| **Build** | Vite 7.2 | Module bundler |
| **Routing** | React Router DOM 6 (HashRouter) | Client-side routing |
| **Animation** | Framer Motion 12 | Smooth transitions |
| **Validation** | Zod 4.1 | Schema validation |
| **Content** | gray-matter, react-markdown | YAML/markdown parsing |
| **Testing** | Vitest 3.2, Testing Library 16 | Test framework |
| **Styling** | CSS Variables (globals.css) | Design tokens |
| **SEO** | react-helmet-async | Meta tag management |

---

### 3. **Main Components & Pages**

**Page Routes:**
- `/#/` â€” Base portfolio
- `/#/company/role` â€” Personalized variant (e.g., `/#/bloomberg/technical-product-manager`)

**Key Sections:**
- **HeroSection** â€” Animated headline with CTA buttons
- **AboutSection** â€” Tagline + bio + stats
- **ExperienceSection** â€” Job history timeline
- **CaseStudiesSection** â€” Featured projects with drawer modal
- **CertificationsSection** â€” Credentials + instructor info
- **PassionProjectsSection** â€” Side projects gallery
- **TestimonialsSection** â€” Social proof carousel
- **SocialSection** â€” Contact & social links
- **BlogSection** â€” Article listing with modal reader

**Shared Components:**
- **ThemeToggle** â€” Dark/light mode switcher
- **AmbientBackground** â€” Animated orbs + grid overlay
- **Omnibar** â€” Navigation bar with glassmorphism
- **Blog.tsx** â€” Blog post feed with like analytics

---

### 4. **Universal CV System (Variant Engine)**

A personalization system that creates tailored portfolio variants for job applications:

**Data Flow:**
```
URL (/#/company/role)
  â†’ VariantPortfolio.tsx loads variant JSON
  â†’ variants.ts merges base profile + overrides
  â†’ VariantContext injects merged profile
  â†’ Sections receive profile prop â†’ personalized content
```

**Key Files:**
- `src/context/VariantContext.tsx` â€” Profile injection system
- `src/pages/VariantPortfolio.tsx` â€” Dynamic variant loader
- `src/lib/variants.ts` â€” Merging logic
- `scripts/generate-cv.ts` â€” AI CLI generator (uses Claude/Gemini/OpenAI)
- `content/variants/*.{yaml,json}` â€” Variant data

**Live Examples:**
- Base: `https://edgeoftrust.com/#/`
- Bloomberg TPM: `https://edgeoftrust.com/#/bloomberg/technical-product-manager`
- Gensyn TPM: `https://edgeoftrust.com/#/gensyn/technical-product-manager`

---

### 5. **Content Pipeline**

**Data Flow:**
```
YAML/Markdown Files
  â†’ Vite import.meta.glob (eager loading)
  â†’ Frontmatter parser (YAML extraction)
  â†’ Zod validation (runtime type checking)
  â†’ React components (prop-based rendering)
```

**Content Loader (`src/lib/content.ts`):**
- Imports all YAML files
- Parses markdown frontmatter
- Validates against Zod schemas
- Exports aggregated `PortfolioContent` object

**Available Exports:**
- `profile` â€” Hero + about section data
- `experience` â€” Job history
- `caseStudies` â€” Project case studies (from markdown)
- `certifications`, `testimonials`, `skills`, `passionProjects`
- Helper functions: `getCaseStudyBySlug()`, `getFeaturedTestimonials()`, etc.

---

### 6. **Design System**

**CSS Variables (src/styles/globals.css):**

| Token | Dark Mode | Light Mode |
|-------|-----------|------------|
| `--color-background` | #08080a | #fafafa |
| `--color-text-primary` | #e8e6e3 | #050505 |
| `--color-accent` | #c29a6c | #8a6642 |

**Spacing Tokens:** `--space-xs` (4px) â†’ `--space-3xl` (64px)  
**Typography:** `--font-serif` (Instrument Serif), `--font-sans` (Instrument Sans)  
**Transitions:** `--ease-smooth`, `--transition-medium`

**Theme System:**
- Uses `data-theme` attribute on `<html>`
- ThemeContext manages toggle state
- Components reference CSS variables (no hardcoded colors)

---

### 7. **Testing Infrastructure**

**Framework:** Vitest 3.2 + Testing Library 16  
**Coverage:** 187 passing tests

**Test Suites:**
- `design-system/` â€” CSS variables, theme toggle (29 tests)
- `case-study/` â€” Modal interactions
- `mobile/` â€” Responsiveness checks
- `blog/` â€” Blog loading & rendering
- `validation/` â€” Content schema validation

**Commands:**
```bash
npm run test                  # All tests
npm run test:watch           # Watch mode
npm run test:design-system   # Design system only
```

---

### 8. **Performance & Bundle Status**

**Current Metrics:**
- Bundle size: 467KB (gzipped) â€” âš  Critical concern
- Pre-minification: 1,466KB
- Tests: 187 passing
- TypeScript: Clean compilation

**Known Issues:**
- No code splitting (single bundle)
- LikeAnalytics.tsx (505 lines) loaded on first paint
- No lazy image loading
- Bundle size blocks Core Web Vitals improvements

---

### 9. **Key Design Patterns**

1. **Type-Safe Content:** Zod schemas validate all data at runtime
2. **Prop Drilling:** Sections receive `profile` prop for variant support (not direct imports)
3. **CSS Variables:** No hardcoded colors; theme switching is seamless
4. **HashRouter:** GitHub Pages compatible (no server redirects needed)
5. **Lazy Loading:** Variants loaded via `import.meta.glob` with `eager: false`
6. **Frontmatter Parsing:** Markdown files can embed YAML metadata

---

### 10. **Documentation & Governance**

All critical context stored in `/context/`:
- **STATE_OF_THE_UNION.md** â€” Current audit (80% production-ready)
- **CODEBASE.md** â€” Architecture & conventions
- **DESIGN.md** â€” Design system governance
- **AGENT_RULES.md** â€” AI collaboration rules
- **ROADMAP.md** â€” Feature priorities
- **DEVLOG.md** â€” Session-by-session history

---

### Quick Start Commands

```bash
# Development
npm install
npm run dev              # Start local instance
npm run validate         # Check content integrity
npm run test            # Run test suite

# Personalization
npm run generate:cv -- --company "X" --role "Y" --jd "./jd.txt" --provider gemini

# Build & Deploy
npm run build           # TypeScript + Vite
npm run preview         # Test production build
```

---

This is a **well-architected, production-grade portfolio engine** with a sophisticated Universal CV personalization system. The main technical debt is bundle size optimization, but the core content pipeline, type safety, and variant system are solid and extensible.

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
Good, I have a comprehensive view of the codebase now. Let me summarize the key findings for the user in a concise way.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

## Codebase Overview

**Project**: Dmitrii Fotesco's Senior Technical PM Portfolio  
**Stack**: React 19 + TypeScript + Vite + Framer Motion + Zod  
**URL**: https://edgeoftrust.com  
**Status**: ~80% production-ready

### Structure
```
src/
â”œâ”€â”€ components/sections/    # Hero, About, Experience, CaseStudies, etc.
â”œâ”€â”€ components/case-study/  # Modal & display components
â”œâ”€â”€ components/common/      # Omnibar, AmbientBackground
â”œâ”€â”€ pages/                  # Base & Variant portfolio routes
â”œâ”€â”€ context/                # Theme + Variant profile injection
â”œâ”€â”€ lib/                    # Content loader, Zod schemas, variants
â””â”€â”€ styles/                 # CSS variables & globals

content/                    # YAML & markdown content
context/                    # Documentation (CODEBASE.md, DESIGN.md, etc.)
scripts/                    # CLI tools (validate-content, generate-cv)
```

### Key Feature: Universal CV System
Personalized portfolio variants for job applications:
- URL: `/#/company/role` â†’ loads variant JSON â†’ merges with base profile
- AI-powered generator script using Claude/Gemini/OpenAI

### Recent Commits (Current Branch: `content-feat`)

| Commit | Description |
|--------|-------------|
| `af16adbc` | Refine portfolio design: section delineation, layout cleanup, alternating backgrounds |
| `e13cec27` | Consolidate and revise project documentation context |
| `f0b195c8` | Add state of the union audit and local settings |
| `ae7ee803` | Passion projects section redesign to editorial index list |
| `d2071ffa` | CV customization improvements - preserve signature headline, add experience overrides |

### Current Branch Status
You're on `content-feat` with only minor local changes to `.claude/settings.local.json`. The branch appears to be based on the latest main branch work.

### Known Technical Debt
- Bundle size: 467KB gzipped (needs code splitting)
- No lazy image loading
- Tests: 187 passing

What would you like to work on?

---

_**User**_

Let's focus on the mechanics of the blog - I would like to make the blog its own page, not a modal like righht now

---

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
The user wants to convert the blog from a modal-based approach to its own dedicated page. This is a non-trivial architectural change that will involve:

1. Understanding the current blog modal implementation
2. Creating a new blog page route
3. Updating navigation to link to the blog page
4. Possibly creating a blog post detail page

This is a good candidate for planning mode since there are multiple valid approaches and it involves architectural decisions. Let me enter plan mode to explore the codebase and design an implementation approach.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

I'll explore the current blog implementation to understand how it works, then we can plan the conversion to a dedicated page.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="unknown" data-tool-name="Task"><details>
<summary>Tool use: **Task**</summary>
 Explore blog implementation
```
Perfect! Now I have a comprehensive understanding. Let me create a detailed summary report of the blog implementation.

## Blog Implementation Exploration Report

I've thoroughly explored the blog implementation in your portfolio codebase. Here's a complete breakdown of how the blog currently works:

### 1. Blog Modal Component & Triggering

**File:** `/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx`

The `BlogPostModal` is a full-screen modal component triggered when users click on a blog post in the list. Key features:

- **Triggering:** Opened by clicking on a blog post article in the Blog section (line 212 in Blog.tsx: `onClick={() => setSelectedPost(post)}`)
- **Modal Controls:**
  - Back button (returns to blog list)
  - Close button (X icon) 
  - ESC key to close
  - Scroll lock on body (prevents background scrolling)

- **Advanced UX Features:**
  - Reading progress bar (top of modal, shows scroll position)
  - Table of contents (sticky sidebar on desktop)
  - Back-to-top button (appears after 400px scroll)
  - Code copy buttons
  - Smooth scroll-spy for active headings
  - Social sharing buttons (Twitter, LinkedIn, copy link, native share)
  - Like/unlike functionality with animations
  - Related posts suggestions based on shared tags

### 2. BlogSection Component Structure

**File:** `/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx`

The main Blog component serves as the section container with these responsibilities:

- **Section Layout:**
  - Section label "Insights" with decorative line
  - Section title: "Thoughts on building at the edge"
  - Descriptive tagline about content focus
  
- **Blog Posts Display:**
  - Renders list of blog posts in grid format (responsive)
  - Shows date, reading time, title, excerpt, and tags
  - Hover effects on desktop
  - Navigation arrows on desktop
  - Related posts feature

- **State Management:**
  - `hoveredPost` - tracks which post is being hovered
  - `selectedPost` - tracks which post is open in modal
  - Navigation between posts (prev/next)
  - Related posts calculation based on tag similarity

### 3. How Blog Posts Are Loaded and Rendered

**Auto-discovery mechanism (Blog.tsx, line 6):**
```typescript
const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
```

**Parsing Process:**

1. **Frontmatter Parsing** (lines 14-53):
   - Extracts YAML frontmatter delimited by `---`
   - Parses key-value pairs (title, date, excerpt, tags, thumbnail)
   - Handles arrays, quoted strings, and null values

2. **Reading Time Calculation** (lines 56-60):
   - Counts words in content
   - Divides by 200 words/minute average
   - Returns ceil value

3. **Slug Generation** (lines 62-67):
   - Extracts from filename: `YYYY-MM-DD-slug.md`
   - Removes date prefix and `.md` extension
   - Used for URL anchors and post identification

4. **Post Parsing** (lines 70-89):
   - Builds BlogPost objects with metadata and content
   - Sorts by date (newest first)
   - Returns array of structured posts

**Rendering:**
- ReactMarkdown component renders markdown content
- Syntax highlighting via `react-syntax-highlighter`
- GitHub Flavored Markdown (GFM) support via `remark-gfm`
- Custom markdown components for code blocks with copy buttons

### 4. Blog Content Files Structure

**Location:** `/Users/dfotesco/Portfolio/portfolio/content/blog/`

**Template:** `/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md`

**Format:** YAML frontmatter + Markdown content

**Frontmatter Fields:**
```yaml
title: "Your Blog Post Title"
date: "2024-12-15"  # ISO date format
excerpt: "Short compelling description"
tags: ["Tag1", "Tag2", "Tag3"]  # Array of tags
thumbnail: null  # Optional image URL or null
```

**Current Blog Posts:**
1. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-11-15-etf-grade-staking.md` - "The Hidden Complexity of ETF-Grade Staking"
2. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-01-ai-agents-meet-onchain.md`
3. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-11-portfolio-retrospective.md`
4. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-15-why-validation-matters.md`

### 5. Routing Setup

**Navigation Integration:**

1. **Hash-based routing** (App.tsx, lines 1-2):
   - Uses `HashRouter` from react-router-dom
   - Blog section uses hash anchor: `#blog`

2. **Navigation Links** (Portfolio.tsx, lines 224-231):
   - Desktop nav: `['Work', 'About', 'Blog'].map((item) => <a href={`#${item.toLowerCase()}`}>`
   - Mobile nav: Same structure in mobile menu overlay (lines 297-310)

3. **Section Rendering** (Portfolio.tsx, line 386):
   ```typescript
   {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   ```
   - Blog section is conditionally rendered based on profile config
   - Receives responsive breakpoint props

4. **URL Structure:**
   - Main blog section: `#blog`
   - Shareable post links: `/#blog?post={slug}` (generated in BlogPostModal, line 172)

### 6. Supporting Systems

**Blog Post Likes** (`/Users/dfotesco/Portfolio/portfolio/src/lib/likes.ts`):
- Client-side persistence using localStorage
- User fingerprinting to prevent duplicate likes
- Functions: `likePost()`, `unlikePost()`, `getLikeCount()`, `hasUserLikedPost()`
- Analytics functions for tracking engagement

**Type Definitions** (`/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts`):
```typescript
export interface BlogPost {
    slug: string;
    title: string;
    date: string;
    excerpt: string;
    tags: string[];
    readingTime: number;
    thumbnail?: string | null;
    content: string;
}
```

**Build Configuration** (`vite.config.ts`):
- Uses Vite with React plugin
- YAML plugin for content parsing
- Raw markdown imports via `import.meta.glob`

This is a sophisticated, self-contained blog system that leverages Vite's glob imports for static markdown discovery, renders posts with rich markdown support, and provides an excellent reading experience with modern UX features like reading progress, table of contents, and social sharing.
agentId: a0da957 (for resuming to continue this agent's work if needed)
```
</details></tool-use>

---

_**User (sidechain)**_

Explore the blog implementation in this portfolio codebase. Find:
1. The current blog modal component and how it's triggered
2. The BlogSection component and its structure
3. How blog posts are loaded and rendered
4. The blog content files and their structure
5. Any routing setup that exists

Provide file paths and key code snippets that show how the blog currently works.

---

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

I'll help you explore the blog implementation in this portfolio codebase. Let me start by searching for blog-related files and components.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Glob"><details>
<summary>Tool use: **Glob**</summary>
 pattern `**/*blog*`
```
/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts
/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
/Users/dfotesco/Portfolio/portfolio/.git/logs/refs/remotes/origin/claude/evaluate-blog-ux-SfqKl
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-dark.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-dark.html
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-light.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-stitch-light.html
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Glob"><details>
<summary>Tool use: **Glob**</summary>
 pattern `**/*.blog.*`
```
No files found
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Glob"><details>
<summary>Tool use: **Glob**</summary>
 pattern `**/blog/**`
```
/Users/dfotesco/Portfolio/portfolio/content/blog/.gitkeep
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-11-15-etf-grade-staking.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-01-ai-agents-meet-onchain.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-11-portfolio-retrospective.md
/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-15-why-validation-matters.md
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 Find all blog-related files

`find /Users/dfotesco/Portfolio/portfolio -type f -name "*blog*" 2>/dev/null | head -20`
```
/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-dark.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-image-light.png
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-dark.html
/Users/dfotesco/Portfolio/portfolio/design-refs/Designs/blog-stitch-light.html
/Users/dfotesco/Portfolio/portfolio/.git/logs/refs/remotes/origin/claude/evaluate-blog-ux-SfqKl
/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me search for components related to blogs:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Glob"><details>
<summary>Tool use: **Glob**</summary>
 pattern `**/components/**/*Blog*`
```
/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Glob"><details>
<summary>Tool use: **Glob**</summary>
 pattern `**/components/**/*blog*`
```
No files found
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Grep"><details>
<summary>Tool use: **Grep**</summary>
 pattern `BlogSection|BlogModal`
```
No files found
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Great! Let me read the key files I found:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/components/Blog.tsx`
```
     1â†’import { useState } from 'react';
     2â†’import type { BlogPost } from '../types/blog';
     3â†’import BlogPostModal from './BlogPostModal';
     4â†’
     5â†’// Auto-discover blog posts using import.meta.glob
     6â†’const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
     7â†’
     8â†’interface BlogProps {
     9â†’    isMobile: boolean;
    10â†’    isTablet: boolean;
    11â†’}
    12â†’
    13â†’// Parse frontmatter from markdown
    14â†’function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    15â†’    const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    16â†’    if (!match) return { frontmatter: {}, content: raw };
    17â†’
    18â†’    const frontmatterStr = match[1];
    19â†’    const content = match[2];
    20â†’
    21â†’    const frontmatter: Record<string, unknown> = {};
    22â†’    const lines = frontmatterStr.split('\n');
    23â†’
    24â†’    for (const line of lines) {
    25â†’        const colonIndex = line.indexOf(':');
    26â†’        if (colonIndex === -1) continue;
    27â†’
    28â†’        const key = line.slice(0, colonIndex).trim();
    29â†’        let value = line.slice(colonIndex + 1).trim();
    30â†’
    31â†’        // Handle arrays
    32â†’        if (value.startsWith('[') && value.endsWith(']')) {
    33â†’            const arrayContent = value.slice(1, -1);
    34â†’            frontmatter[key] = arrayContent.split(',').map(item =>
    35â†’                item.trim().replace(/^["']|["']$/g, '')
    36â†’            );
    37â†’        }
    38â†’        // Handle quoted strings
    39â†’        else if (value.startsWith('"') && value.endsWith('"')) {
    40â†’            frontmatter[key] = value.slice(1, -1);
    41â†’        }
    42â†’        // Handle null
    43â†’        else if (value === 'null') {
    44â†’            frontmatter[key] = null;
    45â†’        }
    46â†’        // Regular string
    47â†’        else {
    48â†’            frontmatter[key] = value;
    49â†’        }
    50â†’    }
    51â†’
    52â†’    return { frontmatter, content };
    53â†’}
    54â†’
    55â†’// Calculate reading time
    56â†’function calculateReadingTime(content: string): number {
    57â†’    const wordsPerMinute = 200;
    58â†’    const words = content.split(/\s+/).length;
    59â†’    return Math.ceil(words / wordsPerMinute);
    60â†’}
    61â†’
    62â†’// Extract slug from filename (YYYY-MM-DD-slug.md â†’ slug)
    63â†’function extractSlugFromFilename(path: string): string {
    64â†’    const filename = path.split('/').pop() || '';
    65â†’    // Remove .md extension and date prefix (YYYY-MM-DD-)
    66â†’    return filename.replace(/^\d{4}-\d{2}-\d{2}-/, '').replace(/\.md$/, '');
    67â†’}
    68â†’
    69â†’// Parse all blog posts (auto-discovered)
    70â†’function parseBlogPosts(): BlogPost[] {
    71â†’    const posts = Object.entries(blogPostFiles).map(([path, module]) => {
    72â†’        const raw = (module as any).default as string;
    73â†’        const slug = extractSlugFromFilename(path);
    74â†’        const { frontmatter, content } = parseFrontmatter(raw);
    75â†’
    76â†’        return {
    77â†’            slug,
    78â†’            title: frontmatter.title as string || 'Untitled',
    79â†’            date: frontmatter.date as string || new Date().toISOString().split('T')[0],
    80â†’            excerpt: frontmatter.excerpt as string || '',
    81â†’            tags: (frontmatter.tags as string[]) || [],
    82â†’            thumbnail: frontmatter.thumbnail as string | null || null,
    83â†’            readingTime: calculateReadingTime(content),
    84â†’            content
    85â†’        };
    86â†’    });
    87â†’
    88â†’    return posts.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
    89â†’}
    90â†’
    91â†’export default function Blog({ isMobile, isTablet }: BlogProps) {
    92â†’    const [hoveredPost, setHoveredPost] = useState<string | null>(null);
    93â†’    const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null);
    94â†’
    95â†’    const posts = parseBlogPosts();
    96â†’
    97â†’    const formatDate = (dateStr: string) => {
    98â†’        const date = new Date(dateStr);
    99â†’        return date.toLocaleDateString('en-US', {
   100â†’            month: '2-digit',
   101â†’            day: '2-digit',
   102â†’            year: '2-digit'
   103â†’        }).replace(/\//g, '.');
   104â†’    };
   105â†’
   106â†’    const handleNavigate = (direction: 'prev' | 'next') => {
   107â†’        if (!selectedPost) return;
   108â†’        const currentIndex = posts.findIndex(p => p.slug === selectedPost.slug);
   109â†’        const newIndex = direction === 'prev' ? currentIndex - 1 : currentIndex + 1;
   110â†’        if (newIndex >= 0 && newIndex < posts.length) {
   111â†’            setSelectedPost(posts[newIndex]);
   112â†’        }
   113â†’    };
   114â†’
   115â†’    const getRelatedPosts = (currentPost: BlogPost): BlogPost[] => {
   116â†’        if (!currentPost.tags || currentPost.tags.length === 0) return [];
   117â†’
   118â†’        // Find posts with shared tags, excluding current post
   119â†’        const relatedPosts = posts
   120â†’            .filter(post => post.slug !== currentPost.slug)
   121â†’            .map(post => {
   122â†’                const sharedTags = post.tags.filter(tag => currentPost.tags.includes(tag));
   123â†’                return { post, sharedTagCount: sharedTags.length };
   124â†’            })
   125â†’            .filter(({ sharedTagCount }) => sharedTagCount > 0)
   126â†’            .sort((a, b) => b.sharedTagCount - a.sharedTagCount)
   127â†’            .slice(0, 3) // Max 3 related posts
   128â†’            .map(({ post }) => post);
   129â†’
   130â†’        return relatedPosts;
   131â†’    };
   132â†’
   133â†’    const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
   134â†’
   135â†’    return (
   136â†’        <>
   137â†’            <section id="blog" style={{
   138â†’                padding: sectionPadding,
   139â†’                maxWidth: 'var(--layout-max-width)',
   140â†’                margin: '0 auto',
   141â†’                position: 'relative',
   142â†’                zIndex: 1
   143â†’            }}>
   144â†’                {/* Section label */}
   145â†’                <div style={{
   146â†’                    display: 'flex',
   147â†’                    alignItems: 'center',
   148â†’                    gap: 'var(--space-lg)',
   149â†’                    marginBottom: isMobile ? 'var(--space-xl)' : '40px'
   150â†’                }}>
   151â†’                    <span style={{
   152â†’                        fontSize: '11px',
   153â†’                        fontWeight: 600,
   154â†’                        letterSpacing: '0.15em',
   155â†’                        textTransform: 'uppercase',
   156â†’                        color: 'var(--color-text-muted)'
   157â†’                    }}>
   158â†’                        Insights
   159â†’                    </span>
   160â†’                    <div style={{
   161â†’                        flex: 1,
   162â†’                        height: '1px',
   163â†’                        background: 'var(--color-border-light)'
   164â†’                    }} />
   165â†’                </div>
   166â†’
   167â†’                {/* Section header */}
   168â†’                <div style={{
   169â†’                    marginBottom: isMobile ? 'var(--space-xl)' : 'var(--space-2xl)'
   170â†’                }}>
   171â†’                    <h2 style={{
   172â†’                        fontSize: isMobile ? '28px' : isTablet ? '36px' : '42px',
   173â†’                        fontFamily: 'var(--font-serif)',
   174â†’                        fontWeight: 400,
   175â†’                        fontStyle: 'italic',
   176â†’                        color: 'var(--color-text-primary)',
   177â†’                        marginBottom: 'var(--space-md)',
   178â†’                        letterSpacing: '-0.02em',
   179â†’                        lineHeight: 1.2
   180â†’                    }}>
   181â†’                        Thoughts on building at the edge
   182â†’                    </h2>
   183â†’                    <p style={{
   184â†’                        fontSize: '15px',
   185â†’                        color: 'var(--color-text-tertiary)',
   186â†’                        maxWidth: '600px',
   187â†’                        lineHeight: 1.6
   188â†’                    }}>
   189â†’                        Reflections on product management, crypto infrastructure, and the intersection of AI with on-chain execution.
   190â†’                    </p>
   191â†’                </div>
   192â†’
   193â†’                {/* Blog posts list */}
   194â†’                <div style={{
   195â†’                    display: 'flex',
   196â†’                    flexDirection: 'column',
   197â†’                    gap: '0'
   198â†’                }}>
   199â†’                    {posts.map((post, index) => (
   200â†’                        <article
   201â†’                            key={post.slug}
   202â†’                            style={{
   203â†’                                borderTop: index === 0 ? '1px solid var(--color-border)' : 'none',
   204â†’                                borderBottom: '1px solid var(--color-border)',
   205â†’                                padding: isMobile ? '28px 0' : '36px 0',
   206â†’                                cursor: 'pointer',
   207â†’                                transition: 'all 0.3s ease',
   208â†’                                background: hoveredPost === post.slug ? 'var(--color-card-hover)' : 'transparent'
   209â†’                            }}
   210â†’                            onMouseEnter={() => !isMobile && setHoveredPost(post.slug)}
   211â†’                            onMouseLeave={() => !isMobile && setHoveredPost(null)}
   212â†’                            onClick={() => setSelectedPost(post)}
   213â†’                        >
   214â†’                            <div style={{
   215â†’                                display: 'grid',
   216â†’                                gridTemplateColumns: isMobile ? '1fr' : isTablet ? '120px 1fr' : '140px 1fr auto',
   217â†’                                gap: isMobile ? 'var(--space-md)' : 'var(--space-xl)',
   218â†’                                alignItems: 'start'
   219â†’                            }}>
   220â†’                                {/* Date */}
   221â†’                                <div style={{
   222â†’                                    fontSize: '12px',
   223â†’                                    fontWeight: 500,
   224â†’                                    letterSpacing: '0.05em',
   225â†’                                    color: 'var(--color-text-muted)',
   226â†’                                    display: 'flex',
   227â†’                                    alignItems: 'center',
   228â†’                                    gap: 'var(--space-sm)'
   229â†’                                }}>
   230â†’                                    <span>{formatDate(post.date)}</span>
   231â†’                                    <span style={{ color: 'var(--color-separator)' }}>â€¢</span>
   232â†’                                    <span>{post.readingTime} min</span>
   233â†’                                </div>
   234â†’
   235â†’                                {/* Content */}
   236â†’                                <div>
   237â†’                                    <h3 style={{
   238â†’                                        fontSize: isMobile ? '22px' : '26px',
   239â†’                                        fontFamily: 'var(--font-serif)',
   240â†’                                        fontWeight: 400,
   241â†’                                        fontStyle: 'italic',
   242â†’                                        color: 'var(--color-text-primary)',
   243â†’                                        marginBottom: 'var(--space-sm)',
   244â†’                                        letterSpacing: '-0.02em',
   245â†’                                        lineHeight: 1.2,
   246â†’                                        transition: 'color 0.2s ease'
   247â†’                                    }}>
   248â†’                                        {post.title}
   249â†’                                    </h3>
   250â†’
   251â†’                                    <p style={{
   252â†’                                        fontSize: '14px',
   253â†’                                        color: 'var(--color-text-tertiary)',
   254â†’                                        lineHeight: 1.6,
   255â†’                                        marginBottom: 'var(--space-md)',
   256â†’                                        maxWidth: '600px'
   257â†’                                    }}>
   258â†’                                        {post.excerpt}
   259â†’                                    </p>
   260â†’
   261â†’                                    {/* Tags */}
   262â†’                                    <div style={{
   263â†’                                        display: 'flex',
   264â†’                                        gap: 'var(--space-sm)',
   265â†’                                        flexWrap: 'wrap'
   266â†’                                    }}>
   267â†’                                        {post.tags.map((tag, i) => (
   268â†’                                            <span key={i} style={{
   269â†’                                                fontSize: '10px',
   270â†’                                                fontWeight: 500,
   271â†’                                                letterSpacing: '0.05em',
   272â†’                                                textTransform: 'uppercase',
   273â†’                                                color: 'var(--color-text-muted)',
   274â†’                                                padding: '4px 8px',
   275â†’                                                border: '1px solid var(--color-border-light)',
   276â†’                                                transition: 'all 0.2s ease',
   277â†’                                                background: hoveredPost === post.slug ? 'var(--color-tag-hover)' : 'transparent'
   278â†’                                            }}>
   279â†’                                                {tag}
   280â†’                                            </span>
   281â†’                                        ))}
   282â†’                                    </div>
   283â†’                                </div>
   284â†’
   285â†’                                {/* Read link - desktop only */}
   286â†’                                {!isMobile && !isTablet && (
   287â†’                                    <div style={{
   288â†’                                        display: 'flex',
   289â†’                                        alignItems: 'center',
   290â†’                                        gap: 'var(--space-sm)',
   291â†’                                        color: hoveredPost === post.slug ? 'var(--color-accent)' : 'var(--color-text-muted)',
   292â†’                                        transition: 'color 0.2s ease',
   293â†’                                        alignSelf: 'center'
   294â†’                                    }}>
   295â†’                                        <span style={{
   296â†’                                            fontSize: '13px',
   297â†’                                            fontWeight: 500,
   298â†’                                            letterSpacing: '0.02em'
   299â†’                                        }}>
   300â†’                                            Read
   301â†’                                        </span>
   302â†’                                        <span style={{
   303â†’                                            transform: hoveredPost === post.slug ? 'translateX(4px)' : 'translateX(0)',
   304â†’                                            transition: 'transform 0.2s ease',
   305â†’                                            fontFamily: 'var(--font-serif)',
   306â†’                                            fontStyle: 'italic'
   307â†’                                        }}>â†’</span>
   308â†’                                    </div>
   309â†’                                )}
   310â†’                            </div>
   311â†’                        </article>
   312â†’                    ))}
   313â†’                </div>
   314â†’            </section>
   315â†’
   316â†’            {/* Blog Post Modal */}
   317â†’            {selectedPost && (
   318â†’                <BlogPostModal
   319â†’                    post={selectedPost}
   320â†’                    onClose={() => setSelectedPost(null)}
   321â†’                    onNavigate={handleNavigate}
   322â†’                    hasPrev={posts.findIndex(p => p.slug === selectedPost.slug) > 0}
   323â†’                    hasNext={posts.findIndex(p => p.slug === selectedPost.slug) < posts.length - 1}
   324â†’                    prevTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) - 1]?.title}
   325â†’                    nextTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) + 1]?.title}
   326â†’                    isMobile={isMobile}
   327â†’                    relatedPosts={getRelatedPosts(selectedPost)}
   328â†’                    onPostSelect={setSelectedPost}
   329â†’                />
   330â†’            )}
   331â†’        </>
   332â†’    );
   333â†’}
   334â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/components/BlogPostModal.tsx`
```
     1â†’import { useEffect, useState, useRef } from 'react';
     2â†’import ReactMarkdown from 'react-markdown';
     3â†’import remarkGfm from 'remark-gfm';
     4â†’import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
     5â†’import { oneDark, oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';
     6â†’import type { BlogPost } from '../types/blog';
     7â†’import { useTheme } from '../context/ThemeContext';
     8â†’import { likePost, unlikePost, getLikeCount, hasUserLikedPost } from '../lib/likes';
     9â†’
    10â†’interface TableOfContentsItem {
    11â†’    id: string;
    12â†’    text: string;
    13â†’    level: number;
    14â†’}
    15â†’
    16â†’interface BlogPostModalProps {
    17â†’    post: BlogPost;
    18â†’    onClose: () => void;
    19â†’    onNavigate?: (direction: 'prev' | 'next') => void;
    20â†’    hasPrev?: boolean;
    21â†’    hasNext?: boolean;
    22â†’    prevTitle?: string;
    23â†’    nextTitle?: string;
    24â†’    isMobile: boolean;
    25â†’    relatedPosts?: BlogPost[];
    26â†’    onPostSelect?: (post: BlogPost) => void;
    27â†’}
    28â†’
    29â†’export default function BlogPostModal({
    30â†’    post,
    31â†’    onClose,
    32â†’    onNavigate,
    33â†’    hasPrev,
    34â†’    hasNext,
    35â†’    prevTitle,
    36â†’    nextTitle,
    37â†’    isMobile,
    38â†’    relatedPosts = [],
    39â†’    onPostSelect
    40â†’}: BlogPostModalProps) {
    41â†’    // Only keep isDark for the SyntaxHighlighter theme (third-party library)
    42â†’    const { isDark } = useTheme();
    43â†’
    44â†’    // State for UX features
    45â†’    const [scrollProgress, setScrollProgress] = useState(0);
    46â†’    const [showBackToTop, setShowBackToTop] = useState(false);
    47â†’    const [activeHeading, setActiveHeading] = useState<string>('');
    48â†’    const [tocItems, setTocItems] = useState<TableOfContentsItem[]>([]);
    49â†’    const [showToc, setShowToc] = useState(false);
    50â†’    const [showCopyToast, setShowCopyToast] = useState(false);
    51â†’    const [likeCount, setLikeCount] = useState(0);
    52â†’    const [hasLiked, setHasLiked] = useState(false);
    53â†’    const [isLikeAnimating, setIsLikeAnimating] = useState(false);
    54â†’    const scrollContainerRef = useRef<HTMLDivElement>(null);
    55â†’    const contentRef = useRef<HTMLDivElement>(null);
    56â†’
    57â†’    // Handle scroll lock and ESC key
    58â†’    useEffect(() => {
    59â†’        document.body.style.overflow = 'hidden';
    60â†’        const handleEsc = (e: KeyboardEvent) => {
    61â†’            if (e.key === 'Escape') onClose();
    62â†’        };
    63â†’        window.addEventListener('keydown', handleEsc);
    64â†’        return () => {
    65â†’            document.body.style.overflow = '';
    66â†’            window.removeEventListener('keydown', handleEsc);
    67â†’        };
    68â†’    }, [onClose]);
    69â†’
    70â†’    // Extract table of contents from markdown
    71â†’    useEffect(() => {
    72â†’        const headings: TableOfContentsItem[] = [];
    73â†’        const headingRegex = /^(#{1,3})\s+(.+)$/gm;
    74â†’        let match;
    75â†’
    76â†’        while ((match = headingRegex.exec(post.content)) !== null) {
    77â†’            const level = match[1].length;
    78â†’            const text = match[2].trim();
    79â†’            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
    80â†’            headings.push({ id, text, level });
    81â†’        }
    82â†’
    83â†’        setTocItems(headings);
    84â†’        setShowToc(headings.length > 0);
    85â†’    }, [post.content]);
    86â†’
    87â†’    // Track scroll progress and back-to-top visibility
    88â†’    useEffect(() => {
    89â†’        const container = scrollContainerRef.current;
    90â†’        if (!container) return;
    91â†’
    92â†’        const handleScroll = () => {
    93â†’            const scrollTop = container.scrollTop;
    94â†’            const scrollHeight = container.scrollHeight - container.clientHeight;
    95â†’            const progress = (scrollTop / scrollHeight) * 100;
    96â†’
    97â†’            setScrollProgress(Math.min(progress, 100));
    98â†’            setShowBackToTop(scrollTop > 400);
    99â†’
   100â†’            // Track active heading
   101â†’            if (contentRef.current) {
   102â†’                const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   103â†’                let currentActiveId = '';
   104â†’
   105â†’                headings.forEach((heading) => {
   106â†’                    const rect = heading.getBoundingClientRect();
   107â†’                    if (rect.top <= 200) {
   108â†’                        currentActiveId = heading.id;
   109â†’                    }
   110â†’                });
   111â†’
   112â†’                setActiveHeading(currentActiveId);
   113â†’            }
   114â†’        };
   115â†’
   116â†’        container.addEventListener('scroll', handleScroll);
   117â†’        return () => container.removeEventListener('scroll', handleScroll);
   118â†’    }, []);
   119â†’
   120â†’    // Set IDs on headings for anchor links
   121â†’    useEffect(() => {
   122â†’        if (!contentRef.current) return;
   123â†’
   124â†’        const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   125â†’        headings.forEach((heading) => {
   126â†’            const text = heading.textContent || '';
   127â†’            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
   128â†’            heading.id = id;
   129â†’        });
   130â†’    }, [post.content]);
   131â†’
   132â†’    // Initialize like state from localStorage
   133â†’    useEffect(() => {
   134â†’        setLikeCount(getLikeCount(post.slug));
   135â†’        setHasLiked(hasUserLikedPost(post.slug));
   136â†’    }, [post.slug]);
   137â†’
   138â†’    const formatDate = (dateStr: string) => {
   139â†’        const date = new Date(dateStr);
   140â†’        return date.toLocaleDateString('en-US', {
   141â†’            year: 'numeric',
   142â†’            month: 'long',
   143â†’            day: 'numeric'
   144â†’        });
   145â†’    };
   146â†’
   147â†’    const scrollToTop = () => {
   148â†’        scrollContainerRef.current?.scrollTo({ top: 0, behavior: 'smooth' });
   149â†’    };
   150â†’
   151â†’    const scrollToHeading = (id: string) => {
   152â†’        const element = document.getElementById(id);
   153â†’        if (element && scrollContainerRef.current) {
   154â†’            const container = scrollContainerRef.current;
   155â†’            const elementTop = element.offsetTop;
   156â†’            const offset = 100; // Account for sticky header
   157â†’            container.scrollTo({ top: elementTop - offset, behavior: 'smooth' });
   158â†’        }
   159â†’    };
   160â†’
   161â†’    const copyCode = async (code: string) => {
   162â†’        try {
   163â†’            await navigator.clipboard.writeText(code);
   164â†’        } catch (err) {
   165â†’            console.error('Failed to copy code:', err);
   166â†’        }
   167â†’    };
   168â†’
   169â†’    const getPostUrl = () => {
   170â†’        // Generate a shareable URL for the post
   171â†’        // In a production environment, this would be the actual URL
   172â†’        return `${window.location.origin}/#blog?post=${post.slug}`;
   173â†’    };
   174â†’
   175â†’    const shareOnTwitter = () => {
   176â†’        const url = getPostUrl();
   177â†’        const text = `${post.title} by @kolob0kk`;
   178â†’        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
   179â†’        window.open(twitterUrl, '_blank', 'width=550,height=420');
   180â†’    };
   181â†’
   182â†’    const shareOnLinkedIn = () => {
   183â†’        const url = getPostUrl();
   184â†’        const linkedInUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`;
   185â†’        window.open(linkedInUrl, '_blank', 'width=550,height=420');
   186â†’    };
   187â†’
   188â†’    const copyLink = async () => {
   189â†’        try {
   190â†’            const url = getPostUrl();
   191â†’            await navigator.clipboard.writeText(url);
   192â†’            setShowCopyToast(true);
   193â†’            setTimeout(() => setShowCopyToast(false), 2000);
   194â†’        } catch (err) {
   195â†’            console.error('Failed to copy link:', err);
   196â†’        }
   197â†’    };
   198â†’
   199â†’    const shareNative = async () => {
   200â†’        if (navigator.share) {
   201â†’            try {
   202â†’                await navigator.share({
   203â†’                    title: post.title,
   204â†’                    text: post.excerpt,
   205â†’                    url: getPostUrl()
   206â†’                });
   207â†’            } catch (err) {
   208â†’                // User cancelled or error occurred
   209â†’                console.log('Share cancelled or failed:', err);
   210â†’            }
   211â†’        }
   212â†’    };
   213â†’
   214â†’    const handleLike = () => {
   215â†’        if (hasLiked) {
   216â†’            // Unlike
   217â†’            const result = unlikePost(post.slug);
   218â†’            if (result.success) {
   219â†’                setLikeCount(result.count);
   220â†’                setHasLiked(false);
   221â†’            }
   222â†’        } else {
   223â†’            // Like with animation
   224â†’            const result = likePost(post.slug);
   225â†’            if (result.success) {
   226â†’                setLikeCount(result.count);
   227â†’                setHasLiked(true);
   228â†’                setIsLikeAnimating(true);
   229â†’                setTimeout(() => setIsLikeAnimating(false), 600);
   230â†’            }
   231â†’        }
   232â†’    };
   233â†’
   234â†’    return (
   235â†’        <div
   236â†’            style={{
   237â†’                position: 'fixed',
   238â†’                inset: 0,
   239â†’                zIndex: 1000,
   240â†’                display: 'flex',
   241â†’                flexDirection: 'column',
   242â†’                background: 'var(--color-background)',
   243â†’                animation: 'modalSlideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)'
   244â†’            }}
   245â†’        >
   246â†’            {/* Reading Progress Bar */}
   247â†’            <div
   248â†’                style={{
   249â†’                    position: 'fixed',
   250â†’                    top: 0,
   251â†’                    left: 0,
   252â†’                    right: 0,
   253â†’                    height: '3px',
   254â†’                    background: 'var(--color-border-light)',
   255â†’                    zIndex: 1001
   256â†’                }}
   257â†’            >
   258â†’                <div
   259â†’                    style={{
   260â†’                        height: '100%',
   261â†’                        width: `${scrollProgress}%`,
   262â†’                        background: 'var(--color-accent)',
   263â†’                        transition: 'width 0.1s ease-out'
   264â†’                    }}
   265â†’                />
   266â†’            </div>
   267â†’            {/* Modal styles - all using CSS variables */}
   268â†’            <style>{`
   269â†’        @keyframes modalSlideUp {
   270â†’          from {
   271â†’            opacity: 0;
   272â†’            transform: translateY(40px);
   273â†’          }
   274â†’          to {
   275â†’            opacity: 1;
   276â†’            transform: translateY(0);
   277â†’          }
   278â†’        }
   279â†’
   280â†’        .blog-modal-scroll::-webkit-scrollbar {
   281â†’          width: 6px;
   282â†’        }
   283â†’
   284â†’        .blog-modal-scroll::-webkit-scrollbar-track {
   285â†’          background: transparent;
   286â†’        }
   287â†’
   288â†’        .blog-modal-scroll::-webkit-scrollbar-thumb {
   289â†’          background: var(--color-scrollbar-thumb);
   290â†’          border-radius: 3px;
   291â†’        }
   292â†’
   293â†’        .blog-modal-scroll::-webkit-scrollbar-thumb:hover {
   294â†’          background: var(--color-scrollbar-thumb-hover);
   295â†’        }
   296â†’
   297â†’        .blog-modal-scroll {
   298â†’          scrollbar-width: thin;
   299â†’          scrollbar-color: var(--color-scrollbar-thumb) transparent;
   300â†’        }
   301â†’
   302â†’        .blog-content h1 {
   303â†’          font-size: clamp(28px, 5vw, 36px);
   304â†’          font-family: var(--font-serif);
   305â†’          font-weight: 400;
   306â†’          font-style: italic;
   307â†’          color: var(--color-text-primary);
   308â†’          margin: 40px 0 20px;
   309â†’          letter-spacing: -0.02em;
   310â†’          line-height: 1.2;
   311â†’          text-wrap: balance;
   312â†’        }
   313â†’
   314â†’        .blog-content h2 {
   315â†’          font-size: clamp(22px, 4vw, 26px);
   316â†’          font-family: var(--font-serif);
   317â†’          font-weight: 400;
   318â†’          font-style: italic;
   319â†’          color: var(--color-text-primary);
   320â†’          margin: 36px 0 16px;
   321â†’          letter-spacing: -0.02em;
   322â†’          line-height: 1.3;
   323â†’          text-wrap: balance;
   324â†’        }
   325â†’
   326â†’        .blog-content h3 {
   327â†’          font-size: clamp(18px, 3vw, 20px);
   328â†’          font-weight: 600;
   329â†’          color: var(--color-text-primary);
   330â†’          margin: 28px 0 12px;
   331â†’          line-height: 1.4;
   332â†’          text-wrap: balance;
   333â†’        }
   334â†’
   335â†’        .blog-content p {
   336â†’          font-size: clamp(16px, 2.5vw, 17px);
   337â†’          color: var(--color-text-secondary);
   338â†’          line-height: 1.8;
   339â†’          margin: 0 0 20px;
   340â†’        }
   341â†’
   342â†’        .blog-content ul, .blog-content ol {
   343â†’          margin: 0 0 20px;
   344â†’          padding-left: 24px;
   345â†’          color: var(--color-text-secondary);
   346â†’        }
   347â†’
   348â†’        .blog-content li {
   349â†’          font-size: ${isMobile ? '16px' : '17px'};
   350â†’          line-height: 1.8;
   351â†’          margin-bottom: 8px;
   352â†’        }
   353â†’
   354â†’        .blog-content a {
   355â†’          color: var(--color-accent);
   356â†’          text-decoration: none;
   357â†’          transition: opacity 0.2s ease;
   358â†’        }
   359â†’
   360â†’        .blog-content a:hover {
   361â†’          opacity: 0.8;
   362â†’        }
   363â†’
   364â†’        .blog-content strong {
   365â†’          color: var(--color-text-primary);
   366â†’          font-weight: 600;
   367â†’        }
   368â†’
   369â†’        .blog-content em {
   370â†’          font-style: italic;
   371â†’        }
   372â†’
   373â†’        .blog-content blockquote {
   374â†’          border-left: 3px solid var(--color-accent);
   375â†’          margin: 24px 0;
   376â†’          padding: 16px 24px;
   377â†’          background: var(--color-tag-hover);
   378â†’        }
   379â†’
   380â†’        .blog-content blockquote p {
   381â†’          margin: 0;
   382â†’          font-style: italic;
   383â†’        }
   384â†’
   385â†’        .blog-content hr {
   386â†’          border: none;
   387â†’          height: 1px;
   388â†’          background: var(--color-border);
   389â†’          margin: 40px 0;
   390â†’        }
   391â†’
   392â†’        .blog-content pre {
   393â†’          margin: 24px 0;
   394â†’          border-radius: 0;
   395â†’          border: 1px solid var(--color-border);
   396â†’        }
   397â†’
   398â†’        .blog-content code:not([class*="language-"]) {
   399â†’          background: var(--color-border-light);
   400â†’          padding: 2px 6px;
   401â†’          font-size: 0.9em;
   402â†’          color: var(--color-accent);
   403â†’        }
   404â†’
   405â†’        .blog-modal-back-btn {
   406â†’          display: flex;
   407â†’          align-items: center;
   408â†’          gap: 8px;
   409â†’          background: none;
   410â†’          border: none;
   411â†’          color: var(--color-text-tertiary);
   412â†’          font-size: 13px;
   413â†’          font-weight: 500;
   414â†’          cursor: pointer;
   415â†’          padding: 0;
   416â†’          font-family: var(--font-sans);
   417â†’          transition: color 0.2s ease;
   418â†’        }
   419â†’
   420â†’        .blog-modal-back-btn:hover {
   421â†’          color: var(--color-text-primary);
   422â†’        }
   423â†’
   424â†’        .blog-modal-close-btn {
   425â†’          background: none;
   426â†’          border: 1px solid var(--color-border);
   427â†’          color: var(--color-text-tertiary);
   428â†’          width: 40px;
   429â†’          height: 40px;
   430â†’          cursor: pointer;
   431â†’          display: flex;
   432â†’          align-items: center;
   433â†’          justify-content: center;
   434â†’          font-size: 18px;
   435â†’          transition: all 0.2s ease;
   436â†’        }
   437â†’
   438â†’        .blog-modal-close-btn:hover {
   439â†’          border-color: var(--color-text-tertiary);
   440â†’          color: var(--color-text-primary);
   441â†’        }
   442â†’
   443â†’        .back-to-top-btn {
   444â†’          position: fixed;
   445â†’          bottom: var(--space-xl);
   446â†’          right: var(--space-xl);
   447â†’          width: 48px;
   448â†’          height: 48px;
   449â†’          border-radius: 50%;
   450â†’          background: var(--color-background-secondary);
   451â†’          border: 1px solid var(--color-border);
   452â†’          color: var(--color-text-secondary);
   453â†’          cursor: pointer;
   454â†’          display: flex;
   455â†’          align-items: center;
   456â†’          justify-content: center;
   457â†’          font-size: 20px;
   458â†’          transition: all var(--transition-fast);
   459â†’          z-index: 100;
   460â†’          opacity: 0;
   461â†’          transform: translateY(20px);
   462â†’          pointer-events: none;
   463â†’        }
   464â†’
   465â†’        .back-to-top-btn.visible {
   466â†’          opacity: 1;
   467â†’          transform: translateY(0);
   468â†’          pointer-events: auto;
   469â†’        }
   470â†’
   471â†’        .back-to-top-btn:hover {
   472â†’          background: var(--color-accent);
   473â†’          color: var(--color-background);
   474â†’          border-color: var(--color-accent);
   475â†’          transform: translateY(-2px);
   476â†’        }
   477â†’
   478â†’        .toc-container {
   479â†’          position: sticky;
   480â†’          top: 120px;
   481â†’          max-height: calc(100vh - 200px);
   482â†’          overflow-y: auto;
   483â†’          padding: var(--space-lg);
   484â†’          background: var(--color-background-secondary);
   485â†’          border: 1px solid var(--color-border-light);
   486â†’          border-radius: 0;
   487â†’        }
   488â†’
   489â†’        .toc-container::-webkit-scrollbar {
   490â†’          width: 4px;
   491â†’        }
   492â†’
   493â†’        .toc-title {
   494â†’          font-size: 11px;
   495â†’          font-weight: 600;
   496â†’          letter-spacing: 0.1em;
   497â†’          text-transform: uppercase;
   498â†’          color: var(--color-text-muted);
   499â†’          margin-bottom: var(--space-md);
   500â†’        }
   501â†’
   502â†’        .toc-item {
   503â†’          display: block;
   504â†’          font-size: 13px;
   505â†’          color: var(--color-text-tertiary);
   506â†’          text-decoration: none;
   507â†’          padding: 6px 0;
   508â†’          transition: color var(--transition-fast);
   509â†’          cursor: pointer;
   510â†’          line-height: 1.4;
   511â†’        }
   512â†’
   513â†’        .toc-item:hover {
   514â†’          color: var(--color-text-primary);
   515â†’        }
   516â†’
   517â†’        .toc-item.active {
   518â†’          color: var(--color-accent);
   519â†’          font-weight: 500;
   520â†’        }
   521â†’
   522â†’        .toc-item.level-2 {
   523â†’          padding-left: var(--space-md);
   524â†’        }
   525â†’
   526â†’        .toc-item.level-3 {
   527â†’          padding-left: var(--space-xl);
   528â†’          font-size: 12px;
   529â†’        }
   530â†’
   531â†’        .code-block-wrapper {
   532â†’          position: relative;
   533â†’          margin: 24px 0;
   534â†’        }
   535â†’
   536â†’        .code-copy-btn {
   537â†’          position: absolute;
   538â†’          top: 8px;
   539â†’          right: 8px;
   540â†’          background: var(--color-background-secondary);
   541â†’          border: 1px solid var(--color-border);
   542â†’          color: var(--color-text-tertiary);
   543â†’          padding: 6px 12px;
   544â†’          font-size: 11px;
   545â†’          font-weight: 500;
   546â†’          letter-spacing: 0.05em;
   547â†’          text-transform: uppercase;
   548â†’          cursor: pointer;
   549â†’          border-radius: 0;
   550â†’          transition: all var(--transition-fast);
   551â†’          font-family: var(--font-sans);
   552â†’          z-index: 10;
   553â†’        }
   554â†’
   555â†’        .code-copy-btn:hover {
   556â†’          background: var(--color-accent);
   557â†’          color: var(--color-background);
   558â†’          border-color: var(--color-accent);
   559â†’        }
   560â†’
   561â†’        .related-posts-section {
   562â†’          margin-top: var(--space-3xl);
   563â†’          padding-top: var(--space-3xl);
   564â†’          border-top: 1px solid var(--color-border-light);
   565â†’        }
   566â†’
   567â†’        .related-posts-title {
   568â†’          font-size: clamp(20px, 3vw, 24px);
   569â†’          font-family: var(--font-serif);
   570â†’          font-style: italic;
   571â†’          color: var(--color-text-primary);
   572â†’          margin-bottom: var(--space-xl);
   573â†’        }
   574â†’
   575â†’        .related-post-card {
   576â†’          padding: var(--space-lg);
   577â†’          border: 1px solid var(--color-border-light);
   578â†’          cursor: pointer;
   579â†’          transition: all var(--transition-fast);
   580â†’          background: var(--color-background);
   581â†’        }
   582â†’
   583â†’        .related-post-card:hover {
   584â†’          border-color: var(--color-accent);
   585â†’          background: var(--color-card-hover);
   586â†’        }
   587â†’
   588â†’        .related-post-title {
   589â†’          font-size: 16px;
   590â†’          font-family: var(--font-serif);
   591â†’          font-style: italic;
   592â†’          color: var(--color-text-primary);
   593â†’          margin-bottom: var(--space-sm);
   594â†’        }
   595â†’
   596â†’        .related-post-meta {
   597â†’          font-size: 12px;
   598â†’          color: var(--color-text-tertiary);
   599â†’        }
   600â†’
   601â†’        .share-buttons-container {
   602â†’          display: flex;
   603â†’          align-items: center;
   604â†’          gap: var(--space-sm);
   605â†’          margin-top: var(--space-lg);
   606â†’        }
   607â†’
   608â†’        .share-label {
   609â†’          font-size: 11px;
   610â†’          font-weight: 500;
   611â†’          letter-spacing: 0.1em;
   612â†’          text-transform: uppercase;
   613â†’          color: var(--color-text-muted);
   614â†’        }
   615â†’
   616â†’        .share-btn {
   617â†’          background: none;
   618â†’          border: 1px solid var(--color-border-light);
   619â†’          color: var(--color-text-tertiary);
   620â†’          width: 36px;
   621â†’          height: 36px;
   622â†’          cursor: pointer;
   623â†’          display: flex;
   624â†’          align-items: center;
   625â†’          justify-content: center;
   626â†’          transition: all var(--transition-fast);
   627â†’          padding: 0;
   628â†’        }
   629â†’
   630â†’        .share-btn:hover {
   631â†’          border-color: var(--color-accent);
   632â†’          color: var(--color-accent);
   633â†’          transform: translateY(-2px);
   634â†’        }
   635â†’
   636â†’        .share-btn svg {
   637â†’          width: 16px;
   638â†’          height: 16px;
   639â†’        }
   640â†’
   641â†’        .copy-toast {
   642â†’          position: fixed;
   643â†’          bottom: calc(var(--space-xl) * 2 + 48px);
   644â†’          right: var(--space-xl);
   645â†’          background: var(--color-background-secondary);
   646â†’          border: 1px solid var(--color-accent);
   647â†’          color: var(--color-text-primary);
   648â†’          padding: var(--space-md) var(--space-lg);
   649â†’          font-size: 13px;
   650â†’          font-weight: 500;
   651â†’          z-index: 1002;
   652â†’          opacity: 0;
   653â†’          transform: translateY(10px);
   654â†’          transition: all var(--transition-fast);
   655â†’          pointer-events: none;
   656â†’        }
   657â†’
   658â†’        .copy-toast.visible {
   659â†’          opacity: 1;
   660â†’          transform: translateY(0);
   661â†’        }
   662â†’
   663â†’        .like-button-container {
   664â†’          display: flex;
   665â†’          align-items: center;
   666â†’          gap: var(--space-md);
   667â†’          margin-top: var(--space-2xl);
   668â†’          padding-top: var(--space-xl);
   669â†’          border-top: 1px solid var(--color-border-light);
   670â†’        }
   671â†’
   672â†’        .like-button {
   673â†’          display: flex;
   674â†’          align-items: center;
   675â†’          gap: var(--space-sm);
   676â†’          background: none;
   677â†’          border: 1px solid var(--color-border-light);
   678â†’          color: var(--color-text-tertiary);
   679â†’          padding: var(--space-md) var(--space-lg);
   680â†’          cursor: pointer;
   681â†’          transition: all var(--transition-fast);
   682â†’          font-family: var(--font-sans);
   683â†’          font-size: 14px;
   684â†’          font-weight: 500;
   685â†’        }
   686â†’
   687â†’        .like-button:hover {
   688â†’          border-color: var(--color-accent);
   689â†’          color: var(--color-accent);
   690â†’          transform: translateY(-2px);
   691â†’        }
   692â†’
   693â†’        .like-button.liked {
   694â†’          border-color: var(--color-accent);
   695â†’          background: var(--color-accent);
   696â†’          color: var(--color-background);
   697â†’        }
   698â†’
   699â†’        .like-button.liked:hover {
   700â†’          opacity: 0.9;
   701â†’          transform: translateY(-2px);
   702â†’        }
   703â†’
   704â†’        .like-button svg {
   705â†’          width: 18px;
   706â†’          height: 18px;
   707â†’          transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
   708â†’        }
   709â†’
   710â†’        .like-button.animating svg {
   711â†’          animation: likeHeartBeat 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
   712â†’        }
   713â†’
   714â†’        @keyframes likeHeartBeat {
   715â†’          0% {
   716â†’            transform: scale(1);
   717â†’          }
   718â†’          25% {
   719â†’            transform: scale(1.3);
   720â†’          }
   721â†’          50% {
   722â†’            transform: scale(1.1);
   723â†’          }
   724â†’          75% {
   725â†’            transform: scale(1.25);
   726â†’          }
   727â†’          100% {
   728â†’            transform: scale(1);
   729â†’          }
   730â†’        }
   731â†’
   732â†’        .like-count {
   733â†’          font-size: 14px;
   734â†’          font-weight: 500;
   735â†’          color: var(--color-text-secondary);
   736â†’        }
   737â†’
   738â†’        .like-count.has-likes {
   739â†’          color: var(--color-text-primary);
   740â†’        }
   741â†’
   742â†’        .like-label {
   743â†’          font-size: 11px;
   744â†’          font-weight: 500;
   745â†’          letter-spacing: 0.1em;
   746â†’          text-transform: uppercase;
   747â†’          color: var(--color-text-muted);
   748â†’        }
   749â†’      `}</style>
   750â†’
   751â†’            {/* Modal Header */}
   752â†’            <div style={{
   753â†’                display: 'flex',
   754â†’                justifyContent: 'space-between',
   755â†’                alignItems: 'center',
   756â†’                padding: isMobile ? '20px 24px' : '28px 64px',
   757â†’                borderBottom: '1px solid var(--color-border-light)',
   758â†’                background: 'var(--color-background)',
   759â†’                position: 'sticky',
   760â†’                top: 0,
   761â†’                zIndex: 10
   762â†’            }}>
   763â†’                <button onClick={onClose} className="blog-modal-back-btn">
   764â†’                    <span style={{ fontFamily: 'var(--font-serif)', fontStyle: 'italic' }}>â†</span>
   765â†’                    Back to Blog
   766â†’                </button>
   767â†’
   768â†’                <button onClick={onClose} className="blog-modal-close-btn">
   769â†’                    âœ•
   770â†’                </button>
   771â†’            </div>
   772â†’
   773â†’            {/* Modal Content - Scrollable */}
   774â†’            <div
   775â†’                ref={scrollContainerRef}
   776â†’                className="blog-modal-scroll"
   777â†’                style={{
   778â†’                    flex: 1,
   779â†’                    overflowY: 'auto',
   780â†’                    padding: isMobile ? '40px 24px' : '64px',
   781â†’                    display: 'flex',
   782â†’                    gap: 'var(--space-3xl)',
   783â†’                    justifyContent: 'center'
   784â†’                }}
   785â†’            >
   786â†’                {/* Main Content */}
   787â†’                <div style={{
   788â†’                    maxWidth: '800px',
   789â†’                    width: '100%',
   790â†’                    flex: '1 1 auto'
   791â†’                }}>
   792â†’                {/* Header */}
   793â†’                <div style={{ marginBottom: '40px' }}>
   794â†’                    <div style={{
   795â†’                        fontSize: '13px',
   796â†’                        color: 'var(--color-text-tertiary)',
   797â†’                        marginBottom: 'var(--space-md)',
   798â†’                        display: 'flex',
   799â†’                        alignItems: 'center',
   800â†’                        gap: 'var(--space-sm)'
   801â†’                    }}>
   802â†’                        <span>{formatDate(post.date)}</span>
   803â†’                        <span style={{ color: 'var(--color-separator)' }}>â€¢</span>
   804â†’                        <span>{post.readingTime} min read</span>
   805â†’                    </div>
   806â†’
   807â†’                    <h1 style={{
   808â†’                        fontSize: isMobile ? '32px' : '48px',
   809â†’                        fontFamily: 'var(--font-serif)',
   810â†’                        fontWeight: 400,
   811â†’                        fontStyle: 'italic',
   812â†’                        color: 'var(--color-text-primary)',
   813â†’                        marginBottom: '20px',
   814â†’                        letterSpacing: '-0.02em',
   815â†’                        lineHeight: 1.1
   816â†’                    }}>
   817â†’                        {post.title}
   818â†’                    </h1>
   819â†’
   820â†’                    {/* Tags */}
   821â†’                    <div style={{
   822â†’                        display: 'flex',
   823â†’                        gap: '10px',
   824â†’                        flexWrap: 'wrap'
   825â†’                    }}>
   826â†’                        {post.tags.map((tag, i) => (
   827â†’                            <span key={i} style={{
   828â†’                                fontSize: '11px',
   829â†’                                fontWeight: 500,
   830â†’                                letterSpacing: '0.08em',
   831â†’                                textTransform: 'uppercase',
   832â†’                                color: 'var(--color-text-muted)',
   833â†’                                padding: '6px 12px',
   834â†’                                border: '1px solid var(--color-border-light)'
   835â†’                            }}>
   836â†’                                {tag}
   837â†’                            </span>
   838â†’                        ))}
   839â†’                    </div>
   840â†’
   841â†’                    {/* Share Buttons */}
   842â†’                    <div className="share-buttons-container">
   843â†’                        <span className="share-label">Share</span>
   844â†’
   845â†’                        {/* Twitter/X */}
   846â†’                        <button
   847â†’                            className="share-btn"
   848â†’                            onClick={shareOnTwitter}
   849â†’                            title="Share on Twitter/X"
   850â†’                            aria-label="Share on Twitter/X"
   851â†’                        >
   852â†’                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   853â†’                                <path d="M4 4l11.733 16h4.267l-11.733 -16z" />
   854â†’                                <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
   855â†’                            </svg>
   856â†’                        </button>
   857â†’
   858â†’                        {/* LinkedIn */}
   859â†’                        <button
   860â†’                            className="share-btn"
   861â†’                            onClick={shareOnLinkedIn}
   862â†’                            title="Share on LinkedIn"
   863â†’                            aria-label="Share on LinkedIn"
   864â†’                        >
   865â†’                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   866â†’                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
   867â†’                                <rect x="2" y="9" width="4" height="12" />
   868â†’                                <circle cx="4" cy="4" r="2" />
   869â†’                            </svg>
   870â†’                        </button>
   871â†’
   872â†’                        {/* Copy Link */}
   873â†’                        <button
   874â†’                            className="share-btn"
   875â†’                            onClick={copyLink}
   876â†’                            title="Copy link"
   877â†’                            aria-label="Copy link to clipboard"
   878â†’                        >
   879â†’                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   880â†’                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
   881â†’                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
   882â†’                            </svg>
   883â†’                        </button>
   884â†’
   885â†’                        {/* Native Share (Mobile) */}
   886â†’                        {typeof navigator !== 'undefined' && 'share' in navigator && (
   887â†’                            <button
   888â†’                                className="share-btn"
   889â†’                                onClick={shareNative}
   890â†’                                title="Share"
   891â†’                                aria-label="Open share menu"
   892â†’                            >
   893â†’                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   894â†’                                    <circle cx="18" cy="5" r="3" />
   895â†’                                    <circle cx="6" cy="12" r="3" />
   896â†’                                    <circle cx="18" cy="19" r="3" />
   897â†’                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" />
   898â†’                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" />
   899â†’                                </svg>
   900â†’                            </button>
   901â†’                        )}
   902â†’                    </div>
   903â†’
   904â†’                    {/* Like Button */}
   905â†’                    <div className="like-button-container">
   906â†’                        <span className="like-label">Enjoyed this?</span>
   907â†’                        <button
   908â†’                            className={`like-button ${hasLiked ? 'liked' : ''} ${isLikeAnimating ? 'animating' : ''}`}
   909â†’                            onClick={handleLike}
   910â†’                            title={hasLiked ? 'Unlike this post' : 'Like this post'}
   911â†’                            aria-label={hasLiked ? 'Unlike this post' : 'Like this post'}
   912â†’                        >
   913â†’                            <svg
   914â†’                                viewBox="0 0 24 24"
   915â†’                                fill={hasLiked ? 'currentColor' : 'none'}
   916â†’                                stroke="currentColor"
   917â†’                                strokeWidth="2"
   918â†’                                strokeLinecap="round"
   919â†’                                strokeLinejoin="round"
   920â†’                            >
   921â†’                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
   922â†’                            </svg>
   923â†’                            <span>{hasLiked ? 'Liked' : 'Like'}</span>
   924â†’                        </button>
   925â†’                        {likeCount > 0 && (
   926â†’                            <span className={`like-count ${likeCount > 0 ? 'has-likes' : ''}`}>
   927â†’                                {likeCount} {likeCount === 1 ? 'like' : 'likes'}
   928â†’                            </span>
   929â†’                        )}
   930â†’                    </div>
   931â†’                </div>
   932â†’
   933â†’                {/* Hero Image */}
   934â†’                {post.thumbnail && (
   935â†’                    <div style={{
   936â†’                        aspectRatio: '16/9',
   937â†’                        marginBottom: 'var(--space-2xl)',
   938â†’                        background: 'linear-gradient(135deg, var(--color-background-secondary) 0%, var(--color-background-tertiary) 100%)',
   939â†’                        border: '1px solid var(--color-border-light)',
   940â†’                        overflow: 'hidden'
   941â†’                    }}>
   942â†’                        <img
   943â†’                            src={post.thumbnail}
   944â†’                            alt={post.title}
   945â†’                            style={{ width: '100%', height: '100%', objectFit: 'cover' }}
   946â†’                        />
   947â†’                    </div>
   948â†’                )}
   949â†’
   950â†’                {/* Article Content */}
   951â†’                <div ref={contentRef} className="blog-content">
   952â†’                    <ReactMarkdown
   953â†’                        remarkPlugins={[remarkGfm]}
   954â†’                        components={{
   955â†’                            code({ className, children, ...props }) {
   956â†’                                const match = /language-(\w+)/.exec(className || '');
   957â†’                                const isInline = !match;
   958â†’                                const code = String(children).replace(/\n$/, '');
   959â†’
   960â†’                                return !isInline ? (
   961â†’                                    <div className="code-block-wrapper">
   962â†’                                        <button
   963â†’                                            className="code-copy-btn"
   964â†’                                            onClick={() => copyCode(code)}
   965â†’                                            title="Copy code"
   966â†’                                        >
   967â†’                                            Copy
   968â†’                                        </button>
   969â†’                                        <SyntaxHighlighter
   970â†’                                            style={isDark ? oneDark : oneLight}
   971â†’                                            language={match[1]}
   972â†’                                            PreTag="div"
   973â†’                                            customStyle={{
   974â†’                                                margin: 0,
   975â†’                                                borderRadius: 0,
   976â†’                                                border: '1px solid var(--color-border)',
   977â†’                                                background: 'var(--color-code-bg)'
   978â†’                                            }}
   979â†’                                        >
   980â†’                                            {code}
   981â†’                                        </SyntaxHighlighter>
   982â†’                                    </div>
   983â†’                                ) : (
   984â†’                                    <code className={className} {...props}>
   985â†’                                        {children}
   986â†’                                    </code>
   987â†’                                );
   988â†’                            }
   989â†’                        }}
   990â†’                    >
   991â†’                        {post.content}
   992â†’                    </ReactMarkdown>
   993â†’                </div>
   994â†’
   995â†’                {/* Navigation Between Posts */}
   996â†’                {(hasPrev || hasNext) && (
   997â†’                    <div style={{
   998â†’                        display: 'flex',
   999â†’                        justifyContent: 'space-between',
  1000â†’                        marginTop: 'var(--space-3xl)',
  1001â†’                        paddingTop: 'var(--space-xl)',
  1002â†’                        borderTop: '1px solid var(--color-border-light)',
  1003â†’                        gap: 'var(--space-lg)',
  1004â†’                        flexWrap: 'wrap'
  1005â†’                    }}>
  1006â†’                        {hasPrev ? (
  1007â†’                            <button
  1008â†’                                onClick={() => onNavigate?.('prev')}
  1009â†’                                style={{
  1010â†’                                    background: 'none',
  1011â†’                                    border: 'none',
  1012â†’                                    cursor: 'pointer',
  1013â†’                                    textAlign: 'left',
  1014â†’                                    padding: 0,
  1015â†’                                    flex: 1,
  1016â†’                                    fontFamily: 'var(--font-sans)'
  1017â†’                                }}
  1018â†’                            >
  1019â†’                                <span style={{
  1020â†’                                    fontSize: '11px',
  1021â†’                                    fontWeight: 500,
  1022â†’                                    letterSpacing: '0.1em',
  1023â†’                                    textTransform: 'uppercase',
  1024â†’                                    color: 'var(--color-text-muted)',
  1025â†’                                    display: 'block',
  1026â†’                                    marginBottom: 'var(--space-sm)'
  1027â†’                                }}>â† Previous</span>
  1028â†’                                <span style={{
  1029â†’                                    fontSize: '16px',
  1030â†’                                    fontFamily: 'var(--font-serif)',
  1031â†’                                    fontStyle: 'italic',
  1032â†’                                    color: 'var(--color-text-secondary)'
  1033â†’                                }}>{prevTitle}</span>
  1034â†’                            </button>
  1035â†’                        ) : <div style={{ flex: 1 }} />}
  1036â†’
  1037â†’                        {hasNext ? (
  1038â†’                            <button
  1039â†’                                onClick={() => onNavigate?.('next')}
  1040â†’                                style={{
  1041â†’                                    background: 'none',
  1042â†’                                    border: 'none',
  1043â†’                                    cursor: 'pointer',
  1044â†’                                    textAlign: 'right',
  1045â†’                                    padding: 0,
  1046â†’                                    flex: 1,
  1047â†’                                    fontFamily: 'var(--font-sans)'
  1048â†’                                }}
  1049â†’                            >
  1050â†’                                <span style={{
  1051â†’                                    fontSize: '11px',
  1052â†’                                    fontWeight: 500,
  1053â†’                                    letterSpacing: '0.1em',
  1054â†’                                    textTransform: 'uppercase',
  1055â†’                                    color: 'var(--color-text-muted)',
  1056â†’                                    display: 'block',
  1057â†’                                    marginBottom: 'var(--space-sm)'
  1058â†’                                }}>Next â†’</span>
  1059â†’                                <span style={{
  1060â†’                                    fontSize: '16px',
  1061â†’                                    fontFamily: 'var(--font-serif)',
  1062â†’                                    fontStyle: 'italic',
  1063â†’                                    color: 'var(--color-text-secondary)'
  1064â†’                                }}>{nextTitle}</span>
  1065â†’                            </button>
  1066â†’                        ) : <div style={{ flex: 1 }} />}
  1067â†’                    </div>
  1068â†’                )}
  1069â†’
  1070â†’                {/* Related Posts */}
  1071â†’                {relatedPosts && relatedPosts.length > 0 && (
  1072â†’                    <div className="related-posts-section">
  1073â†’                        <h2 className="related-posts-title">Related Articles</h2>
  1074â†’                        <div style={{
  1075â†’                            display: 'grid',
  1076â†’                            gap: 'var(--space-lg)',
  1077â†’                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(280px, 1fr))'
  1078â†’                        }}>
  1079â†’                            {relatedPosts.map((relatedPost, index) => (
  1080â†’                                <div
  1081â†’                                    key={index}
  1082â†’                                    className="related-post-card"
  1083â†’                                    onClick={() => onPostSelect?.(relatedPost)}
  1084â†’                                >
  1085â†’                                    <h3 className="related-post-title">{relatedPost.title}</h3>
  1086â†’                                    <div className="related-post-meta">
  1087â†’                                        {formatDate(relatedPost.date)} Â· {relatedPost.readingTime} min read
  1088â†’                                    </div>
  1089â†’                                    {relatedPost.tags && relatedPost.tags.length > 0 && (
  1090â†’                                        <div style={{
  1091â†’                                            display: 'flex',
  1092â†’                                            gap: '8px',
  1093â†’                                            flexWrap: 'wrap',
  1094â†’                                            marginTop: 'var(--space-sm)'
  1095â†’                                        }}>
  1096â†’                                            {relatedPost.tags.slice(0, 3).map((tag, i) => (
  1097â†’                                                <span key={i} style={{
  1098â†’                                                    fontSize: '10px',
  1099â†’                                                    fontWeight: 500,
  1100â†’                                                    letterSpacing: '0.08em',
  1101â†’                                                    textTransform: 'uppercase',
  1102â†’                                                    color: 'var(--color-text-muted)',
  1103â†’                                                    padding: '4px 8px',
  1104â†’                                                    border: '1px solid var(--color-border-light)'
  1105â†’                                                }}>
  1106â†’                                                    {tag}
  1107â†’                                                </span>
  1108â†’                                            ))}
  1109â†’                                        </div>
  1110â†’                                    )}
  1111â†’                                </div>
  1112â†’                            ))}
  1113â†’                        </div>
  1114â†’                    </div>
  1115â†’                )}
  1116â†’                </div>
  1117â†’
  1118â†’                {/* Table of Contents - Desktop Only */}
  1119â†’                {!isMobile && showToc && tocItems.length > 0 && (
  1120â†’                    <div style={{
  1121â†’                        width: '280px',
  1122â†’                        flexShrink: 0
  1123â†’                    }}>
  1124â†’                        <div className="toc-container">
  1125â†’                            <div className="toc-title">Contents</div>
  1126â†’                            <nav>
  1127â†’                                {tocItems.map((item, index) => (
  1128â†’                                    <div
  1129â†’                                        key={index}
  1130â†’                                        className={`toc-item level-${item.level} ${activeHeading === item.id ? 'active' : ''}`}
  1131â†’                                        onClick={() => scrollToHeading(item.id)}
  1132â†’                                    >
  1133â†’                                        {item.text}
  1134â†’                                    </div>
  1135â†’                                ))}
  1136â†’                            </nav>
  1137â†’                        </div>
  1138â†’                    </div>
  1139â†’                )}
  1140â†’            </div>
  1141â†’
  1142â†’            {/* Back to Top Button */}
  1143â†’            <button
  1144â†’                className={`back-to-top-btn ${showBackToTop ? 'visible' : ''}`}
  1145â†’                onClick={scrollToTop}
  1146â†’                title="Back to top"
  1147â†’            >
  1148â†’                â†‘
  1149â†’            </button>
  1150â†’
  1151â†’            {/* Copy Toast Notification */}
  1152â†’            <div className={`copy-toast ${showCopyToast ? 'visible' : ''}`}>
  1153â†’                Link copied to clipboard!
  1154â†’            </div>
  1155â†’        </div>
  1156â†’    );
  1157â†’}
  1158â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/types/blog.ts`
```
     1â†’export interface BlogPost {
     2â†’    slug: string;
     3â†’    title: string;
     4â†’    date: string;
     5â†’    excerpt: string;
     6â†’    tags: string[];
     7â†’    readingTime: number;
     8â†’    thumbnail?: string | null;
     9â†’    content: string;
    10â†’}
    11â†’
    12â†’export interface BlogFrontmatter {
    13â†’    title: string;
    14â†’    date: string;
    15â†’    excerpt: string;
    16â†’    tags: string[];
    17â†’    thumbnail?: string;
    18â†’}
    19â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me look at the blog post content files and check how they integrate into the main app:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./content/blog/2024-11-15-etf-grade-staking.md`
```
     1â†’---
     2â†’title: "The Hidden Complexity of ETF-Grade Staking"
     3â†’date: "2024-11-15"
     4â†’excerpt: "What it really takes to build staking infrastructure for institutional clientsâ€”the compliance, custody, and coordination challenges nobody talks about."
     5â†’tags: ["Staking", "Ethereum", "Custody", "Institutional"]
     6â†’thumbnail: null
     7â†’---
     8â†’
     9â†’When people hear "ETH staking," they often think it's straightforward: deposit 32 ETH, run a validator, earn yield. In reality, building staking infrastructure for institutional clients like ETF providers is an entirely different beast. Here's a look behind the curtain at what it actually takes.
    10â†’
    11â†’## The Custody Paradox
    12â†’
    13â†’Institutional staking creates a fundamental tension:
    14â†’
    15â†’**For maximum yield**, you want:
    16â†’- Distributed validator infrastructure
    17â†’- Quick slashing response
    18â†’- Flexible withdrawal strategies
    19â†’- MEV optimization
    20â†’
    21â†’**For custody compliance**, you need:
    22â†’- Full control of withdrawal keys
    23â†’- Auditable key management
    24â†’- Regulatory-approved processes
    25â†’- Cold storage capabilities
    26â†’
    27â†’These requirements often conflict. The same distributed architecture that optimizes for uptime can create custody concerns. The cold storage that satisfies auditors can slow response times.
    28â†’
    29â†’## Key Decisions We Faced
    30â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Glob"><details>
<summary>Tool use: **Glob**</summary>
 pattern `**/App.tsx`
```
/Users/dfotesco/Portfolio/portfolio/src/App.tsx
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="grep" data-tool-name="Grep"><details>
<summary>Tool use: **Grep**</summary>
 pattern `Blog|blog`
```
No files found
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me read the App.tsx file and search for Blog component usage:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/App.tsx`
```
     1â†’import { HashRouter, Routes, Route } from 'react-router-dom';
     2â†’import { ThemeProvider } from './context/ThemeContext';
     3â†’import { HelmetProvider } from 'react-helmet-async';
     4â†’import BasePortfolio from './pages/BasePortfolio';
     5â†’import VariantPortfolio from './pages/VariantPortfolio';
     6â†’
     7â†’function App() {
     8â†’  return (
     9â†’    <HelmetProvider>
    10â†’      <ThemeProvider>
    11â†’        <HashRouter>
    12â†’          <Routes>
    13â†’            {/* Base portfolio route */}
    14â†’            <Route path="/" element={<BasePortfolio />} />
    15â†’
    16â†’            {/* Variant portfolio routes: /#/company/role */}
    17â†’            <Route path="/:company/:role" element={<VariantPortfolio />} />
    18â†’          </Routes>
    19â†’        </HashRouter>
    20â†’      </ThemeProvider>
    21â†’    </HelmetProvider>
    22â†’  );
    23â†’}
    24â†’
    25â†’export default App;
    26â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 Search for blog references in App.tsx

`grep -n "Blog\|blog" /Users/dfotesco/Portfolio/portfolio/src/App.tsx`
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the BasePortfolio and see where Blog is used:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/pages/BasePortfolio.tsx`
```
     1â†’/**
     2â†’ * Base Portfolio Page
     3â†’ *
     4â†’ * Default portfolio without variant customization
     5â†’ */
     6â†’
     7â†’import { VariantProvider } from '../context/VariantContext';
     8â†’import { profile } from '../lib/content';
     9â†’import Portfolio from '../components/Portfolio';
    10â†’
    11â†’export default function BasePortfolio() {
    12â†’  return (
    13â†’    <VariantProvider profile={profile}>
    14â†’      <Portfolio />
    15â†’    </VariantProvider>
    16â†’  );
    17â†’}
    18â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 Find all Blog imports

`grep -rn "import.*Blog" /Users/dfotesco/Portfolio/portfolio/src --include="*.tsx" --include="*.ts"`
```
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx:18:import BlogPostModal from '../../components/BlogPostModal';
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx:19:import type { BlogPost } from '../../types/blog';
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx:2:import type { BlogPost } from '../types/blog';
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx:3:import BlogPostModal from './BlogPostModal';
/Users/dfotesco/Portfolio/portfolio/src/components/Portfolio.tsx:2:import Blog from './Blog';
/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx:6:import type { BlogPost } from '../types/blog';
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me check the Portfolio component:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/components/Portfolio.tsx`
```
     1â†’import { useState, useEffect } from 'react';
     2â†’import Blog from './Blog';
     3â†’import ThemeToggle from './ThemeToggle';
     4â†’import HeroSection from './sections/HeroSection';
     5â†’import AboutSection from './sections/AboutSection';
     6â†’import ExperienceSection from './sections/ExperienceSection';
     7â†’import CertificationsSection from './sections/CertificationsSection';
     8â†’import TestimonialsSection from './sections/TestimonialsSection';
     9â†’import PassionProjectsSection from './sections/PassionProjectsSection';
    10â†’
    11â†’import CaseStudiesSection from './sections/CaseStudiesSection';
    12â†’import FooterSection from './sections/FooterSection';
    13â†’import CaseStudyDrawer from './case-study/CaseStudyDrawer';
    14â†’import AmbientBackground from './common/AmbientBackground';
    15â†’import Omnibar from './common/Omnibar';
    16â†’import { useVariant } from '../context/VariantContext';
    17â†’import type { CaseStudy } from '../types/portfolio';
    18â†’
    19â†’export default function Portfolio() {
    20â†’  // Get profile from variant context (either base or merged with variant)
    21â†’  const { profile } = useVariant();
    22â†’
    23â†’  const [isLoaded, setIsLoaded] = useState(false);
    24â†’  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    25â†’  const [windowWidth, setWindowWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1200);
    26â†’  const [modalCase, setModalCase] = useState<CaseStudy | null>(null);
    27â†’  const [hoveredCase, setHoveredCase] = useState<number | null>(null);
    28â†’
    29â†’  useEffect(() => {
    30â†’    setIsLoaded(true);
    31â†’
    32â†’    const handleResize = () => setWindowWidth(window.innerWidth);
    33â†’    window.addEventListener('resize', handleResize);
    34â†’    return () => window.removeEventListener('resize', handleResize);
    35â†’  }, []);
    36â†’
    37â†’  // Handle modal scroll lock and ESC key
    38â†’  useEffect(() => {
    39â†’    if (modalCase) {
    40â†’      document.body.style.overflow = 'hidden';
    41â†’      const handleEsc = (e: KeyboardEvent) => {
    42â†’        if (e.key === 'Escape') setModalCase(null);
    43â†’      };
    44â†’      window.addEventListener('keydown', handleEsc);
    45â†’      return () => {
    46â†’        document.body.style.overflow = '';
    47â†’        window.removeEventListener('keydown', handleEsc);
    48â†’      };
    49â†’    } else {
    50â†’      document.body.style.overflow = '';
    51â†’    }
    52â†’  }, [modalCase]);
    53â†’
    54â†’  const isMobile = windowWidth < 768;
    55â†’  const isTablet = windowWidth >= 768 && windowWidth < 1024;
    56â†’
    57â†’  // Section visibility flags from YAML config
    58â†’  const { sections } = profile;
    59â†’
    60â†’  const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
    61â†’
    62â†’  return (
    63â†’    <>
    64â†’      <style>{`
    65â†’        .nav-link {
    66â†’          color: var(--color-text-tertiary);
    67â†’          text-decoration: none;
    68â†’          font-size: 13px;
    69â†’          font-weight: 500;
    70â†’          letter-spacing: 0.05em;
    71â†’          text-transform: uppercase;
    72â†’          transition: color 0.2s ease;
    73â†’          cursor: pointer;
    74â†’        }
    75â†’        .nav-link:hover {
    76â†’          color: var(--color-text-primary);
    77â†’        }
    78â†’        .nav-cta {
    79â†’          color: var(--color-background);
    80â†’          background: var(--color-accent);
    81â†’          padding: 12px 24px;
    82â†’          text-decoration: none;
    83â†’          font-size: 13px;
    84â†’          font-weight: 600;
    85â†’          letter-spacing: 0.02em;
    86â†’          transition: all 0.2s ease;
    87â†’        }
    88â†’        .nav-cta:hover {
    89â†’          background: var(--color-accent-hover);
    90â†’        }
    91â†’        .mobile-menu-link {
    92â†’          color: var(--color-text-primary);
    93â†’          text-decoration: none;
    94â†’          font-family: var(--font-serif);
    95â†’          font-size: 42px;
    96â†’          font-style: italic;
    97â†’          padding: 16px 0;
    98â†’          border-bottom: 1px solid var(--color-border);
    99â†’        }
   100â†’        .footer-omnibar-btn {
   101â†’          display: flex;
   102â†’          align-items: center;
   103â†’          gap: 10px;
   104â†’          padding: 16px 24px;
   105â†’          background: transparent;
   106â†’          border: none;
   107â†’          border-radius: 2px;
   108â†’          color: var(--color-text-primary);
   109â†’          font-size: 14px;
   110â†’          font-weight: 500;
   111â†’          letter-spacing: 0.02em;
   112â†’          cursor: pointer;
   113â†’          white-space: nowrap;
   114â†’          text-decoration: none;
   115â†’          transition: background 0.2s ease;
   116â†’        }
   117â†’        .footer-omnibar-btn:hover {
   118â†’          background: var(--color-tag-hover);
   119â†’        }
   120â†’        .footer-omnibar-btn-primary {
   121â†’          background: transparent;
   122â†’          border: 1px solid var(--color-accent);
   123â†’          color: var(--color-accent);
   124â†’          font-weight: 600;
   125â†’        }
   126â†’        .footer-omnibar-btn-primary:hover {
   127â†’          background: var(--color-accent);
   128â†’          color: var(--color-background);
   129â†’        }
   130â†’        .social-link {
   131â†’          color: var(--color-separator);
   132â†’          text-decoration: none;
   133â†’          font-size: 12px;
   134â†’          font-weight: 500;
   135â†’          letter-spacing: 0.08em;
   136â†’          text-transform: uppercase;
   137â†’          transition: color 0.2s ease;
   138â†’        }
   139â†’        .social-link:hover {
   140â†’          color: var(--color-text-tertiary);
   141â†’        }
   142â†’      `}</style>
   143â†’
   144â†’      <div style={{
   145â†’        minHeight: '100vh',
   146â†’        background: 'var(--color-background)',
   147â†’        color: 'var(--color-text-primary)',
   148â†’        transition: 'background var(--transition-medium), color var(--transition-medium)',
   149â†’        position: 'relative'
   150â†’      }}>
   151â†’        <a className="skip-link" href="#main-content">
   152â†’          Skip to content
   153â†’        </a>
   154â†’
   155â†’        <AmbientBackground />
   156â†’
   157â†’        {/* Navigation - hidden when drawer is open on mobile */}
   158â†’        <nav
   159â†’          aria-label="Primary"
   160â†’          style={{
   161â†’            position: 'fixed',
   162â†’            top: 0,
   163â†’            left: 0,
   164â†’            right: 0,
   165â†’            zIndex: 100,
   166â†’            background: 'var(--color-nav-bg)',
   167â†’            backdropFilter: 'blur(12px)',
   168â†’            WebkitBackdropFilter: 'blur(12px)',
   169â†’            borderBottom: '1px solid var(--color-border-light)',
   170â†’            opacity: isLoaded ? 1 : 0,
   171â†’            transform: isLoaded ? 'translateY(0)' : 'translateY(-20px)',
   172â†’            transition: 'all 0.8s cubic-bezier(0.16, 1, 0.3, 1)',
   173â†’            display: (isMobile && modalCase) ? 'none' : 'block'
   174â†’          }}
   175â†’        >
   176â†’          <div style={{
   177â†’            maxWidth: 'var(--layout-max-width)',
   178â†’            margin: '0 auto',
   179â†’            padding: isMobile
   180â†’              ? 'var(--nav-height-mobile) var(--space-lg)'
   181â†’              : 'var(--nav-height) var(--space-3xl)',
   182â†’            display: 'flex',
   183â†’            justifyContent: 'space-between',
   184â†’            alignItems: 'center'
   185â†’          }}>
   186â†’            {/* Logo */}
   187â†’            <div style={{
   188â†’              fontFamily: 'var(--font-serif)',
   189â†’              fontSize: '24px',
   190â†’              fontStyle: 'italic',
   191â†’              fontWeight: 700,
   192â†’              zIndex: 101,
   193â†’              position: 'relative'
   194â†’            }}>
   195â†’              <a
   196â†’                href="#"
   197â†’                onClick={(e) => {
   198â†’                  e.preventDefault();
   199â†’                  // Close any open drawer
   200â†’                  setModalCase(null);
   201â†’                  // Close mobile menu if open
   202â†’                  setMobileMenuOpen(false);
   203â†’                  // Scroll to top
   204â†’                  window.scrollTo({ top: 0, behavior: 'smooth' });
   205â†’                  // Clear URL hash if any
   206â†’                  if (window.location.hash) {
   207â†’                    window.history.pushState(null, '', window.location.pathname);
   208â†’                  }
   209â†’                }}
   210â†’                style={{
   211â†’                  textDecoration: 'none',
   212â†’                  color: 'var(--color-text-primary)',
   213â†’                  transition: 'color 0.4s ease',
   214â†’                  cursor: 'pointer'
   215â†’                }}
   216â†’              >
   217â†’                {profile.name}
   218â†’              </a>
   219â†’            </div>
   220â†’
   221â†’            {/* Desktop Navigation */}
   222â†’            {!isMobile && (
   223â†’              <div style={{ display: 'flex', gap: 'var(--space-xl)', alignItems: 'center' }}>
   224â†’                {['Work', 'About', 'Blog'].map((item) => (
   225â†’                  <a
   226â†’                    key={item}
   227â†’                    href={`#${item.toLowerCase()}`}
   228â†’                    className="nav-link"
   229â†’                  >
   230â†’                    {item}
   231â†’                  </a>
   232â†’                ))}
   233â†’                <ThemeToggle />
   234â†’                <a href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o=" target="_blank" rel="noopener noreferrer" className="nav-cta">
   235â†’                  Get in Touch
   236â†’                </a>
   237â†’              </div>
   238â†’            )}
   239â†’
   240â†’            {/* Mobile Menu Button */}
   241â†’            {isMobile && (
   242â†’              <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-sm)' }}>
   243â†’                <ThemeToggle isMobile />
   244â†’                <button
   245â†’                  type="button"
   246â†’                  onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
   247â†’                  aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}
   248â†’                  aria-expanded={mobileMenuOpen}
   249â†’                  aria-controls="mobile-menu"
   250â†’                  style={{
   251â†’                    background: 'transparent',
   252â†’                    border: 'none',
   253â†’                    padding: 'var(--space-sm)',
   254â†’                    cursor: 'pointer',
   255â†’                    zIndex: 101,
   256â†’                    position: 'relative',
   257â†’                    color: 'var(--color-text-primary)'
   258â†’                  }}
   259â†’                >
   260â†’                  <span style={{
   261â†’                    fontSize: '14px',
   262â†’                    textTransform: 'uppercase',
   263â†’                    letterSpacing: '0.1em',
   264â†’                    fontWeight: 600
   265â†’                  }}>
   266â†’                    {mobileMenuOpen ? 'Close' : 'Menu'}
   267â†’                  </span>
   268â†’                </button>
   269â†’              </div>
   270â†’            )}
   271â†’          </div>
   272â†’        </nav>
   273â†’
   274â†’        {/* Mobile Menu Overlay */}
   275â†’        {isMobile && (
   276â†’          <div
   277â†’            id="mobile-menu"
   278â†’            role="dialog"
   279â†’            aria-modal="true"
   280â†’            aria-label="Navigation menu"
   281â†’            style={{
   282â†’              position: 'fixed',
   283â†’              top: 0,
   284â†’              left: 0,
   285â†’              right: 0,
   286â†’              bottom: 0,
   287â†’              background: 'var(--color-background)',
   288â†’              zIndex: 99,
   289â†’              display: 'flex',
   290â†’              flexDirection: 'column',
   291â†’              justifyContent: 'center',
   292â†’              padding: '0 var(--space-lg)',
   293â†’              opacity: mobileMenuOpen ? 1 : 0,
   294â†’              pointerEvents: mobileMenuOpen ? 'auto' : 'none',
   295â†’              transition: 'opacity 0.3s ease, background 0.4s ease'
   296â†’            }}>
   297â†’            {['Work', 'About', 'Blog', 'Contact'].map((item, i) => (
   298â†’              <a
   299â†’                key={item}
   300â†’                href={item === 'Contact' ? `mailto:${profile.email}` : `#${item.toLowerCase()}`}
   301â†’                onClick={() => setMobileMenuOpen(false)}
   302â†’                className="mobile-menu-link"
   303â†’                style={{
   304â†’                  transform: mobileMenuOpen ? 'translateX(0)' : 'translateX(-20px)',
   305â†’                  opacity: mobileMenuOpen ? 1 : 0,
   306â†’                  transition: `all 0.4s ease ${i * 0.08}s`
   307â†’                }}
   308â†’              >
   309â†’                {item}
   310â†’              </a>
   311â†’            ))}
   312â†’          </div>
   313â†’        )}
   314â†’
   315â†’        <main id="main-content" style={{ position: 'relative', zIndex: 1 }}>
   316â†’          {/* Hero Section */}
   317â†’          <HeroSection
   318â†’            profile={profile}
   319â†’            isMobile={isMobile}
   320â†’            isTablet={isTablet}
   321â†’            isLoaded={isLoaded}
   322â†’          />
   323â†’
   324â†’          {/* About Section */}
   325â†’          <AboutSection
   326â†’            profile={profile}
   327â†’            isMobile={isMobile}
   328â†’            isTablet={isTablet}
   329â†’            sectionPadding={sectionPadding}
   330â†’          />
   331â†’
   332â†’          {/* Experience Section */}
   333â†’          <ExperienceSection
   334â†’            isMobile={isMobile}
   335â†’            isTablet={isTablet}
   336â†’            sectionPadding={sectionPadding}
   337â†’          />
   338â†’
   339â†’          {/* Certifications Section */}
   340â†’          <CertificationsSection
   341â†’            profile={profile}
   342â†’            isMobile={isMobile}
   343â†’            isTablet={isTablet}
   344â†’            sectionPadding={sectionPadding}
   345â†’          />
   346â†’
   347â†’          {/* Skills Section - conditionally rendered */}
   348â†’          {sections.skills && (
   349â†’            <section style={{
   350â†’              padding: sectionPadding,
   351â†’              maxWidth: 'var(--layout-max-width)',
   352â†’              margin: '0 auto',
   353â†’              position: 'relative',
   354â†’              zIndex: 1
   355â†’            }}>
   356â†’              {/* Skills content would go here */}
   357â†’            </section>
   358â†’          )}
   359â†’
   360â†’          {/* Case Studies Section */}
   361â†’          <CaseStudiesSection
   362â†’            isMobile={isMobile}
   363â†’            isTablet={isTablet}
   364â†’            sectionPadding={sectionPadding}
   365â†’            hoveredCase={hoveredCase}
   366â†’            setHoveredCase={setHoveredCase}
   367â†’            onCaseClick={(study) => setModalCase(study)}
   368â†’          />
   369â†’
   370â†’          {/* Passion Projects Section */}
   371â†’          {sections.passionProjects && (
   372â†’            <PassionProjectsSection
   373â†’              isMobile={isMobile}
   374â†’              sectionPadding={sectionPadding}
   375â†’            />
   376â†’          )}
   377â†’
   378â†’          {/* Testimonials Section */}
   379â†’          <TestimonialsSection
   380â†’            isMobile={isMobile}
   381â†’            isTablet={isTablet}
   382â†’            sectionPadding={sectionPadding}
   383â†’          />
   384â†’
   385â†’          {/* Blog Section */}
   386â†’          {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   387â†’
   388â†’          {/* Final CTA */}
   389â†’          <section style={{
   390â†’            padding: isMobile ? '48px 24px 64px' : '64px 64px 80px',
   391â†’            maxWidth: '1000px',
   392â†’            margin: '0 auto',
   393â†’            textAlign: 'center',
   394â†’            position: 'relative',
   395â†’            zIndex: 1
   396â†’          }}>
   397â†’            <h2 style={{
   398â†’              fontSize: isMobile ? '10vw' : '7vw',
   399â†’              fontFamily: 'var(--font-serif)',
   400â†’              fontWeight: 400,
   401â†’              fontStyle: 'italic',
   402â†’              color: 'var(--color-text-primary)',
   403â†’              letterSpacing: '-0.03em',
   404â†’              lineHeight: 1,
   405â†’              marginBottom: 'var(--space-xl)'
   406â†’            }}>
   407â†’              Let's build
   408â†’            </h2>
   409â†’
   410â†’            <p style={{
   411â†’              fontSize: '16px',
   412â†’              color: 'var(--color-text-tertiary)',
   413â†’              maxWidth: '440px',
   414â†’              margin: '0 auto var(--space-xl)',
   415â†’              lineHeight: 1.6
   416â†’            }}>
   417â†’              Open to PM roles in AI, infrastructure, and Web3.
   418â†’              Particularly interested in where agents meet on-chain execution.
   419â†’              Based in {profile.location} ({profile.timezone}), flexible on remote.
   420â†’            </p>
   421â†’
   422â†’            {/* Omnibar-style CTA */}
   423â†’            <div style={{
   424â†’              display: 'inline-flex',
   425â†’              alignItems: 'center',
   426â†’              gap: 'var(--space-sm)',
   427â†’              padding: 'var(--space-sm)',
   428â†’              background: 'var(--color-surface-glass)',
   429â†’              backdropFilter: 'blur(12px)',
   430â†’              WebkitBackdropFilter: 'blur(12px)',
   431â†’              borderRadius: '6px',
   432â†’              border: '1px solid var(--color-border-light)',
   433â†’              boxShadow: '0 12px 40px rgba(0, 0, 0, 0.15)',
   434â†’              flexWrap: isMobile ? 'wrap' : 'nowrap',
   435â†’              justifyContent: 'center'
   436â†’            }}>
   437â†’              {/* Copy Email */}
   438â†’              <button
   439â†’                onClick={() => {
   440â†’                  navigator.clipboard.writeText(profile.email);
   441â†’                }}
   442â†’                className="footer-omnibar-btn"
   443â†’              >
   444â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   445â†’                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
   446â†’                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
   447â†’                </svg>
   448â†’                <span>Copy Email</span>
   449â†’              </button>
   450â†’
   451â†’              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   452â†’
   453â†’              {/* Resume */}
   454â†’              <a
   455â†’                href="/dmitrii-fotesco-resume.pdf"
   456â†’                target="_blank"
   457â†’                rel="noopener noreferrer"
   458â†’                className="footer-omnibar-btn"
   459â†’              >
   460â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   461â†’                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
   462â†’                  <polyline points="7 10 12 15 17 10" />
   463â†’                  <line x1="12" y1="15" x2="12" y2="3" />
   464â†’                </svg>
   465â†’                <span>Resume</span>
   466â†’              </a>
   467â†’
   468â†’              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   469â†’
   470â†’              {/* Book Time */}
   471â†’              <a
   472â†’                href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o="
   473â†’                target="_blank"
   474â†’                rel="noopener noreferrer"
   475â†’                className="footer-omnibar-btn footer-omnibar-btn-primary"
   476â†’              >
   477â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   478â†’                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
   479â†’                  <line x1="16" y1="2" x2="16" y2="6" />
   480â†’                  <line x1="8" y1="2" x2="8" y2="6" />
   481â†’                  <line x1="3" y1="10" x2="21" y2="10" />
   482â†’                </svg>
   483â†’                <span>Book Time</span>
   484â†’              </a>
   485â†’            </div>
   486â†’
   487â†’            {/* Social Icons Bar */}
   488â†’            <div style={{
   489â†’              display: 'flex',
   490â†’              justifyContent: 'center',
   491â†’              gap: 'var(--space-lg)',
   492â†’              marginTop: 'var(--space-xl)'
   493â†’            }}>
   494â†’              {/* LinkedIn */}
   495â†’              <a
   496â†’                href="https://www.linkedin.com/in/0xdmitri/"
   497â†’                target="_blank"
   498â†’                rel="noopener noreferrer"
   499â†’                title="LinkedIn"
   500â†’                style={{
   501â†’                  color: 'var(--color-text-tertiary)',
   502â†’                  transition: 'color 0.2s ease'
   503â†’                }}
   504â†’              >
   505â†’                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   506â†’                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
   507â†’                </svg>
   508â†’              </a>
   509â†’
   510â†’              {/* GitHub */}
   511â†’              <a
   512â†’                href="https://github.com/fotescodev"
   513â†’                target="_blank"
   514â†’                rel="noopener noreferrer"
   515â†’                title="GitHub"
   516â†’                style={{
   517â†’                  color: 'var(--color-text-tertiary)',
   518â†’                  transition: 'color 0.2s ease'
   519â†’                }}
   520â†’              >
   521â†’                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   522â†’                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
   523â†’                </svg>
   524â†’              </a>
   525â†’
   526â†’              {/* X / Twitter */}
   527â†’              <a
   528â†’                href="https://x.com/kolob0kk"
   529â†’                target="_blank"
   530â†’                rel="noopener noreferrer"
   531â†’                title="X / Twitter"
   532â†’                style={{
   533â†’                  color: 'var(--color-text-tertiary)',
   534â†’                  transition: 'color 0.2s ease'
   535â†’                }}
   536â†’              >
   537â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
   538â†’                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
   539â†’                </svg>
   540â†’              </a>
   541â†’
   542â†’              {/* Telegram */}
   543â†’              <a
   544â†’                href="https://t.me/zimbru0x"
   545â†’                target="_blank"
   546â†’                rel="noopener noreferrer"
   547â†’                title="Telegram"
   548â†’                style={{
   549â†’                  color: 'var(--color-text-tertiary)',
   550â†’                  transition: 'color 0.2s ease'
   551â†’                }}
   552â†’              >
   553â†’                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   554â†’                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z" />
   555â†’                </svg>
   556â†’              </a>
   557â†’            </div>
   558â†’          </section>
   559â†’
   560â†’          {/* Omnibar */}
   561â†’          <Omnibar />
   562â†’
   563â†’          {/* Case Study Modal */}
   564â†’          {modalCase && (
   565â†’            <CaseStudyDrawer
   566â†’              isOpen={!!modalCase}
   567â†’              onClose={() => setModalCase(null)}
   568â†’              caseStudy={modalCase}
   569â†’              isMobile={isMobile}
   570â†’              onNavigate={(study) => setModalCase(study)}
   571â†’            />
   572â†’          )}
   573â†’
   574â†’        </main>
   575â†’
   576â†’        {/* Footer */}
   577â†’        <FooterSection isMobile={isMobile} />
   578â†’      </div>
   579â†’    </>
   580â†’  );
   581â†’}
   582â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/lib/likes.ts`
```
     1â†’/**
     2â†’ * Blog Post Likes System
     3â†’ *
     4â†’ * Manages like functionality with client-side persistence and tracking.
     5â†’ * Stores like data in localStorage with user tracking information.
     6â†’ */
     7â†’
     8â†’export interface LikeData {
     9â†’    postSlug: string;
    10â†’    count: number;
    11â†’    timestamp: number;
    12â†’    userFingerprint: string;
    13â†’}
    14â†’
    15â†’export interface UserLike {
    16â†’    postSlug: string;
    17â†’    timestamp: number;
    18â†’    userAgent: string;
    19â†’    fingerprintHash: string;
    20â†’}
    21â†’
    22â†’const LIKES_STORAGE_KEY = 'blog-post-likes';
    23â†’const USER_LIKES_KEY = 'user-likes';
    24â†’const USER_FINGERPRINT_KEY = 'user-fingerprint';
    25â†’
    26â†’/**
    27â†’ * Generate a simple fingerprint for the user
    28â†’ * Uses browser characteristics to create a semi-stable identifier
    29â†’ */
    30â†’function generateUserFingerprint(): string {
    31â†’    const canvas = document.createElement('canvas');
    32â†’    const ctx = canvas.getContext('2d');
    33â†’    if (ctx) {
    34â†’        ctx.textBaseline = 'top';
    35â†’        ctx.font = '14px Arial';
    36â†’        ctx.fillText('fingerprint', 2, 2);
    37â†’    }
    38â†’
    39â†’    const components = [
    40â†’        navigator.userAgent,
    41â†’        navigator.language,
    42â†’        screen.colorDepth,
    43â†’        screen.width + 'x' + screen.height,
    44â†’        new Date().getTimezoneOffset(),
    45â†’        canvas.toDataURL()
    46â†’    ];
    47â†’
    48â†’    // Simple hash function
    49â†’    const str = components.join('|');
    50â†’    let hash = 0;
    51â†’    for (let i = 0; i < str.length; i++) {
    52â†’        const char = str.charCodeAt(i);
    53â†’        hash = ((hash << 5) - hash) + char;
    54â†’        hash = hash & hash;
    55â†’    }
    56â†’
    57â†’    return Math.abs(hash).toString(36);
    58â†’}
    59â†’
    60â†’/**
    61â†’ * Get or create user fingerprint
    62â†’ */
    63â†’function getUserFingerprint(): string {
    64â†’    try {
    65â†’        let fingerprint = localStorage.getItem(USER_FINGERPRINT_KEY);
    66â†’        if (!fingerprint) {
    67â†’            fingerprint = generateUserFingerprint();
    68â†’            localStorage.setItem(USER_FINGERPRINT_KEY, fingerprint);
    69â†’        }
    70â†’        return fingerprint;
    71â†’    } catch {
    72â†’        // Fallback if localStorage is not available
    73â†’        return generateUserFingerprint();
    74â†’    }
    75â†’}
    76â†’
    77â†’/**
    78â†’ * Get all likes from storage
    79â†’ */
    80â†’function getAllLikes(): Record<string, LikeData> {
    81â†’    try {
    82â†’        const data = localStorage.getItem(LIKES_STORAGE_KEY);
    83â†’        return data ? JSON.parse(data) : {};
    84â†’    } catch {
    85â†’        return {};
    86â†’    }
    87â†’}
    88â†’
    89â†’/**
    90â†’ * Save likes to storage
    91â†’ */
    92â†’function saveLikes(likes: Record<string, LikeData>): void {
    93â†’    try {
    94â†’        localStorage.setItem(LIKES_STORAGE_KEY, JSON.stringify(likes));
    95â†’    } catch (error) {
    96â†’        console.error('Failed to save likes:', error);
    97â†’    }
    98â†’}
    99â†’
   100â†’/**
   101â†’ * Get user's likes from storage
   102â†’ */
   103â†’function getUserLikes(): UserLike[] {
   104â†’    try {
   105â†’        const data = localStorage.getItem(USER_LIKES_KEY);
   106â†’        return data ? JSON.parse(data) : [];
   107â†’    } catch {
   108â†’        return [];
   109â†’    }
   110â†’}
   111â†’
   112â†’/**
   113â†’ * Save user's likes to storage
   114â†’ */
   115â†’function saveUserLikes(userLikes: UserLike[]): void {
   116â†’    try {
   117â†’        localStorage.setItem(USER_LIKES_KEY, JSON.stringify(userLikes));
   118â†’    } catch (error) {
   119â†’        console.error('Failed to save user likes:', error);
   120â†’    }
   121â†’}
   122â†’
   123â†’/**
   124â†’ * Check if user has liked a post
   125â†’ */
   126â†’export function hasUserLikedPost(postSlug: string): boolean {
   127â†’    const userLikes = getUserLikes();
   128â†’    return userLikes.some(like => like.postSlug === postSlug);
   129â†’}
   130â†’
   131â†’/**
   132â†’ * Get like count for a post
   133â†’ */
   134â†’export function getLikeCount(postSlug: string): number {
   135â†’    const likes = getAllLikes();
   136â†’    return likes[postSlug]?.count || 0;
   137â†’}
   138â†’
   139â†’/**
   140â†’ * Like a post (increment count)
   141â†’ */
   142â†’export function likePost(postSlug: string): { count: number; success: boolean } {
   143â†’    try {
   144â†’        // Check if already liked
   145â†’        if (hasUserLikedPost(postSlug)) {
   146â†’            return { count: getLikeCount(postSlug), success: false };
   147â†’        }
   148â†’
   149â†’        const likes = getAllLikes();
   150â†’        const fingerprint = getUserFingerprint();
   151â†’        const timestamp = Date.now();
   152â†’
   153â†’        // Update like count
   154â†’        if (!likes[postSlug]) {
   155â†’            likes[postSlug] = {
   156â†’                postSlug,
   157â†’                count: 0,
   158â†’                timestamp,
   159â†’                userFingerprint: fingerprint
   160â†’            };
   161â†’        }
   162â†’        likes[postSlug].count += 1;
   163â†’        saveLikes(likes);
   164â†’
   165â†’        // Track user's like
   166â†’        const userLikes = getUserLikes();
   167â†’        userLikes.push({
   168â†’            postSlug,
   169â†’            timestamp,
   170â†’            userAgent: navigator.userAgent,
   171â†’            fingerprintHash: fingerprint
   172â†’        });
   173â†’        saveUserLikes(userLikes);
   174â†’
   175â†’        return { count: likes[postSlug].count, success: true };
   176â†’    } catch (error) {
   177â†’        console.error('Failed to like post:', error);
   178â†’        return { count: getLikeCount(postSlug), success: false };
   179â†’    }
   180â†’}
   181â†’
   182â†’/**
   183â†’ * Unlike a post (decrement count)
   184â†’ */
   185â†’export function unlikePost(postSlug: string): { count: number; success: boolean } {
   186â†’    try {
   187â†’        // Check if user has liked this post
   188â†’        if (!hasUserLikedPost(postSlug)) {
   189â†’            return { count: getLikeCount(postSlug), success: false };
   190â†’        }
   191â†’
   192â†’        const likes = getAllLikes();
   193â†’
   194â†’        // Decrement count
   195â†’        if (likes[postSlug] && likes[postSlug].count > 0) {
   196â†’            likes[postSlug].count -= 1;
   197â†’            saveLikes(likes);
   198â†’        }
   199â†’
   200â†’        // Remove from user's likes
   201â†’        const userLikes = getUserLikes();
   202â†’        const updatedUserLikes = userLikes.filter(like => like.postSlug !== postSlug);
   203â†’        saveUserLikes(updatedUserLikes);
   204â†’
   205â†’        return { count: likes[postSlug]?.count || 0, success: true };
   206â†’    } catch (error) {
   207â†’        console.error('Failed to unlike post:', error);
   208â†’        return { count: getLikeCount(postSlug), success: false };
   209â†’    }
   210â†’}
   211â†’
   212â†’/**
   213â†’ * Get all posts with likes (for analytics)
   214â†’ */
   215â†’export function getAllPostLikes(): LikeData[] {
   216â†’    const likes = getAllLikes();
   217â†’    return Object.values(likes).sort((a, b) => b.count - a.count);
   218â†’}
   219â†’
   220â†’/**
   221â†’ * Get all user likes (for analytics)
   222â†’ */
   223â†’export function getAllUserLikes(): UserLike[] {
   224â†’    return getUserLikes().sort((a, b) => b.timestamp - a.timestamp);
   225â†’}
   226â†’
   227â†’/**
   228â†’ * Export likes data as JSON (for backup/analysis)
   229â†’ */
   230â†’export function exportLikesData(): string {
   231â†’    return JSON.stringify({
   232â†’        postLikes: getAllPostLikes(),
   233â†’        userLikes: getAllUserLikes(),
   234â†’        exportDate: new Date().toISOString()
   235â†’    }, null, 2);
   236â†’}
   237â†’
   238â†’/**
   239â†’ * Get like analytics for a specific post
   240â†’ */
   241â†’export function getPostLikeAnalytics(postSlug: string): {
   242â†’    count: number;
   243â†’    userLikes: UserLike[];
   244â†’    firstLikeDate: Date | null;
   245â†’    lastLikeDate: Date | null;
   246â†’} {
   247â†’    const count = getLikeCount(postSlug);
   248â†’    const userLikes = getAllUserLikes().filter(like => like.postSlug === postSlug);
   249â†’
   250â†’    let firstLikeDate = null;
   251â†’    let lastLikeDate = null;
   252â†’
   253â†’    if (userLikes.length > 0) {
   254â†’        const timestamps = userLikes.map(like => like.timestamp);
   255â†’        firstLikeDate = new Date(Math.min(...timestamps));
   256â†’        lastLikeDate = new Date(Math.max(...timestamps));
   257â†’    }
   258â†’
   259â†’    return {
   260â†’        count,
   261â†’        userLikes,
   262â†’        firstLikeDate,
   263â†’        lastLikeDate
   264â†’    };
   265â†’}
   266â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me check the vite configuration to understand how the markdown glob works:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 Find vite and tsconfig configuration files

`find /Users/dfotesco/Portfolio/portfolio -name "vite.config.*" -o -name "tsconfig.json" | head -5`
```
/Users/dfotesco/Portfolio/portfolio/node_modules/@jest/pattern/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/vitest/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/jest-globals/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/bun/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@testing-library/jest-dom/types/__tests__/jest/tsconfig.json
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me search for vite config more specifically:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List config files in portfolio root

`ls -la /Users/dfotesco/Portfolio/portfolio/ | grep -E "vite|tsconfig"`
```
-rw-r--r--@   1 dfotesco  staff     732 Dec 10 12:54 tsconfig.app.json
-rw-r--r--@   1 dfotesco  staff     119 Dec 10 12:54 tsconfig.json
-rw-r--r--@   1 dfotesco  staff     653 Dec 10 12:54 tsconfig.node.json
-rw-r--r--@   1 dfotesco  staff     233 Dec 11 18:24 vite.config.ts
-rw-r--r--@   1 dfotesco  staff     640 Dec 12 12:06 vitest.config.ts
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me read the vite config:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./vite.config.ts`
```
     1â†’import { defineConfig } from 'vite'
     2â†’import react from '@vitejs/plugin-react'
     3â†’import yaml from '@rollup/plugin-yaml'
     4â†’
     5â†’// https://vite.dev/config/
     6â†’export default defineConfig({
     7â†’  plugins: [
     8â†’    react(),
     9â†’    yaml()
    10â†’  ],
    11â†’  base: '/',
    12â†’})
    13â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="bash" data-tool-name="Bash"><details>
<summary>Tool use: **Bash**</summary>
 List all blog post files

`ls -la /Users/dfotesco/Portfolio/portfolio/content/blog/`
```
total 48
drwxr-xr-x@  7 dfotesco  staff   224 Dec 15 19:14 .
drwxr-xr-x@ 13 dfotesco  staff   416 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff    65 Dec 10 12:54 .gitkeep
-rw-r--r--@  1 dfotesco  staff  4090 Dec 10 12:54 2024-11-15-etf-grade-staking.md
-rw-r--r--@  1 dfotesco  staff  3217 Dec 10 12:54 2024-12-01-ai-agents-meet-onchain.md
-rw-r--r--@  1 dfotesco  staff  6505 Dec 11 09:34 2024-12-11-portfolio-retrospective.md
-rw-r--r--@  1 dfotesco  staff  3832 Dec 15 19:14 2024-12-15-why-validation-matters.md
```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the test file to understand more features:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/tests/blog/blog-ux-features.test.tsx`
```
     1â†’/**
     2â†’ * Blog UX Features Tests
     3â†’ *
     4â†’ * Comprehensive test suite for blog post modal UX enhancements:
     5â†’ * - Reading progress bar
     6â†’ * - Table of contents with scroll spy
     7â†’ * - Copy code buttons
     8â†’ * - Back-to-top button
     9â†’ * - Related posts
    10â†’ * - Social sharing
    11â†’ * - Fluid typography
    12â†’ * - Design system compliance
    13â†’ */
    14â†’
    15â†’import { render, screen, fireEvent, waitFor } from '@testing-library/react';
    16â†’import { vi, describe, it, expect, beforeEach, afterEach } from 'vitest';
    17â†’import { ThemeProvider } from '../../context/ThemeContext';
    18â†’import BlogPostModal from '../../components/BlogPostModal';
    19â†’import type { BlogPost } from '../../types/blog';
    20â†’
    21â†’// Test wrapper with ThemeProvider
    22â†’const TestWrapper = ({ children }: { children: React.ReactNode }) => (
    23â†’    <ThemeProvider>{children}</ThemeProvider>
    24â†’);
    25â†’
    26â†’// Mock blog post data
    27â†’const mockPost: BlogPost = {
    28â†’    slug: 'test-post',
    29â†’    title: 'Test Blog Post with UX Features',
    30â†’    date: '2024-12-15',
    31â†’    excerpt: 'A test post to verify all UX features work correctly',
    32â†’    tags: ['Testing', 'UX', 'Features'],
    33â†’    thumbnail: null,
    34â†’    readingTime: 5,
    35â†’    content: `
    36â†’# Introduction
    37â†’
    38â†’This is a test blog post with multiple sections.
    39â†’
    40â†’## First Section
    41â†’
    42â†’Some content here with a code example:
    43â†’
    44â†’\`\`\`javascript
    45â†’function testFunction() {
    46â†’    return "Hello World";
    47â†’}
    48â†’\`\`\`
    49â†’
    50â†’## Second Section
    51â†’
    52â†’More content in the second section.
    53â†’
    54â†’### Subsection
    55â†’
    56â†’Even more detailed content.
    57â†’    `.trim()
    58â†’};
    59â†’
    60â†’const mockRelatedPosts: BlogPost[] = [
    61â†’    {
    62â†’        slug: 'related-1',
    63â†’        title: 'Related Post 1',
    64â†’        date: '2024-12-10',
    65â†’        excerpt: 'First related post',
    66â†’        tags: ['Testing', 'Related'],
    67â†’        thumbnail: null,
    68â†’        readingTime: 3,
    69â†’        content: '# Related content'
    70â†’    },
    71â†’    {
    72â†’        slug: 'related-2',
    73â†’        title: 'Related Post 2',
    74â†’        date: '2024-12-11',
    75â†’        excerpt: 'Second related post',
    76â†’        tags: ['UX', 'Related'],
    77â†’        thumbnail: null,
    78â†’        readingTime: 4,
    79â†’        content: '# Related content'
    80â†’    }
    81â†’];
    82â†’
    83â†’describe('BlogPostModal - UX Features', () => {
    84â†’    let mockOnClose: ReturnType<typeof vi.fn>;
    85â†’    let mockOnPostSelect: ReturnType<typeof vi.fn>;
    86â†’    let localStorageMock: { [key: string]: string };
    87â†’
    88â†’    beforeEach(() => {
    89â†’        mockOnClose = vi.fn();
    90â†’        mockOnPostSelect = vi.fn();
    91â†’
    92â†’        // Mock localStorage
    93â†’        localStorageMock = {};
    94â†’        global.Storage.prototype.getItem = vi.fn((key: string) => localStorageMock[key] || null);
    95â†’        global.Storage.prototype.setItem = vi.fn((key: string, value: string) => {
    96â†’            localStorageMock[key] = value;
    97â†’        });
    98â†’        global.Storage.prototype.clear = vi.fn(() => {
    99â†’            localStorageMock = {};
   100â†’        });

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the blog template file:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./content/_templates/blog-post.md`
```
     1â†’---
     2â†’title: "Your Blog Post Title"
     3â†’date: "2024-12-15"
     4â†’excerpt: "A compelling one-sentence description that appears in the blog list. Make it countâ€”this is what draws readers in."
     5â†’tags: ["Tag1", "Tag2", "Tag3"]
     6â†’thumbnail: null
     7â†’---
     8â†’
     9â†’Opening paragraph that hooks the reader. What's the key insight or story you're sharing?
    10â†’
    11â†’## Main Section 1
    12â†’
    13â†’Your content here. Use subheadings to organize your thoughts.
    14â†’
    15â†’### Subsection
    16â†’
    17â†’More detailed content.
    18â†’
    19â†’## Main Section 2
    20â†’
    21â†’Continue developing your argument or narrative.
    22â†’
    23â†’**Key points:**
    24â†’- Point 1
    25â†’- Point 2
    26â†’- Point 3
    27â†’
    28â†’## Main Section 3
    29â†’
    30â†’Wrap up with conclusions or next steps.
    31â†’
    32â†’> Use callouts for important quotes or insights.
    33â†’
    34â†’### Code Examples (if applicable)
    35â†’
    36â†’```typescript
    37â†’// Example code snippet
    38â†’function example() {
    39â†’  return "formatted code";
    40â†’}
    41â†’```
    42â†’
    43â†’## Conclusion
    44â†’
    45â†’Summarize your key takeaways. What should readers remember?
    46â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Perfect! Now I have a comprehensive understanding. Let me create a detailed summary report of the blog implementation.

## Blog Implementation Exploration Report

I've thoroughly explored the blog implementation in your portfolio codebase. Here's a complete breakdown of how the blog currently works:

### 1. Blog Modal Component & Triggering

**File:** `/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx`

The `BlogPostModal` is a full-screen modal component triggered when users click on a blog post in the list. Key features:

- **Triggering:** Opened by clicking on a blog post article in the Blog section (line 212 in Blog.tsx: `onClick={() => setSelectedPost(post)}`)
- **Modal Controls:**
  - Back button (returns to blog list)
  - Close button (X icon) 
  - ESC key to close
  - Scroll lock on body (prevents background scrolling)

- **Advanced UX Features:**
  - Reading progress bar (top of modal, shows scroll position)
  - Table of contents (sticky sidebar on desktop)
  - Back-to-top button (appears after 400px scroll)
  - Code copy buttons
  - Smooth scroll-spy for active headings
  - Social sharing buttons (Twitter, LinkedIn, copy link, native share)
  - Like/unlike functionality with animations
  - Related posts suggestions based on shared tags

### 2. BlogSection Component Structure

**File:** `/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx`

The main Blog component serves as the section container with these responsibilities:

- **Section Layout:**
  - Section label "Insights" with decorative line
  - Section title: "Thoughts on building at the edge"
  - Descriptive tagline about content focus
  
- **Blog Posts Display:**
  - Renders list of blog posts in grid format (responsive)
  - Shows date, reading time, title, excerpt, and tags
  - Hover effects on desktop
  - Navigation arrows on desktop
  - Related posts feature

- **State Management:**
  - `hoveredPost` - tracks which post is being hovered
  - `selectedPost` - tracks which post is open in modal
  - Navigation between posts (prev/next)
  - Related posts calculation based on tag similarity

### 3. How Blog Posts Are Loaded and Rendered

**Auto-discovery mechanism (Blog.tsx, line 6):**
```typescript
const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
```

**Parsing Process:**

1. **Frontmatter Parsing** (lines 14-53):
   - Extracts YAML frontmatter delimited by `---`
   - Parses key-value pairs (title, date, excerpt, tags, thumbnail)
   - Handles arrays, quoted strings, and null values

2. **Reading Time Calculation** (lines 56-60):
   - Counts words in content
   - Divides by 200 words/minute average
   - Returns ceil value

3. **Slug Generation** (lines 62-67):
   - Extracts from filename: `YYYY-MM-DD-slug.md`
   - Removes date prefix and `.md` extension
   - Used for URL anchors and post identification

4. **Post Parsing** (lines 70-89):
   - Builds BlogPost objects with metadata and content
   - Sorts by date (newest first)
   - Returns array of structured posts

**Rendering:**
- ReactMarkdown component renders markdown content
- Syntax highlighting via `react-syntax-highlighter`
- GitHub Flavored Markdown (GFM) support via `remark-gfm`
- Custom markdown components for code blocks with copy buttons

### 4. Blog Content Files Structure

**Location:** `/Users/dfotesco/Portfolio/portfolio/content/blog/`

**Template:** `/Users/dfotesco/Portfolio/portfolio/content/_templates/blog-post.md`

**Format:** YAML frontmatter + Markdown content

**Frontmatter Fields:**
```yaml
title: "Your Blog Post Title"
date: "2024-12-15"  # ISO date format
excerpt: "Short compelling description"
tags: ["Tag1", "Tag2", "Tag3"]  # Array of tags
thumbnail: null  # Optional image URL or null
```

**Current Blog Posts:**
1. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-11-15-etf-grade-staking.md` - "The Hidden Complexity of ETF-Grade Staking"
2. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-01-ai-agents-meet-onchain.md`
3. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-11-portfolio-retrospective.md`
4. `/Users/dfotesco/Portfolio/portfolio/content/blog/2024-12-15-why-validation-matters.md`

### 5. Routing Setup

**Navigation Integration:**

1. **Hash-based routing** (App.tsx, lines 1-2):
   - Uses `HashRouter` from react-router-dom
   - Blog section uses hash anchor: `#blog`

2. **Navigation Links** (Portfolio.tsx, lines 224-231):
   - Desktop nav: `['Work', 'About', 'Blog'].map((item) => <a href={`#${item.toLowerCase()}`}>`
   - Mobile nav: Same structure in mobile menu overlay (lines 297-310)

3. **Section Rendering** (Portfolio.tsx, line 386):
   ```typescript
   {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   ```
   - Blog section is conditionally rendered based on profile config
   - Receives responsive breakpoint props

4. **URL Structure:**
   - Main blog section: `#blog`
   - Shareable post links: `/#blog?post={slug}` (generated in BlogPostModal, line 172)

### 6. Supporting Systems

**Blog Post Likes** (`/Users/dfotesco/Portfolio/portfolio/src/lib/likes.ts`):
- Client-side persistence using localStorage
- User fingerprinting to prevent duplicate likes
- Functions: `likePost()`, `unlikePost()`, `getLikeCount()`, `hasUserLikedPost()`
- Analytics functions for tracking engagement

**Type Definitions** (`/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts`):
```typescript
export interface BlogPost {
    slug: string;
    title: string;
    date: string;
    excerpt: string;
    tags: string[];
    readingTime: number;
    thumbnail?: string | null;
    content: string;
}
```

**Build Configuration** (`vite.config.ts`):
- Uses Vite with React plugin
- YAML plugin for content parsing
- Raw markdown imports via `import.meta.glob`

This is a sophisticated, self-contained blog system that leverages Vite's glob imports for static markdown discovery, renders posts with rich markdown support, and provides an excellent reading experience with modern UX features like reading progress, table of contents, and social sharing.

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
Now I have a good understanding of the current blog implementation. Let me summarize what I've learned:

1. **Current State**: Blog posts are displayed in a section on the main page, and clicking a post opens a full-screen modal (`BlogPostModal.tsx`)
2. **Content Loading**: Uses `import.meta.glob` to load markdown files from `content/blog/`
3. **Routing**: Uses HashRouter, blog section is at `#blog`, shareable links use `/#blog?post={slug}`
4. **Features**: Reading progress, TOC, social sharing, likes, related posts

To convert this to its own page, we need to:
1. Create a `/blog` route that shows the blog list
2. Create a `/blog/:slug` route for individual posts
3. Update navigation to link to `/blog`
4. Possibly keep the BlogSection on the homepage as a preview with "View all" link

This is a significant architectural change that would benefit from planning. Let me enter plan mode to design the approach properly.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

Good, I now understand the current implementation. The blog currently:
- Lives as a section on the main portfolio page (`#blog`)
- Opens posts in a full-screen modal (`BlogPostModal.tsx`)
- Has rich features: reading progress, TOC, social sharing, likes, related posts

Converting this to a dedicated page involves routing changes and component restructuring. Let me enter plan mode to design the approach.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="unknown" data-tool-name="EnterPlanMode"><details>
<summary>Tool use: **EnterPlanMode**</summary>

```
Entered plan mode. You should now focus on exploring the codebase and designing an implementation approach.

In plan mode, you should:
1. Thoroughly explore the codebase to understand existing patterns
2. Identify similar features and architectural approaches
3. Consider multiple approaches and their trade-offs
4. Use AskUserQuestion if you need to clarify the approach
5. Design a concrete implementation strategy
6. When ready, use ExitPlanMode to present your plan for approval

Remember: DO NOT write or edit any files yet. This is a read-only exploration and planning phase.
```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
I'm now in plan mode. I've already explored the blog implementation, so I have a good understanding. Now I need to:

1. Understand the existing routing patterns in the app
2. Look at how other pages are structured (like VariantPortfolio)
3. Design the blog page implementation

Let me explore the routing setup and page patterns more thoroughly, then ask any clarifying questions.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

I'm now in plan mode. I already explored the blog implementation. Let me now explore the routing patterns and page structure to design the best approach.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/App.tsx`
```
     1â†’import { HashRouter, Routes, Route } from 'react-router-dom';
     2â†’import { ThemeProvider } from './context/ThemeContext';
     3â†’import { HelmetProvider } from 'react-helmet-async';
     4â†’import BasePortfolio from './pages/BasePortfolio';
     5â†’import VariantPortfolio from './pages/VariantPortfolio';
     6â†’
     7â†’function App() {
     8â†’  return (
     9â†’    <HelmetProvider>
    10â†’      <ThemeProvider>
    11â†’        <HashRouter>
    12â†’          <Routes>
    13â†’            {/* Base portfolio route */}
    14â†’            <Route path="/" element={<BasePortfolio />} />
    15â†’
    16â†’            {/* Variant portfolio routes: /#/company/role */}
    17â†’            <Route path="/:company/:role" element={<VariantPortfolio />} />
    18â†’          </Routes>
    19â†’        </HashRouter>
    20â†’      </ThemeProvider>
    21â†’    </HelmetProvider>
    22â†’  );
    23â†’}
    24â†’
    25â†’export default App;
    26â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/pages/Portfolio.tsx`
```
<tool_use_error>File does not exist.</tool_use_error>
```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/components/Blog.tsx`
```
     1â†’import { useState } from 'react';
     2â†’import type { BlogPost } from '../types/blog';
     3â†’import BlogPostModal from './BlogPostModal';
     4â†’
     5â†’// Auto-discover blog posts using import.meta.glob
     6â†’const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
     7â†’
     8â†’interface BlogProps {
     9â†’    isMobile: boolean;
    10â†’    isTablet: boolean;
    11â†’}
    12â†’
    13â†’// Parse frontmatter from markdown
    14â†’function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    15â†’    const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    16â†’    if (!match) return { frontmatter: {}, content: raw };
    17â†’
    18â†’    const frontmatterStr = match[1];
    19â†’    const content = match[2];
    20â†’
    21â†’    const frontmatter: Record<string, unknown> = {};
    22â†’    const lines = frontmatterStr.split('\n');
    23â†’
    24â†’    for (const line of lines) {
    25â†’        const colonIndex = line.indexOf(':');
    26â†’        if (colonIndex === -1) continue;
    27â†’
    28â†’        const key = line.slice(0, colonIndex).trim();
    29â†’        let value = line.slice(colonIndex + 1).trim();
    30â†’
    31â†’        // Handle arrays
    32â†’        if (value.startsWith('[') && value.endsWith(']')) {
    33â†’            const arrayContent = value.slice(1, -1);
    34â†’            frontmatter[key] = arrayContent.split(',').map(item =>
    35â†’                item.trim().replace(/^["']|["']$/g, '')
    36â†’            );
    37â†’        }
    38â†’        // Handle quoted strings
    39â†’        else if (value.startsWith('"') && value.endsWith('"')) {
    40â†’            frontmatter[key] = value.slice(1, -1);
    41â†’        }
    42â†’        // Handle null
    43â†’        else if (value === 'null') {
    44â†’            frontmatter[key] = null;
    45â†’        }
    46â†’        // Regular string
    47â†’        else {
    48â†’            frontmatter[key] = value;
    49â†’        }
    50â†’    }
    51â†’
    52â†’    return { frontmatter, content };
    53â†’}
    54â†’
    55â†’// Calculate reading time
    56â†’function calculateReadingTime(content: string): number {
    57â†’    const wordsPerMinute = 200;
    58â†’    const words = content.split(/\s+/).length;
    59â†’    return Math.ceil(words / wordsPerMinute);
    60â†’}
    61â†’
    62â†’// Extract slug from filename (YYYY-MM-DD-slug.md â†’ slug)
    63â†’function extractSlugFromFilename(path: string): string {
    64â†’    const filename = path.split('/').pop() || '';
    65â†’    // Remove .md extension and date prefix (YYYY-MM-DD-)
    66â†’    return filename.replace(/^\d{4}-\d{2}-\d{2}-/, '').replace(/\.md$/, '');
    67â†’}
    68â†’
    69â†’// Parse all blog posts (auto-discovered)
    70â†’function parseBlogPosts(): BlogPost[] {
    71â†’    const posts = Object.entries(blogPostFiles).map(([path, module]) => {
    72â†’        const raw = (module as any).default as string;
    73â†’        const slug = extractSlugFromFilename(path);
    74â†’        const { frontmatter, content } = parseFrontmatter(raw);
    75â†’
    76â†’        return {
    77â†’            slug,
    78â†’            title: frontmatter.title as string || 'Untitled',
    79â†’            date: frontmatter.date as string || new Date().toISOString().split('T')[0],
    80â†’            excerpt: frontmatter.excerpt as string || '',
    81â†’            tags: (frontmatter.tags as string[]) || [],
    82â†’            thumbnail: frontmatter.thumbnail as string | null || null,
    83â†’            readingTime: calculateReadingTime(content),
    84â†’            content
    85â†’        };
    86â†’    });
    87â†’
    88â†’    return posts.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
    89â†’}
    90â†’
    91â†’export default function Blog({ isMobile, isTablet }: BlogProps) {
    92â†’    const [hoveredPost, setHoveredPost] = useState<string | null>(null);
    93â†’    const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null);
    94â†’
    95â†’    const posts = parseBlogPosts();
    96â†’
    97â†’    const formatDate = (dateStr: string) => {
    98â†’        const date = new Date(dateStr);
    99â†’        return date.toLocaleDateString('en-US', {
   100â†’            month: '2-digit',
   101â†’            day: '2-digit',
   102â†’            year: '2-digit'
   103â†’        }).replace(/\//g, '.');
   104â†’    };
   105â†’
   106â†’    const handleNavigate = (direction: 'prev' | 'next') => {
   107â†’        if (!selectedPost) return;
   108â†’        const currentIndex = posts.findIndex(p => p.slug === selectedPost.slug);
   109â†’        const newIndex = direction === 'prev' ? currentIndex - 1 : currentIndex + 1;
   110â†’        if (newIndex >= 0 && newIndex < posts.length) {
   111â†’            setSelectedPost(posts[newIndex]);
   112â†’        }
   113â†’    };
   114â†’
   115â†’    const getRelatedPosts = (currentPost: BlogPost): BlogPost[] => {
   116â†’        if (!currentPost.tags || currentPost.tags.length === 0) return [];
   117â†’
   118â†’        // Find posts with shared tags, excluding current post
   119â†’        const relatedPosts = posts
   120â†’            .filter(post => post.slug !== currentPost.slug)
   121â†’            .map(post => {
   122â†’                const sharedTags = post.tags.filter(tag => currentPost.tags.includes(tag));
   123â†’                return { post, sharedTagCount: sharedTags.length };
   124â†’            })
   125â†’            .filter(({ sharedTagCount }) => sharedTagCount > 0)
   126â†’            .sort((a, b) => b.sharedTagCount - a.sharedTagCount)
   127â†’            .slice(0, 3) // Max 3 related posts
   128â†’            .map(({ post }) => post);
   129â†’
   130â†’        return relatedPosts;
   131â†’    };
   132â†’
   133â†’    const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
   134â†’
   135â†’    return (
   136â†’        <>
   137â†’            <section id="blog" style={{
   138â†’                padding: sectionPadding,
   139â†’                maxWidth: 'var(--layout-max-width)',
   140â†’                margin: '0 auto',
   141â†’                position: 'relative',
   142â†’                zIndex: 1
   143â†’            }}>
   144â†’                {/* Section label */}
   145â†’                <div style={{
   146â†’                    display: 'flex',
   147â†’                    alignItems: 'center',
   148â†’                    gap: 'var(--space-lg)',
   149â†’                    marginBottom: isMobile ? 'var(--space-xl)' : '40px'
   150â†’                }}>
   151â†’                    <span style={{
   152â†’                        fontSize: '11px',
   153â†’                        fontWeight: 600,
   154â†’                        letterSpacing: '0.15em',
   155â†’                        textTransform: 'uppercase',
   156â†’                        color: 'var(--color-text-muted)'
   157â†’                    }}>
   158â†’                        Insights
   159â†’                    </span>
   160â†’                    <div style={{
   161â†’                        flex: 1,
   162â†’                        height: '1px',
   163â†’                        background: 'var(--color-border-light)'
   164â†’                    }} />
   165â†’                </div>
   166â†’
   167â†’                {/* Section header */}
   168â†’                <div style={{
   169â†’                    marginBottom: isMobile ? 'var(--space-xl)' : 'var(--space-2xl)'
   170â†’                }}>
   171â†’                    <h2 style={{
   172â†’                        fontSize: isMobile ? '28px' : isTablet ? '36px' : '42px',
   173â†’                        fontFamily: 'var(--font-serif)',
   174â†’                        fontWeight: 400,
   175â†’                        fontStyle: 'italic',
   176â†’                        color: 'var(--color-text-primary)',
   177â†’                        marginBottom: 'var(--space-md)',
   178â†’                        letterSpacing: '-0.02em',
   179â†’                        lineHeight: 1.2
   180â†’                    }}>
   181â†’                        Thoughts on building at the edge
   182â†’                    </h2>
   183â†’                    <p style={{
   184â†’                        fontSize: '15px',
   185â†’                        color: 'var(--color-text-tertiary)',
   186â†’                        maxWidth: '600px',
   187â†’                        lineHeight: 1.6
   188â†’                    }}>
   189â†’                        Reflections on product management, crypto infrastructure, and the intersection of AI with on-chain execution.
   190â†’                    </p>
   191â†’                </div>
   192â†’
   193â†’                {/* Blog posts list */}
   194â†’                <div style={{
   195â†’                    display: 'flex',
   196â†’                    flexDirection: 'column',
   197â†’                    gap: '0'
   198â†’                }}>
   199â†’                    {posts.map((post, index) => (
   200â†’                        <article
   201â†’                            key={post.slug}
   202â†’                            style={{
   203â†’                                borderTop: index === 0 ? '1px solid var(--color-border)' : 'none',
   204â†’                                borderBottom: '1px solid var(--color-border)',
   205â†’                                padding: isMobile ? '28px 0' : '36px 0',
   206â†’                                cursor: 'pointer',
   207â†’                                transition: 'all 0.3s ease',
   208â†’                                background: hoveredPost === post.slug ? 'var(--color-card-hover)' : 'transparent'
   209â†’                            }}
   210â†’                            onMouseEnter={() => !isMobile && setHoveredPost(post.slug)}
   211â†’                            onMouseLeave={() => !isMobile && setHoveredPost(null)}
   212â†’                            onClick={() => setSelectedPost(post)}
   213â†’                        >
   214â†’                            <div style={{
   215â†’                                display: 'grid',
   216â†’                                gridTemplateColumns: isMobile ? '1fr' : isTablet ? '120px 1fr' : '140px 1fr auto',
   217â†’                                gap: isMobile ? 'var(--space-md)' : 'var(--space-xl)',
   218â†’                                alignItems: 'start'
   219â†’                            }}>
   220â†’                                {/* Date */}
   221â†’                                <div style={{
   222â†’                                    fontSize: '12px',
   223â†’                                    fontWeight: 500,
   224â†’                                    letterSpacing: '0.05em',
   225â†’                                    color: 'var(--color-text-muted)',
   226â†’                                    display: 'flex',
   227â†’                                    alignItems: 'center',
   228â†’                                    gap: 'var(--space-sm)'
   229â†’                                }}>
   230â†’                                    <span>{formatDate(post.date)}</span>
   231â†’                                    <span style={{ color: 'var(--color-separator)' }}>â€¢</span>
   232â†’                                    <span>{post.readingTime} min</span>
   233â†’                                </div>
   234â†’
   235â†’                                {/* Content */}
   236â†’                                <div>
   237â†’                                    <h3 style={{
   238â†’                                        fontSize: isMobile ? '22px' : '26px',
   239â†’                                        fontFamily: 'var(--font-serif)',
   240â†’                                        fontWeight: 400,
   241â†’                                        fontStyle: 'italic',
   242â†’                                        color: 'var(--color-text-primary)',
   243â†’                                        marginBottom: 'var(--space-sm)',
   244â†’                                        letterSpacing: '-0.02em',
   245â†’                                        lineHeight: 1.2,
   246â†’                                        transition: 'color 0.2s ease'
   247â†’                                    }}>
   248â†’                                        {post.title}
   249â†’                                    </h3>
   250â†’
   251â†’                                    <p style={{
   252â†’                                        fontSize: '14px',
   253â†’                                        color: 'var(--color-text-tertiary)',
   254â†’                                        lineHeight: 1.6,
   255â†’                                        marginBottom: 'var(--space-md)',
   256â†’                                        maxWidth: '600px'
   257â†’                                    }}>
   258â†’                                        {post.excerpt}
   259â†’                                    </p>
   260â†’
   261â†’                                    {/* Tags */}
   262â†’                                    <div style={{
   263â†’                                        display: 'flex',
   264â†’                                        gap: 'var(--space-sm)',
   265â†’                                        flexWrap: 'wrap'
   266â†’                                    }}>
   267â†’                                        {post.tags.map((tag, i) => (
   268â†’                                            <span key={i} style={{
   269â†’                                                fontSize: '10px',
   270â†’                                                fontWeight: 500,
   271â†’                                                letterSpacing: '0.05em',
   272â†’                                                textTransform: 'uppercase',
   273â†’                                                color: 'var(--color-text-muted)',
   274â†’                                                padding: '4px 8px',
   275â†’                                                border: '1px solid var(--color-border-light)',
   276â†’                                                transition: 'all 0.2s ease',
   277â†’                                                background: hoveredPost === post.slug ? 'var(--color-tag-hover)' : 'transparent'
   278â†’                                            }}>
   279â†’                                                {tag}
   280â†’                                            </span>
   281â†’                                        ))}
   282â†’                                    </div>
   283â†’                                </div>
   284â†’
   285â†’                                {/* Read link - desktop only */}
   286â†’                                {!isMobile && !isTablet && (
   287â†’                                    <div style={{
   288â†’                                        display: 'flex',
   289â†’                                        alignItems: 'center',
   290â†’                                        gap: 'var(--space-sm)',
   291â†’                                        color: hoveredPost === post.slug ? 'var(--color-accent)' : 'var(--color-text-muted)',
   292â†’                                        transition: 'color 0.2s ease',
   293â†’                                        alignSelf: 'center'
   294â†’                                    }}>
   295â†’                                        <span style={{
   296â†’                                            fontSize: '13px',
   297â†’                                            fontWeight: 500,
   298â†’                                            letterSpacing: '0.02em'
   299â†’                                        }}>
   300â†’                                            Read
   301â†’                                        </span>
   302â†’                                        <span style={{
   303â†’                                            transform: hoveredPost === post.slug ? 'translateX(4px)' : 'translateX(0)',
   304â†’                                            transition: 'transform 0.2s ease',
   305â†’                                            fontFamily: 'var(--font-serif)',
   306â†’                                            fontStyle: 'italic'
   307â†’                                        }}>â†’</span>
   308â†’                                    </div>
   309â†’                                )}
   310â†’                            </div>
   311â†’                        </article>
   312â†’                    ))}
   313â†’                </div>
   314â†’            </section>
   315â†’
   316â†’            {/* Blog Post Modal */}
   317â†’            {selectedPost && (
   318â†’                <BlogPostModal
   319â†’                    post={selectedPost}
   320â†’                    onClose={() => setSelectedPost(null)}
   321â†’                    onNavigate={handleNavigate}
   322â†’                    hasPrev={posts.findIndex(p => p.slug === selectedPost.slug) > 0}
   323â†’                    hasNext={posts.findIndex(p => p.slug === selectedPost.slug) < posts.length - 1}
   324â†’                    prevTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) - 1]?.title}
   325â†’                    nextTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) + 1]?.title}
   326â†’                    isMobile={isMobile}
   327â†’                    relatedPosts={getRelatedPosts(selectedPost)}
   328â†’                    onPostSelect={setSelectedPost}
   329â†’                />
   330â†’            )}
   331â†’        </>
   332â†’    );
   333â†’}
   334â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
Good, I have a clear picture now. Let me also check the BasePortfolio and BlogPostModal to understand the full architecture. I need to understand how BasePortfolio includes the Blog section.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/pages/BasePortfolio.tsx`
```
     1â†’/**
     2â†’ * Base Portfolio Page
     3â†’ *
     4â†’ * Default portfolio without variant customization
     5â†’ */
     6â†’
     7â†’import { VariantProvider } from '../context/VariantContext';
     8â†’import { profile } from '../lib/content';
     9â†’import Portfolio from '../components/Portfolio';
    10â†’
    11â†’export default function BasePortfolio() {
    12â†’  return (
    13â†’    <VariantProvider profile={profile}>
    14â†’      <Portfolio />
    15â†’    </VariantProvider>
    16â†’  );
    17â†’}
    18â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/components/BlogPostModal.tsx`
```
     1â†’import { useEffect, useState, useRef } from 'react';
     2â†’import ReactMarkdown from 'react-markdown';
     3â†’import remarkGfm from 'remark-gfm';
     4â†’import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
     5â†’import { oneDark, oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';
     6â†’import type { BlogPost } from '../types/blog';
     7â†’import { useTheme } from '../context/ThemeContext';
     8â†’import { likePost, unlikePost, getLikeCount, hasUserLikedPost } from '../lib/likes';
     9â†’
    10â†’interface TableOfContentsItem {
    11â†’    id: string;
    12â†’    text: string;
    13â†’    level: number;
    14â†’}
    15â†’
    16â†’interface BlogPostModalProps {
    17â†’    post: BlogPost;
    18â†’    onClose: () => void;
    19â†’    onNavigate?: (direction: 'prev' | 'next') => void;
    20â†’    hasPrev?: boolean;
    21â†’    hasNext?: boolean;
    22â†’    prevTitle?: string;
    23â†’    nextTitle?: string;
    24â†’    isMobile: boolean;
    25â†’    relatedPosts?: BlogPost[];
    26â†’    onPostSelect?: (post: BlogPost) => void;
    27â†’}
    28â†’
    29â†’export default function BlogPostModal({
    30â†’    post,
    31â†’    onClose,
    32â†’    onNavigate,
    33â†’    hasPrev,
    34â†’    hasNext,
    35â†’    prevTitle,
    36â†’    nextTitle,
    37â†’    isMobile,
    38â†’    relatedPosts = [],
    39â†’    onPostSelect
    40â†’}: BlogPostModalProps) {
    41â†’    // Only keep isDark for the SyntaxHighlighter theme (third-party library)
    42â†’    const { isDark } = useTheme();
    43â†’
    44â†’    // State for UX features
    45â†’    const [scrollProgress, setScrollProgress] = useState(0);
    46â†’    const [showBackToTop, setShowBackToTop] = useState(false);
    47â†’    const [activeHeading, setActiveHeading] = useState<string>('');
    48â†’    const [tocItems, setTocItems] = useState<TableOfContentsItem[]>([]);
    49â†’    const [showToc, setShowToc] = useState(false);
    50â†’    const [showCopyToast, setShowCopyToast] = useState(false);
    51â†’    const [likeCount, setLikeCount] = useState(0);
    52â†’    const [hasLiked, setHasLiked] = useState(false);
    53â†’    const [isLikeAnimating, setIsLikeAnimating] = useState(false);
    54â†’    const scrollContainerRef = useRef<HTMLDivElement>(null);
    55â†’    const contentRef = useRef<HTMLDivElement>(null);
    56â†’
    57â†’    // Handle scroll lock and ESC key
    58â†’    useEffect(() => {
    59â†’        document.body.style.overflow = 'hidden';
    60â†’        const handleEsc = (e: KeyboardEvent) => {
    61â†’            if (e.key === 'Escape') onClose();
    62â†’        };
    63â†’        window.addEventListener('keydown', handleEsc);
    64â†’        return () => {
    65â†’            document.body.style.overflow = '';
    66â†’            window.removeEventListener('keydown', handleEsc);
    67â†’        };
    68â†’    }, [onClose]);
    69â†’
    70â†’    // Extract table of contents from markdown
    71â†’    useEffect(() => {
    72â†’        const headings: TableOfContentsItem[] = [];
    73â†’        const headingRegex = /^(#{1,3})\s+(.+)$/gm;
    74â†’        let match;
    75â†’
    76â†’        while ((match = headingRegex.exec(post.content)) !== null) {
    77â†’            const level = match[1].length;
    78â†’            const text = match[2].trim();
    79â†’            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
    80â†’            headings.push({ id, text, level });
    81â†’        }
    82â†’
    83â†’        setTocItems(headings);
    84â†’        setShowToc(headings.length > 0);
    85â†’    }, [post.content]);
    86â†’
    87â†’    // Track scroll progress and back-to-top visibility
    88â†’    useEffect(() => {
    89â†’        const container = scrollContainerRef.current;
    90â†’        if (!container) return;
    91â†’
    92â†’        const handleScroll = () => {
    93â†’            const scrollTop = container.scrollTop;
    94â†’            const scrollHeight = container.scrollHeight - container.clientHeight;
    95â†’            const progress = (scrollTop / scrollHeight) * 100;
    96â†’
    97â†’            setScrollProgress(Math.min(progress, 100));
    98â†’            setShowBackToTop(scrollTop > 400);
    99â†’
   100â†’            // Track active heading
   101â†’            if (contentRef.current) {
   102â†’                const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   103â†’                let currentActiveId = '';
   104â†’
   105â†’                headings.forEach((heading) => {
   106â†’                    const rect = heading.getBoundingClientRect();
   107â†’                    if (rect.top <= 200) {
   108â†’                        currentActiveId = heading.id;
   109â†’                    }
   110â†’                });
   111â†’
   112â†’                setActiveHeading(currentActiveId);
   113â†’            }
   114â†’        };
   115â†’
   116â†’        container.addEventListener('scroll', handleScroll);
   117â†’        return () => container.removeEventListener('scroll', handleScroll);
   118â†’    }, []);
   119â†’
   120â†’    // Set IDs on headings for anchor links
   121â†’    useEffect(() => {
   122â†’        if (!contentRef.current) return;
   123â†’
   124â†’        const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   125â†’        headings.forEach((heading) => {
   126â†’            const text = heading.textContent || '';
   127â†’            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
   128â†’            heading.id = id;
   129â†’        });
   130â†’    }, [post.content]);
   131â†’
   132â†’    // Initialize like state from localStorage
   133â†’    useEffect(() => {
   134â†’        setLikeCount(getLikeCount(post.slug));
   135â†’        setHasLiked(hasUserLikedPost(post.slug));
   136â†’    }, [post.slug]);
   137â†’
   138â†’    const formatDate = (dateStr: string) => {
   139â†’        const date = new Date(dateStr);
   140â†’        return date.toLocaleDateString('en-US', {
   141â†’            year: 'numeric',
   142â†’            month: 'long',
   143â†’            day: 'numeric'
   144â†’        });
   145â†’    };
   146â†’
   147â†’    const scrollToTop = () => {
   148â†’        scrollContainerRef.current?.scrollTo({ top: 0, behavior: 'smooth' });
   149â†’    };
   150â†’
   151â†’    const scrollToHeading = (id: string) => {
   152â†’        const element = document.getElementById(id);
   153â†’        if (element && scrollContainerRef.current) {
   154â†’            const container = scrollContainerRef.current;
   155â†’            const elementTop = element.offsetTop;
   156â†’            const offset = 100; // Account for sticky header
   157â†’            container.scrollTo({ top: elementTop - offset, behavior: 'smooth' });
   158â†’        }
   159â†’    };
   160â†’
   161â†’    const copyCode = async (code: string) => {
   162â†’        try {
   163â†’            await navigator.clipboard.writeText(code);
   164â†’        } catch (err) {
   165â†’            console.error('Failed to copy code:', err);
   166â†’        }
   167â†’    };
   168â†’
   169â†’    const getPostUrl = () => {
   170â†’        // Generate a shareable URL for the post
   171â†’        // In a production environment, this would be the actual URL
   172â†’        return `${window.location.origin}/#blog?post=${post.slug}`;
   173â†’    };
   174â†’
   175â†’    const shareOnTwitter = () => {
   176â†’        const url = getPostUrl();
   177â†’        const text = `${post.title} by @kolob0kk`;
   178â†’        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
   179â†’        window.open(twitterUrl, '_blank', 'width=550,height=420');
   180â†’    };
   181â†’
   182â†’    const shareOnLinkedIn = () => {
   183â†’        const url = getPostUrl();
   184â†’        const linkedInUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`;
   185â†’        window.open(linkedInUrl, '_blank', 'width=550,height=420');
   186â†’    };
   187â†’
   188â†’    const copyLink = async () => {
   189â†’        try {
   190â†’            const url = getPostUrl();
   191â†’            await navigator.clipboard.writeText(url);
   192â†’            setShowCopyToast(true);
   193â†’            setTimeout(() => setShowCopyToast(false), 2000);
   194â†’        } catch (err) {
   195â†’            console.error('Failed to copy link:', err);
   196â†’        }
   197â†’    };
   198â†’
   199â†’    const shareNative = async () => {
   200â†’        if (navigator.share) {
   201â†’            try {
   202â†’                await navigator.share({
   203â†’                    title: post.title,
   204â†’                    text: post.excerpt,
   205â†’                    url: getPostUrl()
   206â†’                });
   207â†’            } catch (err) {
   208â†’                // User cancelled or error occurred
   209â†’                console.log('Share cancelled or failed:', err);
   210â†’            }
   211â†’        }
   212â†’    };
   213â†’
   214â†’    const handleLike = () => {
   215â†’        if (hasLiked) {
   216â†’            // Unlike
   217â†’            const result = unlikePost(post.slug);
   218â†’            if (result.success) {
   219â†’                setLikeCount(result.count);
   220â†’                setHasLiked(false);
   221â†’            }
   222â†’        } else {
   223â†’            // Like with animation
   224â†’            const result = likePost(post.slug);
   225â†’            if (result.success) {
   226â†’                setLikeCount(result.count);
   227â†’                setHasLiked(true);
   228â†’                setIsLikeAnimating(true);
   229â†’                setTimeout(() => setIsLikeAnimating(false), 600);
   230â†’            }
   231â†’        }
   232â†’    };
   233â†’
   234â†’    return (
   235â†’        <div
   236â†’            style={{
   237â†’                position: 'fixed',
   238â†’                inset: 0,
   239â†’                zIndex: 1000,
   240â†’                display: 'flex',
   241â†’                flexDirection: 'column',
   242â†’                background: 'var(--color-background)',
   243â†’                animation: 'modalSlideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)'
   244â†’            }}
   245â†’        >
   246â†’            {/* Reading Progress Bar */}
   247â†’            <div
   248â†’                style={{
   249â†’                    position: 'fixed',
   250â†’                    top: 0,
   251â†’                    left: 0,
   252â†’                    right: 0,
   253â†’                    height: '3px',
   254â†’                    background: 'var(--color-border-light)',
   255â†’                    zIndex: 1001
   256â†’                }}
   257â†’            >
   258â†’                <div
   259â†’                    style={{
   260â†’                        height: '100%',
   261â†’                        width: `${scrollProgress}%`,
   262â†’                        background: 'var(--color-accent)',
   263â†’                        transition: 'width 0.1s ease-out'
   264â†’                    }}
   265â†’                />
   266â†’            </div>
   267â†’            {/* Modal styles - all using CSS variables */}
   268â†’            <style>{`
   269â†’        @keyframes modalSlideUp {
   270â†’          from {
   271â†’            opacity: 0;
   272â†’            transform: translateY(40px);
   273â†’          }
   274â†’          to {
   275â†’            opacity: 1;
   276â†’            transform: translateY(0);
   277â†’          }
   278â†’        }
   279â†’
   280â†’        .blog-modal-scroll::-webkit-scrollbar {
   281â†’          width: 6px;
   282â†’        }
   283â†’
   284â†’        .blog-modal-scroll::-webkit-scrollbar-track {
   285â†’          background: transparent;
   286â†’        }
   287â†’
   288â†’        .blog-modal-scroll::-webkit-scrollbar-thumb {
   289â†’          background: var(--color-scrollbar-thumb);
   290â†’          border-radius: 3px;
   291â†’        }
   292â†’
   293â†’        .blog-modal-scroll::-webkit-scrollbar-thumb:hover {
   294â†’          background: var(--color-scrollbar-thumb-hover);
   295â†’        }
   296â†’
   297â†’        .blog-modal-scroll {
   298â†’          scrollbar-width: thin;
   299â†’          scrollbar-color: var(--color-scrollbar-thumb) transparent;
   300â†’        }
   301â†’
   302â†’        .blog-content h1 {
   303â†’          font-size: clamp(28px, 5vw, 36px);
   304â†’          font-family: var(--font-serif);
   305â†’          font-weight: 400;
   306â†’          font-style: italic;
   307â†’          color: var(--color-text-primary);
   308â†’          margin: 40px 0 20px;
   309â†’          letter-spacing: -0.02em;
   310â†’          line-height: 1.2;
   311â†’          text-wrap: balance;
   312â†’        }
   313â†’
   314â†’        .blog-content h2 {
   315â†’          font-size: clamp(22px, 4vw, 26px);
   316â†’          font-family: var(--font-serif);
   317â†’          font-weight: 400;
   318â†’          font-style: italic;
   319â†’          color: var(--color-text-primary);
   320â†’          margin: 36px 0 16px;
   321â†’          letter-spacing: -0.02em;
   322â†’          line-height: 1.3;
   323â†’          text-wrap: balance;
   324â†’        }
   325â†’
   326â†’        .blog-content h3 {
   327â†’          font-size: clamp(18px, 3vw, 20px);
   328â†’          font-weight: 600;
   329â†’          color: var(--color-text-primary);
   330â†’          margin: 28px 0 12px;
   331â†’          line-height: 1.4;
   332â†’          text-wrap: balance;
   333â†’        }
   334â†’
   335â†’        .blog-content p {
   336â†’          font-size: clamp(16px, 2.5vw, 17px);
   337â†’          color: var(--color-text-secondary);
   338â†’          line-height: 1.8;
   339â†’          margin: 0 0 20px;
   340â†’        }
   341â†’
   342â†’        .blog-content ul, .blog-content ol {
   343â†’          margin: 0 0 20px;
   344â†’          padding-left: 24px;
   345â†’          color: var(--color-text-secondary);
   346â†’        }
   347â†’
   348â†’        .blog-content li {
   349â†’          font-size: ${isMobile ? '16px' : '17px'};
   350â†’          line-height: 1.8;
   351â†’          margin-bottom: 8px;
   352â†’        }
   353â†’
   354â†’        .blog-content a {
   355â†’          color: var(--color-accent);
   356â†’          text-decoration: none;
   357â†’          transition: opacity 0.2s ease;
   358â†’        }
   359â†’
   360â†’        .blog-content a:hover {
   361â†’          opacity: 0.8;
   362â†’        }
   363â†’
   364â†’        .blog-content strong {
   365â†’          color: var(--color-text-primary);
   366â†’          font-weight: 600;
   367â†’        }
   368â†’
   369â†’        .blog-content em {
   370â†’          font-style: italic;
   371â†’        }
   372â†’
   373â†’        .blog-content blockquote {
   374â†’          border-left: 3px solid var(--color-accent);
   375â†’          margin: 24px 0;
   376â†’          padding: 16px 24px;
   377â†’          background: var(--color-tag-hover);
   378â†’        }
   379â†’
   380â†’        .blog-content blockquote p {
   381â†’          margin: 0;
   382â†’          font-style: italic;
   383â†’        }
   384â†’
   385â†’        .blog-content hr {
   386â†’          border: none;
   387â†’          height: 1px;
   388â†’          background: var(--color-border);
   389â†’          margin: 40px 0;
   390â†’        }
   391â†’
   392â†’        .blog-content pre {
   393â†’          margin: 24px 0;
   394â†’          border-radius: 0;
   395â†’          border: 1px solid var(--color-border);
   396â†’        }
   397â†’
   398â†’        .blog-content code:not([class*="language-"]) {
   399â†’          background: var(--color-border-light);
   400â†’          padding: 2px 6px;
   401â†’          font-size: 0.9em;
   402â†’          color: var(--color-accent);
   403â†’        }
   404â†’
   405â†’        .blog-modal-back-btn {
   406â†’          display: flex;
   407â†’          align-items: center;
   408â†’          gap: 8px;
   409â†’          background: none;
   410â†’          border: none;
   411â†’          color: var(--color-text-tertiary);
   412â†’          font-size: 13px;
   413â†’          font-weight: 500;
   414â†’          cursor: pointer;
   415â†’          padding: 0;
   416â†’          font-family: var(--font-sans);
   417â†’          transition: color 0.2s ease;
   418â†’        }
   419â†’
   420â†’        .blog-modal-back-btn:hover {
   421â†’          color: var(--color-text-primary);
   422â†’        }
   423â†’
   424â†’        .blog-modal-close-btn {
   425â†’          background: none;
   426â†’          border: 1px solid var(--color-border);
   427â†’          color: var(--color-text-tertiary);
   428â†’          width: 40px;
   429â†’          height: 40px;
   430â†’          cursor: pointer;
   431â†’          display: flex;
   432â†’          align-items: center;
   433â†’          justify-content: center;
   434â†’          font-size: 18px;
   435â†’          transition: all 0.2s ease;
   436â†’        }
   437â†’
   438â†’        .blog-modal-close-btn:hover {
   439â†’          border-color: var(--color-text-tertiary);
   440â†’          color: var(--color-text-primary);
   441â†’        }
   442â†’
   443â†’        .back-to-top-btn {
   444â†’          position: fixed;
   445â†’          bottom: var(--space-xl);
   446â†’          right: var(--space-xl);
   447â†’          width: 48px;
   448â†’          height: 48px;
   449â†’          border-radius: 50%;
   450â†’          background: var(--color-background-secondary);
   451â†’          border: 1px solid var(--color-border);
   452â†’          color: var(--color-text-secondary);
   453â†’          cursor: pointer;
   454â†’          display: flex;
   455â†’          align-items: center;
   456â†’          justify-content: center;
   457â†’          font-size: 20px;
   458â†’          transition: all var(--transition-fast);
   459â†’          z-index: 100;
   460â†’          opacity: 0;
   461â†’          transform: translateY(20px);
   462â†’          pointer-events: none;
   463â†’        }
   464â†’
   465â†’        .back-to-top-btn.visible {
   466â†’          opacity: 1;
   467â†’          transform: translateY(0);
   468â†’          pointer-events: auto;
   469â†’        }
   470â†’
   471â†’        .back-to-top-btn:hover {
   472â†’          background: var(--color-accent);
   473â†’          color: var(--color-background);
   474â†’          border-color: var(--color-accent);
   475â†’          transform: translateY(-2px);
   476â†’        }
   477â†’
   478â†’        .toc-container {
   479â†’          position: sticky;
   480â†’          top: 120px;
   481â†’          max-height: calc(100vh - 200px);
   482â†’          overflow-y: auto;
   483â†’          padding: var(--space-lg);
   484â†’          background: var(--color-background-secondary);
   485â†’          border: 1px solid var(--color-border-light);
   486â†’          border-radius: 0;
   487â†’        }
   488â†’
   489â†’        .toc-container::-webkit-scrollbar {
   490â†’          width: 4px;
   491â†’        }
   492â†’
   493â†’        .toc-title {
   494â†’          font-size: 11px;
   495â†’          font-weight: 600;
   496â†’          letter-spacing: 0.1em;
   497â†’          text-transform: uppercase;
   498â†’          color: var(--color-text-muted);
   499â†’          margin-bottom: var(--space-md);
   500â†’        }
   501â†’
   502â†’        .toc-item {
   503â†’          display: block;
   504â†’          font-size: 13px;
   505â†’          color: var(--color-text-tertiary);
   506â†’          text-decoration: none;
   507â†’          padding: 6px 0;
   508â†’          transition: color var(--transition-fast);
   509â†’          cursor: pointer;
   510â†’          line-height: 1.4;
   511â†’        }
   512â†’
   513â†’        .toc-item:hover {
   514â†’          color: var(--color-text-primary);
   515â†’        }
   516â†’
   517â†’        .toc-item.active {
   518â†’          color: var(--color-accent);
   519â†’          font-weight: 500;
   520â†’        }
   521â†’
   522â†’        .toc-item.level-2 {
   523â†’          padding-left: var(--space-md);
   524â†’        }
   525â†’
   526â†’        .toc-item.level-3 {
   527â†’          padding-left: var(--space-xl);
   528â†’          font-size: 12px;
   529â†’        }
   530â†’
   531â†’        .code-block-wrapper {
   532â†’          position: relative;
   533â†’          margin: 24px 0;
   534â†’        }
   535â†’
   536â†’        .code-copy-btn {
   537â†’          position: absolute;
   538â†’          top: 8px;
   539â†’          right: 8px;
   540â†’          background: var(--color-background-secondary);
   541â†’          border: 1px solid var(--color-border);
   542â†’          color: var(--color-text-tertiary);
   543â†’          padding: 6px 12px;
   544â†’          font-size: 11px;
   545â†’          font-weight: 500;
   546â†’          letter-spacing: 0.05em;
   547â†’          text-transform: uppercase;
   548â†’          cursor: pointer;
   549â†’          border-radius: 0;
   550â†’          transition: all var(--transition-fast);
   551â†’          font-family: var(--font-sans);
   552â†’          z-index: 10;
   553â†’        }
   554â†’
   555â†’        .code-copy-btn:hover {
   556â†’          background: var(--color-accent);
   557â†’          color: var(--color-background);
   558â†’          border-color: var(--color-accent);
   559â†’        }
   560â†’
   561â†’        .related-posts-section {
   562â†’          margin-top: var(--space-3xl);
   563â†’          padding-top: var(--space-3xl);
   564â†’          border-top: 1px solid var(--color-border-light);
   565â†’        }
   566â†’
   567â†’        .related-posts-title {
   568â†’          font-size: clamp(20px, 3vw, 24px);
   569â†’          font-family: var(--font-serif);
   570â†’          font-style: italic;
   571â†’          color: var(--color-text-primary);
   572â†’          margin-bottom: var(--space-xl);
   573â†’        }
   574â†’
   575â†’        .related-post-card {
   576â†’          padding: var(--space-lg);
   577â†’          border: 1px solid var(--color-border-light);
   578â†’          cursor: pointer;
   579â†’          transition: all var(--transition-fast);
   580â†’          background: var(--color-background);
   581â†’        }
   582â†’
   583â†’        .related-post-card:hover {
   584â†’          border-color: var(--color-accent);
   585â†’          background: var(--color-card-hover);
   586â†’        }
   587â†’
   588â†’        .related-post-title {
   589â†’          font-size: 16px;
   590â†’          font-family: var(--font-serif);
   591â†’          font-style: italic;
   592â†’          color: var(--color-text-primary);
   593â†’          margin-bottom: var(--space-sm);
   594â†’        }
   595â†’
   596â†’        .related-post-meta {
   597â†’          font-size: 12px;
   598â†’          color: var(--color-text-tertiary);
   599â†’        }
   600â†’
   601â†’        .share-buttons-container {
   602â†’          display: flex;
   603â†’          align-items: center;
   604â†’          gap: var(--space-sm);
   605â†’          margin-top: var(--space-lg);
   606â†’        }
   607â†’
   608â†’        .share-label {
   609â†’          font-size: 11px;
   610â†’          font-weight: 500;
   611â†’          letter-spacing: 0.1em;
   612â†’          text-transform: uppercase;
   613â†’          color: var(--color-text-muted);
   614â†’        }
   615â†’
   616â†’        .share-btn {
   617â†’          background: none;
   618â†’          border: 1px solid var(--color-border-light);
   619â†’          color: var(--color-text-tertiary);
   620â†’          width: 36px;
   621â†’          height: 36px;
   622â†’          cursor: pointer;
   623â†’          display: flex;
   624â†’          align-items: center;
   625â†’          justify-content: center;
   626â†’          transition: all var(--transition-fast);
   627â†’          padding: 0;
   628â†’        }
   629â†’
   630â†’        .share-btn:hover {
   631â†’          border-color: var(--color-accent);
   632â†’          color: var(--color-accent);
   633â†’          transform: translateY(-2px);
   634â†’        }
   635â†’
   636â†’        .share-btn svg {
   637â†’          width: 16px;
   638â†’          height: 16px;
   639â†’        }
   640â†’
   641â†’        .copy-toast {
   642â†’          position: fixed;
   643â†’          bottom: calc(var(--space-xl) * 2 + 48px);
   644â†’          right: var(--space-xl);
   645â†’          background: var(--color-background-secondary);
   646â†’          border: 1px solid var(--color-accent);
   647â†’          color: var(--color-text-primary);
   648â†’          padding: var(--space-md) var(--space-lg);
   649â†’          font-size: 13px;
   650â†’          font-weight: 500;
   651â†’          z-index: 1002;
   652â†’          opacity: 0;
   653â†’          transform: translateY(10px);
   654â†’          transition: all var(--transition-fast);
   655â†’          pointer-events: none;
   656â†’        }
   657â†’
   658â†’        .copy-toast.visible {
   659â†’          opacity: 1;
   660â†’          transform: translateY(0);
   661â†’        }
   662â†’
   663â†’        .like-button-container {
   664â†’          display: flex;
   665â†’          align-items: center;
   666â†’          gap: var(--space-md);
   667â†’          margin-top: var(--space-2xl);
   668â†’          padding-top: var(--space-xl);
   669â†’          border-top: 1px solid var(--color-border-light);
   670â†’        }
   671â†’
   672â†’        .like-button {
   673â†’          display: flex;
   674â†’          align-items: center;
   675â†’          gap: var(--space-sm);
   676â†’          background: none;
   677â†’          border: 1px solid var(--color-border-light);
   678â†’          color: var(--color-text-tertiary);
   679â†’          padding: var(--space-md) var(--space-lg);
   680â†’          cursor: pointer;
   681â†’          transition: all var(--transition-fast);
   682â†’          font-family: var(--font-sans);
   683â†’          font-size: 14px;
   684â†’          font-weight: 500;
   685â†’        }
   686â†’
   687â†’        .like-button:hover {
   688â†’          border-color: var(--color-accent);
   689â†’          color: var(--color-accent);
   690â†’          transform: translateY(-2px);
   691â†’        }
   692â†’
   693â†’        .like-button.liked {
   694â†’          border-color: var(--color-accent);
   695â†’          background: var(--color-accent);
   696â†’          color: var(--color-background);
   697â†’        }
   698â†’
   699â†’        .like-button.liked:hover {
   700â†’          opacity: 0.9;
   701â†’          transform: translateY(-2px);
   702â†’        }
   703â†’
   704â†’        .like-button svg {
   705â†’          width: 18px;
   706â†’          height: 18px;
   707â†’          transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
   708â†’        }
   709â†’
   710â†’        .like-button.animating svg {
   711â†’          animation: likeHeartBeat 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
   712â†’        }
   713â†’
   714â†’        @keyframes likeHeartBeat {
   715â†’          0% {
   716â†’            transform: scale(1);
   717â†’          }
   718â†’          25% {
   719â†’            transform: scale(1.3);
   720â†’          }
   721â†’          50% {
   722â†’            transform: scale(1.1);
   723â†’          }
   724â†’          75% {
   725â†’            transform: scale(1.25);
   726â†’          }
   727â†’          100% {
   728â†’            transform: scale(1);
   729â†’          }
   730â†’        }
   731â†’
   732â†’        .like-count {
   733â†’          font-size: 14px;
   734â†’          font-weight: 500;
   735â†’          color: var(--color-text-secondary);
   736â†’        }
   737â†’
   738â†’        .like-count.has-likes {
   739â†’          color: var(--color-text-primary);
   740â†’        }
   741â†’
   742â†’        .like-label {
   743â†’          font-size: 11px;
   744â†’          font-weight: 500;
   745â†’          letter-spacing: 0.1em;
   746â†’          text-transform: uppercase;
   747â†’          color: var(--color-text-muted);
   748â†’        }
   749â†’      `}</style>
   750â†’
   751â†’            {/* Modal Header */}
   752â†’            <div style={{
   753â†’                display: 'flex',
   754â†’                justifyContent: 'space-between',
   755â†’                alignItems: 'center',
   756â†’                padding: isMobile ? '20px 24px' : '28px 64px',
   757â†’                borderBottom: '1px solid var(--color-border-light)',
   758â†’                background: 'var(--color-background)',
   759â†’                position: 'sticky',
   760â†’                top: 0,
   761â†’                zIndex: 10
   762â†’            }}>
   763â†’                <button onClick={onClose} className="blog-modal-back-btn">
   764â†’                    <span style={{ fontFamily: 'var(--font-serif)', fontStyle: 'italic' }}>â†</span>
   765â†’                    Back to Blog
   766â†’                </button>
   767â†’
   768â†’                <button onClick={onClose} className="blog-modal-close-btn">
   769â†’                    âœ•
   770â†’                </button>
   771â†’            </div>
   772â†’
   773â†’            {/* Modal Content - Scrollable */}
   774â†’            <div
   775â†’                ref={scrollContainerRef}
   776â†’                className="blog-modal-scroll"
   777â†’                style={{
   778â†’                    flex: 1,
   779â†’                    overflowY: 'auto',
   780â†’                    padding: isMobile ? '40px 24px' : '64px',
   781â†’                    display: 'flex',
   782â†’                    gap: 'var(--space-3xl)',
   783â†’                    justifyContent: 'center'
   784â†’                }}
   785â†’            >
   786â†’                {/* Main Content */}
   787â†’                <div style={{
   788â†’                    maxWidth: '800px',
   789â†’                    width: '100%',
   790â†’                    flex: '1 1 auto'
   791â†’                }}>
   792â†’                {/* Header */}
   793â†’                <div style={{ marginBottom: '40px' }}>
   794â†’                    <div style={{
   795â†’                        fontSize: '13px',
   796â†’                        color: 'var(--color-text-tertiary)',
   797â†’                        marginBottom: 'var(--space-md)',
   798â†’                        display: 'flex',
   799â†’                        alignItems: 'center',
   800â†’                        gap: 'var(--space-sm)'
   801â†’                    }}>
   802â†’                        <span>{formatDate(post.date)}</span>
   803â†’                        <span style={{ color: 'var(--color-separator)' }}>â€¢</span>
   804â†’                        <span>{post.readingTime} min read</span>
   805â†’                    </div>
   806â†’
   807â†’                    <h1 style={{
   808â†’                        fontSize: isMobile ? '32px' : '48px',
   809â†’                        fontFamily: 'var(--font-serif)',
   810â†’                        fontWeight: 400,
   811â†’                        fontStyle: 'italic',
   812â†’                        color: 'var(--color-text-primary)',
   813â†’                        marginBottom: '20px',
   814â†’                        letterSpacing: '-0.02em',
   815â†’                        lineHeight: 1.1
   816â†’                    }}>
   817â†’                        {post.title}
   818â†’                    </h1>
   819â†’
   820â†’                    {/* Tags */}
   821â†’                    <div style={{
   822â†’                        display: 'flex',
   823â†’                        gap: '10px',
   824â†’                        flexWrap: 'wrap'
   825â†’                    }}>
   826â†’                        {post.tags.map((tag, i) => (
   827â†’                            <span key={i} style={{
   828â†’                                fontSize: '11px',
   829â†’                                fontWeight: 500,
   830â†’                                letterSpacing: '0.08em',
   831â†’                                textTransform: 'uppercase',
   832â†’                                color: 'var(--color-text-muted)',
   833â†’                                padding: '6px 12px',
   834â†’                                border: '1px solid var(--color-border-light)'
   835â†’                            }}>
   836â†’                                {tag}
   837â†’                            </span>
   838â†’                        ))}
   839â†’                    </div>
   840â†’
   841â†’                    {/* Share Buttons */}
   842â†’                    <div className="share-buttons-container">
   843â†’                        <span className="share-label">Share</span>
   844â†’
   845â†’                        {/* Twitter/X */}
   846â†’                        <button
   847â†’                            className="share-btn"
   848â†’                            onClick={shareOnTwitter}
   849â†’                            title="Share on Twitter/X"
   850â†’                            aria-label="Share on Twitter/X"
   851â†’                        >
   852â†’                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   853â†’                                <path d="M4 4l11.733 16h4.267l-11.733 -16z" />
   854â†’                                <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
   855â†’                            </svg>
   856â†’                        </button>
   857â†’
   858â†’                        {/* LinkedIn */}
   859â†’                        <button
   860â†’                            className="share-btn"
   861â†’                            onClick={shareOnLinkedIn}
   862â†’                            title="Share on LinkedIn"
   863â†’                            aria-label="Share on LinkedIn"
   864â†’                        >
   865â†’                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   866â†’                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
   867â†’                                <rect x="2" y="9" width="4" height="12" />
   868â†’                                <circle cx="4" cy="4" r="2" />
   869â†’                            </svg>
   870â†’                        </button>
   871â†’
   872â†’                        {/* Copy Link */}
   873â†’                        <button
   874â†’                            className="share-btn"
   875â†’                            onClick={copyLink}
   876â†’                            title="Copy link"
   877â†’                            aria-label="Copy link to clipboard"
   878â†’                        >
   879â†’                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   880â†’                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
   881â†’                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
   882â†’                            </svg>
   883â†’                        </button>
   884â†’
   885â†’                        {/* Native Share (Mobile) */}
   886â†’                        {typeof navigator !== 'undefined' && 'share' in navigator && (
   887â†’                            <button
   888â†’                                className="share-btn"
   889â†’                                onClick={shareNative}
   890â†’                                title="Share"
   891â†’                                aria-label="Open share menu"
   892â†’                            >
   893â†’                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   894â†’                                    <circle cx="18" cy="5" r="3" />
   895â†’                                    <circle cx="6" cy="12" r="3" />
   896â†’                                    <circle cx="18" cy="19" r="3" />
   897â†’                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" />
   898â†’                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" />
   899â†’                                </svg>
   900â†’                            </button>
   901â†’                        )}
   902â†’                    </div>
   903â†’
   904â†’                    {/* Like Button */}
   905â†’                    <div className="like-button-container">
   906â†’                        <span className="like-label">Enjoyed this?</span>
   907â†’                        <button
   908â†’                            className={`like-button ${hasLiked ? 'liked' : ''} ${isLikeAnimating ? 'animating' : ''}`}
   909â†’                            onClick={handleLike}
   910â†’                            title={hasLiked ? 'Unlike this post' : 'Like this post'}
   911â†’                            aria-label={hasLiked ? 'Unlike this post' : 'Like this post'}
   912â†’                        >
   913â†’                            <svg
   914â†’                                viewBox="0 0 24 24"
   915â†’                                fill={hasLiked ? 'currentColor' : 'none'}
   916â†’                                stroke="currentColor"
   917â†’                                strokeWidth="2"
   918â†’                                strokeLinecap="round"
   919â†’                                strokeLinejoin="round"
   920â†’                            >
   921â†’                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
   922â†’                            </svg>
   923â†’                            <span>{hasLiked ? 'Liked' : 'Like'}</span>
   924â†’                        </button>
   925â†’                        {likeCount > 0 && (
   926â†’                            <span className={`like-count ${likeCount > 0 ? 'has-likes' : ''}`}>
   927â†’                                {likeCount} {likeCount === 1 ? 'like' : 'likes'}
   928â†’                            </span>
   929â†’                        )}
   930â†’                    </div>
   931â†’                </div>
   932â†’
   933â†’                {/* Hero Image */}
   934â†’                {post.thumbnail && (
   935â†’                    <div style={{
   936â†’                        aspectRatio: '16/9',
   937â†’                        marginBottom: 'var(--space-2xl)',
   938â†’                        background: 'linear-gradient(135deg, var(--color-background-secondary) 0%, var(--color-background-tertiary) 100%)',
   939â†’                        border: '1px solid var(--color-border-light)',
   940â†’                        overflow: 'hidden'
   941â†’                    }}>
   942â†’                        <img
   943â†’                            src={post.thumbnail}
   944â†’                            alt={post.title}
   945â†’                            style={{ width: '100%', height: '100%', objectFit: 'cover' }}
   946â†’                        />
   947â†’                    </div>
   948â†’                )}
   949â†’
   950â†’                {/* Article Content */}
   951â†’                <div ref={contentRef} className="blog-content">
   952â†’                    <ReactMarkdown
   953â†’                        remarkPlugins={[remarkGfm]}
   954â†’                        components={{
   955â†’                            code({ className, children, ...props }) {
   956â†’                                const match = /language-(\w+)/.exec(className || '');
   957â†’                                const isInline = !match;
   958â†’                                const code = String(children).replace(/\n$/, '');
   959â†’
   960â†’                                return !isInline ? (
   961â†’                                    <div className="code-block-wrapper">
   962â†’                                        <button
   963â†’                                            className="code-copy-btn"
   964â†’                                            onClick={() => copyCode(code)}
   965â†’                                            title="Copy code"
   966â†’                                        >
   967â†’                                            Copy
   968â†’                                        </button>
   969â†’                                        <SyntaxHighlighter
   970â†’                                            style={isDark ? oneDark : oneLight}
   971â†’                                            language={match[1]}
   972â†’                                            PreTag="div"
   973â†’                                            customStyle={{
   974â†’                                                margin: 0,
   975â†’                                                borderRadius: 0,
   976â†’                                                border: '1px solid var(--color-border)',
   977â†’                                                background: 'var(--color-code-bg)'
   978â†’                                            }}
   979â†’                                        >
   980â†’                                            {code}
   981â†’                                        </SyntaxHighlighter>
   982â†’                                    </div>
   983â†’                                ) : (
   984â†’                                    <code className={className} {...props}>
   985â†’                                        {children}
   986â†’                                    </code>
   987â†’                                );
   988â†’                            }
   989â†’                        }}
   990â†’                    >
   991â†’                        {post.content}
   992â†’                    </ReactMarkdown>
   993â†’                </div>
   994â†’
   995â†’                {/* Navigation Between Posts */}
   996â†’                {(hasPrev || hasNext) && (
   997â†’                    <div style={{
   998â†’                        display: 'flex',
   999â†’                        justifyContent: 'space-between',
  1000â†’                        marginTop: 'var(--space-3xl)',
  1001â†’                        paddingTop: 'var(--space-xl)',
  1002â†’                        borderTop: '1px solid var(--color-border-light)',
  1003â†’                        gap: 'var(--space-lg)',
  1004â†’                        flexWrap: 'wrap'
  1005â†’                    }}>
  1006â†’                        {hasPrev ? (
  1007â†’                            <button
  1008â†’                                onClick={() => onNavigate?.('prev')}
  1009â†’                                style={{
  1010â†’                                    background: 'none',
  1011â†’                                    border: 'none',
  1012â†’                                    cursor: 'pointer',
  1013â†’                                    textAlign: 'left',
  1014â†’                                    padding: 0,
  1015â†’                                    flex: 1,
  1016â†’                                    fontFamily: 'var(--font-sans)'
  1017â†’                                }}
  1018â†’                            >
  1019â†’                                <span style={{
  1020â†’                                    fontSize: '11px',
  1021â†’                                    fontWeight: 500,
  1022â†’                                    letterSpacing: '0.1em',
  1023â†’                                    textTransform: 'uppercase',
  1024â†’                                    color: 'var(--color-text-muted)',
  1025â†’                                    display: 'block',
  1026â†’                                    marginBottom: 'var(--space-sm)'
  1027â†’                                }}>â† Previous</span>
  1028â†’                                <span style={{
  1029â†’                                    fontSize: '16px',
  1030â†’                                    fontFamily: 'var(--font-serif)',
  1031â†’                                    fontStyle: 'italic',
  1032â†’                                    color: 'var(--color-text-secondary)'
  1033â†’                                }}>{prevTitle}</span>
  1034â†’                            </button>
  1035â†’                        ) : <div style={{ flex: 1 }} />}
  1036â†’
  1037â†’                        {hasNext ? (
  1038â†’                            <button
  1039â†’                                onClick={() => onNavigate?.('next')}
  1040â†’                                style={{
  1041â†’                                    background: 'none',
  1042â†’                                    border: 'none',
  1043â†’                                    cursor: 'pointer',
  1044â†’                                    textAlign: 'right',
  1045â†’                                    padding: 0,
  1046â†’                                    flex: 1,
  1047â†’                                    fontFamily: 'var(--font-sans)'
  1048â†’                                }}
  1049â†’                            >
  1050â†’                                <span style={{
  1051â†’                                    fontSize: '11px',
  1052â†’                                    fontWeight: 500,
  1053â†’                                    letterSpacing: '0.1em',
  1054â†’                                    textTransform: 'uppercase',
  1055â†’                                    color: 'var(--color-text-muted)',
  1056â†’                                    display: 'block',
  1057â†’                                    marginBottom: 'var(--space-sm)'
  1058â†’                                }}>Next â†’</span>
  1059â†’                                <span style={{
  1060â†’                                    fontSize: '16px',
  1061â†’                                    fontFamily: 'var(--font-serif)',
  1062â†’                                    fontStyle: 'italic',
  1063â†’                                    color: 'var(--color-text-secondary)'
  1064â†’                                }}>{nextTitle}</span>
  1065â†’                            </button>
  1066â†’                        ) : <div style={{ flex: 1 }} />}
  1067â†’                    </div>
  1068â†’                )}
  1069â†’
  1070â†’                {/* Related Posts */}
  1071â†’                {relatedPosts && relatedPosts.length > 0 && (
  1072â†’                    <div className="related-posts-section">
  1073â†’                        <h2 className="related-posts-title">Related Articles</h2>
  1074â†’                        <div style={{
  1075â†’                            display: 'grid',
  1076â†’                            gap: 'var(--space-lg)',
  1077â†’                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(280px, 1fr))'
  1078â†’                        }}>
  1079â†’                            {relatedPosts.map((relatedPost, index) => (
  1080â†’                                <div
  1081â†’                                    key={index}
  1082â†’                                    className="related-post-card"
  1083â†’                                    onClick={() => onPostSelect?.(relatedPost)}
  1084â†’                                >
  1085â†’                                    <h3 className="related-post-title">{relatedPost.title}</h3>
  1086â†’                                    <div className="related-post-meta">
  1087â†’                                        {formatDate(relatedPost.date)} Â· {relatedPost.readingTime} min read
  1088â†’                                    </div>
  1089â†’                                    {relatedPost.tags && relatedPost.tags.length > 0 && (
  1090â†’                                        <div style={{
  1091â†’                                            display: 'flex',
  1092â†’                                            gap: '8px',
  1093â†’                                            flexWrap: 'wrap',
  1094â†’                                            marginTop: 'var(--space-sm)'
  1095â†’                                        }}>
  1096â†’                                            {relatedPost.tags.slice(0, 3).map((tag, i) => (
  1097â†’                                                <span key={i} style={{
  1098â†’                                                    fontSize: '10px',
  1099â†’                                                    fontWeight: 500,
  1100â†’                                                    letterSpacing: '0.08em',
  1101â†’                                                    textTransform: 'uppercase',
  1102â†’                                                    color: 'var(--color-text-muted)',
  1103â†’                                                    padding: '4px 8px',
  1104â†’                                                    border: '1px solid var(--color-border-light)'
  1105â†’                                                }}>
  1106â†’                                                    {tag}
  1107â†’                                                </span>
  1108â†’                                            ))}
  1109â†’                                        </div>
  1110â†’                                    )}
  1111â†’                                </div>
  1112â†’                            ))}
  1113â†’                        </div>
  1114â†’                    </div>
  1115â†’                )}
  1116â†’                </div>
  1117â†’
  1118â†’                {/* Table of Contents - Desktop Only */}
  1119â†’                {!isMobile && showToc && tocItems.length > 0 && (
  1120â†’                    <div style={{
  1121â†’                        width: '280px',
  1122â†’                        flexShrink: 0
  1123â†’                    }}>
  1124â†’                        <div className="toc-container">
  1125â†’                            <div className="toc-title">Contents</div>
  1126â†’                            <nav>
  1127â†’                                {tocItems.map((item, index) => (
  1128â†’                                    <div
  1129â†’                                        key={index}
  1130â†’                                        className={`toc-item level-${item.level} ${activeHeading === item.id ? 'active' : ''}`}
  1131â†’                                        onClick={() => scrollToHeading(item.id)}
  1132â†’                                    >
  1133â†’                                        {item.text}
  1134â†’                                    </div>
  1135â†’                                ))}
  1136â†’                            </nav>
  1137â†’                        </div>
  1138â†’                    </div>
  1139â†’                )}
  1140â†’            </div>
  1141â†’
  1142â†’            {/* Back to Top Button */}
  1143â†’            <button
  1144â†’                className={`back-to-top-btn ${showBackToTop ? 'visible' : ''}`}
  1145â†’                onClick={scrollToTop}
  1146â†’                title="Back to top"
  1147â†’            >
  1148â†’                â†‘
  1149â†’            </button>
  1150â†’
  1151â†’            {/* Copy Toast Notification */}
  1152â†’            <div className={`copy-toast ${showCopyToast ? 'visible' : ''}`}>
  1153â†’                Link copied to clipboard!
  1154â†’            </div>
  1155â†’        </div>
  1156â†’    );
  1157â†’}
  1158â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
Now I have a clear picture of the current architecture:

1. **App.tsx** - Uses HashRouter with routes:
   - `/` â†’ BasePortfolio
   - `/:company/:role` â†’ VariantPortfolio

2. **BasePortfolio** - Wraps Portfolio component with VariantProvider

3. **Blog.tsx** - A section component that:
   - Lives inside the main Portfolio page
   - Uses `import.meta.glob` to load markdown files
   - Has `parseBlogPosts()` to parse frontmatter and content
   - Manages state: `hoveredPost`, `selectedPost`
   - When `selectedPost` is set, opens `BlogPostModal`

4. **BlogPostModal.tsx** - A full-screen modal (1157 lines!) with:
   - Reading progress bar
   - Table of contents (TOC)
   - Back-to-top button
   - Social sharing (Twitter, LinkedIn, copy link)
   - Like/unlike functionality
   - Related posts
   - Navigation between posts (prev/next)
   - ESC key to close

To convert this to a dedicated page, I need to clarify with the user:
1. Should the blog list still appear on the homepage (as a preview section)?
2. URL structure for blog posts: `/blog/:slug` vs `/blog?post=slug`
3. What happens to the modal features (reading progress, TOC, etc.) - keep them on the page?

Let me ask a clarifying question before proceeding with the design.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

I now have a complete picture of the implementation. The blog currently has rich features in the modal (reading progress, TOC, social sharing, likes, related posts). Before I design the implementation, I have a few questions.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="unknown" data-tool-name="AskUserQuestion"><details>
<summary>Tool use: **AskUserQuestion**</summary>

```
User has answered your questions: "Should the blog section still appear on the homepage as a preview (e.g., showing 2-3 recent posts with a 'View all' link)?"="Yes, keep a preview section", "What URL structure do you prefer for individual blog posts?"="/blog/:slug (Recommended)". You can now continue with the user's answers in mind.
```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
The user wants:
1. Keep a preview section on the homepage (showing recent posts with "View all" link)
2. Use clean URLs like `/blog/:slug` for individual posts - each post is its own page

Now I'll design the implementation plan. Let me write the plan file with the approach.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

Now I have clarity. Let me design the implementation plan.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="write" data-tool-name="Write"><details>
<summary>Tool use: **Write**</summary>


```md
# Blog Page Implementation Plan

## Goal
Convert the blog from a modal-based approach to dedicated pages while keeping a preview section on the homepage.

## URL Structure
- `/blog` - Blog index page (list of all posts)
- `/blog/:slug` - Individual blog post page

## Files to Create

### 1. `src/pages/BlogPage.tsx`
New page component that displays the full blog post list.
- Reuses most of the current `Blog.tsx` section layout
- Wraps content in page shell (with navigation, ambient background, footer)
- Click on post â†’ navigate to `/blog/:slug` instead of opening modal

### 2. `src/pages/BlogPostPage.tsx`
New page component for individual blog posts.
- Converts `BlogPostModal.tsx` from modal to full page
- Keeps all features: reading progress, TOC, social sharing, likes, related posts
- Back button â†’ navigates to `/blog` instead of closing modal
- Related posts â†’ navigate to `/blog/:slug` instead of setting state

## Files to Modify

### 1. `src/App.tsx`
Add new routes:
\```tsx
<Route path="/blog" element={<BlogPage />} />
<Route path="/blog/:slug" element={<BlogPostPage />} />
\```

### 2. `src/components/Blog.tsx` â†’ `src/components/sections/BlogSection.tsx`
Refactor into a preview section:
- Show only 2-3 recent posts
- Add "View all posts" link â†’ `/blog`
- Click on post â†’ navigate to `/blog/:slug` using `useNavigate`
- Remove `BlogPostModal` usage
- Move blog post parsing logic to shared `src/lib/blog.ts`

### 3. `src/components/Portfolio.tsx`
Update Blog import path to use the new BlogSection location.

## New Shared Module

### `src/lib/blog.ts`
Extract reusable logic from `Blog.tsx`:
- `parseFrontmatter()` function
- `calculateReadingTime()` function
- `extractSlugFromFilename()` function
- `parseBlogPosts()` function
- `getRelatedPosts()` function
- Export parsed posts as `blogPosts`

## Implementation Steps

1. **Create `src/lib/blog.ts`** - Extract blog parsing logic
2. **Create `src/pages/BlogPage.tsx`** - Full blog list page
3. **Create `src/pages/BlogPostPage.tsx`** - Individual post page (convert modal to page)
4. **Update `src/App.tsx`** - Add new routes
5. **Refactor `src/components/Blog.tsx` â†’ `src/components/sections/BlogSection.tsx`** - Preview section with navigation
6. **Update Portfolio.tsx** - Fix import path
7. **Delete `src/components/BlogPostModal.tsx`** - No longer needed (logic moved to BlogPostPage)

## Key Considerations

- **Preserve all modal features** on the post page (progress bar, TOC, sharing, likes, related)
- **SEO**: Each post gets its own URL, better for indexing
- **Navigation**: Use `useNavigate` from react-router-dom for programmatic navigation
- **Page shell**: BlogPage and BlogPostPage need proper page structure (Omnibar, theme, ambient background)
- **Scroll**: Reset scroll position when navigating to new post

```
```
File created successfully at: /Users/dfotesco/.claude/plans/purring-gliding-peach.md
```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
Let me also check the Portfolio.tsx to understand how the Blog section is integrated, and also look at the existing page structure to understand how to build the BlogPage properly.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

Let me check the Portfolio component to understand the page shell structure before finalizing the plan.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="read" data-tool-name="Read"><details>
<summary>Tool use: **Read**</summary>
 `./src/components/Portfolio.tsx`
```
     1â†’import { useState, useEffect } from 'react';
     2â†’import Blog from './Blog';
     3â†’import ThemeToggle from './ThemeToggle';
     4â†’import HeroSection from './sections/HeroSection';
     5â†’import AboutSection from './sections/AboutSection';
     6â†’import ExperienceSection from './sections/ExperienceSection';
     7â†’import CertificationsSection from './sections/CertificationsSection';
     8â†’import TestimonialsSection from './sections/TestimonialsSection';
     9â†’import PassionProjectsSection from './sections/PassionProjectsSection';
    10â†’
    11â†’import CaseStudiesSection from './sections/CaseStudiesSection';
    12â†’import FooterSection from './sections/FooterSection';
    13â†’import CaseStudyDrawer from './case-study/CaseStudyDrawer';
    14â†’import AmbientBackground from './common/AmbientBackground';
    15â†’import Omnibar from './common/Omnibar';
    16â†’import { useVariant } from '../context/VariantContext';
    17â†’import type { CaseStudy } from '../types/portfolio';
    18â†’
    19â†’export default function Portfolio() {
    20â†’  // Get profile from variant context (either base or merged with variant)
    21â†’  const { profile } = useVariant();
    22â†’
    23â†’  const [isLoaded, setIsLoaded] = useState(false);
    24â†’  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    25â†’  const [windowWidth, setWindowWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1200);
    26â†’  const [modalCase, setModalCase] = useState<CaseStudy | null>(null);
    27â†’  const [hoveredCase, setHoveredCase] = useState<number | null>(null);
    28â†’
    29â†’  useEffect(() => {
    30â†’    setIsLoaded(true);
    31â†’
    32â†’    const handleResize = () => setWindowWidth(window.innerWidth);
    33â†’    window.addEventListener('resize', handleResize);
    34â†’    return () => window.removeEventListener('resize', handleResize);
    35â†’  }, []);
    36â†’
    37â†’  // Handle modal scroll lock and ESC key
    38â†’  useEffect(() => {
    39â†’    if (modalCase) {
    40â†’      document.body.style.overflow = 'hidden';
    41â†’      const handleEsc = (e: KeyboardEvent) => {
    42â†’        if (e.key === 'Escape') setModalCase(null);
    43â†’      };
    44â†’      window.addEventListener('keydown', handleEsc);
    45â†’      return () => {
    46â†’        document.body.style.overflow = '';
    47â†’        window.removeEventListener('keydown', handleEsc);
    48â†’      };
    49â†’    } else {
    50â†’      document.body.style.overflow = '';
    51â†’    }
    52â†’  }, [modalCase]);
    53â†’
    54â†’  const isMobile = windowWidth < 768;
    55â†’  const isTablet = windowWidth >= 768 && windowWidth < 1024;
    56â†’
    57â†’  // Section visibility flags from YAML config
    58â†’  const { sections } = profile;
    59â†’
    60â†’  const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
    61â†’
    62â†’  return (
    63â†’    <>
    64â†’      <style>{`
    65â†’        .nav-link {
    66â†’          color: var(--color-text-tertiary);
    67â†’          text-decoration: none;
    68â†’          font-size: 13px;
    69â†’          font-weight: 500;
    70â†’          letter-spacing: 0.05em;
    71â†’          text-transform: uppercase;
    72â†’          transition: color 0.2s ease;
    73â†’          cursor: pointer;
    74â†’        }
    75â†’        .nav-link:hover {
    76â†’          color: var(--color-text-primary);
    77â†’        }
    78â†’        .nav-cta {
    79â†’          color: var(--color-background);
    80â†’          background: var(--color-accent);
    81â†’          padding: 12px 24px;
    82â†’          text-decoration: none;
    83â†’          font-size: 13px;
    84â†’          font-weight: 600;
    85â†’          letter-spacing: 0.02em;
    86â†’          transition: all 0.2s ease;
    87â†’        }
    88â†’        .nav-cta:hover {
    89â†’          background: var(--color-accent-hover);
    90â†’        }
    91â†’        .mobile-menu-link {
    92â†’          color: var(--color-text-primary);
    93â†’          text-decoration: none;
    94â†’          font-family: var(--font-serif);
    95â†’          font-size: 42px;
    96â†’          font-style: italic;
    97â†’          padding: 16px 0;
    98â†’          border-bottom: 1px solid var(--color-border);
    99â†’        }
   100â†’        .footer-omnibar-btn {
   101â†’          display: flex;
   102â†’          align-items: center;
   103â†’          gap: 10px;
   104â†’          padding: 16px 24px;
   105â†’          background: transparent;
   106â†’          border: none;
   107â†’          border-radius: 2px;
   108â†’          color: var(--color-text-primary);
   109â†’          font-size: 14px;
   110â†’          font-weight: 500;
   111â†’          letter-spacing: 0.02em;
   112â†’          cursor: pointer;
   113â†’          white-space: nowrap;
   114â†’          text-decoration: none;
   115â†’          transition: background 0.2s ease;
   116â†’        }
   117â†’        .footer-omnibar-btn:hover {
   118â†’          background: var(--color-tag-hover);
   119â†’        }
   120â†’        .footer-omnibar-btn-primary {
   121â†’          background: transparent;
   122â†’          border: 1px solid var(--color-accent);
   123â†’          color: var(--color-accent);
   124â†’          font-weight: 600;
   125â†’        }
   126â†’        .footer-omnibar-btn-primary:hover {
   127â†’          background: var(--color-accent);
   128â†’          color: var(--color-background);
   129â†’        }
   130â†’        .social-link {
   131â†’          color: var(--color-separator);
   132â†’          text-decoration: none;
   133â†’          font-size: 12px;
   134â†’          font-weight: 500;
   135â†’          letter-spacing: 0.08em;
   136â†’          text-transform: uppercase;
   137â†’          transition: color 0.2s ease;
   138â†’        }
   139â†’        .social-link:hover {
   140â†’          color: var(--color-text-tertiary);
   141â†’        }
   142â†’      `}</style>
   143â†’
   144â†’      <div style={{
   145â†’        minHeight: '100vh',
   146â†’        background: 'var(--color-background)',
   147â†’        color: 'var(--color-text-primary)',
   148â†’        transition: 'background var(--transition-medium), color var(--transition-medium)',
   149â†’        position: 'relative'
   150â†’      }}>
   151â†’        <a className="skip-link" href="#main-content">
   152â†’          Skip to content
   153â†’        </a>
   154â†’
   155â†’        <AmbientBackground />
   156â†’
   157â†’        {/* Navigation - hidden when drawer is open on mobile */}
   158â†’        <nav
   159â†’          aria-label="Primary"
   160â†’          style={{
   161â†’            position: 'fixed',
   162â†’            top: 0,
   163â†’            left: 0,
   164â†’            right: 0,
   165â†’            zIndex: 100,
   166â†’            background: 'var(--color-nav-bg)',
   167â†’            backdropFilter: 'blur(12px)',
   168â†’            WebkitBackdropFilter: 'blur(12px)',
   169â†’            borderBottom: '1px solid var(--color-border-light)',
   170â†’            opacity: isLoaded ? 1 : 0,
   171â†’            transform: isLoaded ? 'translateY(0)' : 'translateY(-20px)',
   172â†’            transition: 'all 0.8s cubic-bezier(0.16, 1, 0.3, 1)',
   173â†’            display: (isMobile && modalCase) ? 'none' : 'block'
   174â†’          }}
   175â†’        >
   176â†’          <div style={{
   177â†’            maxWidth: 'var(--layout-max-width)',
   178â†’            margin: '0 auto',
   179â†’            padding: isMobile
   180â†’              ? 'var(--nav-height-mobile) var(--space-lg)'
   181â†’              : 'var(--nav-height) var(--space-3xl)',
   182â†’            display: 'flex',
   183â†’            justifyContent: 'space-between',
   184â†’            alignItems: 'center'
   185â†’          }}>
   186â†’            {/* Logo */}
   187â†’            <div style={{
   188â†’              fontFamily: 'var(--font-serif)',
   189â†’              fontSize: '24px',
   190â†’              fontStyle: 'italic',
   191â†’              fontWeight: 700,
   192â†’              zIndex: 101,
   193â†’              position: 'relative'
   194â†’            }}>
   195â†’              <a
   196â†’                href="#"
   197â†’                onClick={(e) => {
   198â†’                  e.preventDefault();
   199â†’                  // Close any open drawer
   200â†’                  setModalCase(null);
   201â†’                  // Close mobile menu if open
   202â†’                  setMobileMenuOpen(false);
   203â†’                  // Scroll to top
   204â†’                  window.scrollTo({ top: 0, behavior: 'smooth' });
   205â†’                  // Clear URL hash if any
   206â†’                  if (window.location.hash) {
   207â†’                    window.history.pushState(null, '', window.location.pathname);
   208â†’                  }
   209â†’                }}
   210â†’                style={{
   211â†’                  textDecoration: 'none',
   212â†’                  color: 'var(--color-text-primary)',
   213â†’                  transition: 'color 0.4s ease',
   214â†’                  cursor: 'pointer'
   215â†’                }}
   216â†’              >
   217â†’                {profile.name}
   218â†’              </a>
   219â†’            </div>
   220â†’
   221â†’            {/* Desktop Navigation */}
   222â†’            {!isMobile && (
   223â†’              <div style={{ display: 'flex', gap: 'var(--space-xl)', alignItems: 'center' }}>
   224â†’                {['Work', 'About', 'Blog'].map((item) => (
   225â†’                  <a
   226â†’                    key={item}
   227â†’                    href={`#${item.toLowerCase()}`}
   228â†’                    className="nav-link"
   229â†’                  >
   230â†’                    {item}
   231â†’                  </a>
   232â†’                ))}
   233â†’                <ThemeToggle />
   234â†’                <a href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o=" target="_blank" rel="noopener noreferrer" className="nav-cta">
   235â†’                  Get in Touch
   236â†’                </a>
   237â†’              </div>
   238â†’            )}
   239â†’
   240â†’            {/* Mobile Menu Button */}
   241â†’            {isMobile && (
   242â†’              <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-sm)' }}>
   243â†’                <ThemeToggle isMobile />
   244â†’                <button
   245â†’                  type="button"
   246â†’                  onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
   247â†’                  aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}
   248â†’                  aria-expanded={mobileMenuOpen}
   249â†’                  aria-controls="mobile-menu"
   250â†’                  style={{
   251â†’                    background: 'transparent',
   252â†’                    border: 'none',
   253â†’                    padding: 'var(--space-sm)',
   254â†’                    cursor: 'pointer',
   255â†’                    zIndex: 101,
   256â†’                    position: 'relative',
   257â†’                    color: 'var(--color-text-primary)'
   258â†’                  }}
   259â†’                >
   260â†’                  <span style={{
   261â†’                    fontSize: '14px',
   262â†’                    textTransform: 'uppercase',
   263â†’                    letterSpacing: '0.1em',
   264â†’                    fontWeight: 600
   265â†’                  }}>
   266â†’                    {mobileMenuOpen ? 'Close' : 'Menu'}
   267â†’                  </span>
   268â†’                </button>
   269â†’              </div>
   270â†’            )}
   271â†’          </div>
   272â†’        </nav>
   273â†’
   274â†’        {/* Mobile Menu Overlay */}
   275â†’        {isMobile && (
   276â†’          <div
   277â†’            id="mobile-menu"
   278â†’            role="dialog"
   279â†’            aria-modal="true"
   280â†’            aria-label="Navigation menu"
   281â†’            style={{
   282â†’              position: 'fixed',
   283â†’              top: 0,
   284â†’              left: 0,
   285â†’              right: 0,
   286â†’              bottom: 0,
   287â†’              background: 'var(--color-background)',
   288â†’              zIndex: 99,
   289â†’              display: 'flex',
   290â†’              flexDirection: 'column',
   291â†’              justifyContent: 'center',
   292â†’              padding: '0 var(--space-lg)',
   293â†’              opacity: mobileMenuOpen ? 1 : 0,
   294â†’              pointerEvents: mobileMenuOpen ? 'auto' : 'none',
   295â†’              transition: 'opacity 0.3s ease, background 0.4s ease'
   296â†’            }}>
   297â†’            {['Work', 'About', 'Blog', 'Contact'].map((item, i) => (
   298â†’              <a
   299â†’                key={item}
   300â†’                href={item === 'Contact' ? `mailto:${profile.email}` : `#${item.toLowerCase()}`}
   301â†’                onClick={() => setMobileMenuOpen(false)}
   302â†’                className="mobile-menu-link"
   303â†’                style={{
   304â†’                  transform: mobileMenuOpen ? 'translateX(0)' : 'translateX(-20px)',
   305â†’                  opacity: mobileMenuOpen ? 1 : 0,
   306â†’                  transition: `all 0.4s ease ${i * 0.08}s`
   307â†’                }}
   308â†’              >
   309â†’                {item}
   310â†’              </a>
   311â†’            ))}
   312â†’          </div>
   313â†’        )}
   314â†’
   315â†’        <main id="main-content" style={{ position: 'relative', zIndex: 1 }}>
   316â†’          {/* Hero Section */}
   317â†’          <HeroSection
   318â†’            profile={profile}
   319â†’            isMobile={isMobile}
   320â†’            isTablet={isTablet}
   321â†’            isLoaded={isLoaded}
   322â†’          />
   323â†’
   324â†’          {/* About Section */}
   325â†’          <AboutSection
   326â†’            profile={profile}
   327â†’            isMobile={isMobile}
   328â†’            isTablet={isTablet}
   329â†’            sectionPadding={sectionPadding}
   330â†’          />
   331â†’
   332â†’          {/* Experience Section */}
   333â†’          <ExperienceSection
   334â†’            isMobile={isMobile}
   335â†’            isTablet={isTablet}
   336â†’            sectionPadding={sectionPadding}
   337â†’          />
   338â†’
   339â†’          {/* Certifications Section */}
   340â†’          <CertificationsSection
   341â†’            profile={profile}
   342â†’            isMobile={isMobile}
   343â†’            isTablet={isTablet}
   344â†’            sectionPadding={sectionPadding}
   345â†’          />
   346â†’
   347â†’          {/* Skills Section - conditionally rendered */}
   348â†’          {sections.skills && (
   349â†’            <section style={{
   350â†’              padding: sectionPadding,
   351â†’              maxWidth: 'var(--layout-max-width)',
   352â†’              margin: '0 auto',
   353â†’              position: 'relative',
   354â†’              zIndex: 1
   355â†’            }}>
   356â†’              {/* Skills content would go here */}
   357â†’            </section>
   358â†’          )}
   359â†’
   360â†’          {/* Case Studies Section */}
   361â†’          <CaseStudiesSection
   362â†’            isMobile={isMobile}
   363â†’            isTablet={isTablet}
   364â†’            sectionPadding={sectionPadding}
   365â†’            hoveredCase={hoveredCase}
   366â†’            setHoveredCase={setHoveredCase}
   367â†’            onCaseClick={(study) => setModalCase(study)}
   368â†’          />
   369â†’
   370â†’          {/* Passion Projects Section */}
   371â†’          {sections.passionProjects && (
   372â†’            <PassionProjectsSection
   373â†’              isMobile={isMobile}
   374â†’              sectionPadding={sectionPadding}
   375â†’            />
   376â†’          )}
   377â†’
   378â†’          {/* Testimonials Section */}
   379â†’          <TestimonialsSection
   380â†’            isMobile={isMobile}
   381â†’            isTablet={isTablet}
   382â†’            sectionPadding={sectionPadding}
   383â†’          />
   384â†’
   385â†’          {/* Blog Section */}
   386â†’          {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   387â†’
   388â†’          {/* Final CTA */}
   389â†’          <section style={{
   390â†’            padding: isMobile ? '48px 24px 64px' : '64px 64px 80px',
   391â†’            maxWidth: '1000px',
   392â†’            margin: '0 auto',
   393â†’            textAlign: 'center',
   394â†’            position: 'relative',
   395â†’            zIndex: 1
   396â†’          }}>
   397â†’            <h2 style={{
   398â†’              fontSize: isMobile ? '10vw' : '7vw',
   399â†’              fontFamily: 'var(--font-serif)',
   400â†’              fontWeight: 400,
   401â†’              fontStyle: 'italic',
   402â†’              color: 'var(--color-text-primary)',
   403â†’              letterSpacing: '-0.03em',
   404â†’              lineHeight: 1,
   405â†’              marginBottom: 'var(--space-xl)'
   406â†’            }}>
   407â†’              Let's build
   408â†’            </h2>
   409â†’
   410â†’            <p style={{
   411â†’              fontSize: '16px',
   412â†’              color: 'var(--color-text-tertiary)',
   413â†’              maxWidth: '440px',
   414â†’              margin: '0 auto var(--space-xl)',
   415â†’              lineHeight: 1.6
   416â†’            }}>
   417â†’              Open to PM roles in AI, infrastructure, and Web3.
   418â†’              Particularly interested in where agents meet on-chain execution.
   419â†’              Based in {profile.location} ({profile.timezone}), flexible on remote.
   420â†’            </p>
   421â†’
   422â†’            {/* Omnibar-style CTA */}
   423â†’            <div style={{
   424â†’              display: 'inline-flex',
   425â†’              alignItems: 'center',
   426â†’              gap: 'var(--space-sm)',
   427â†’              padding: 'var(--space-sm)',
   428â†’              background: 'var(--color-surface-glass)',
   429â†’              backdropFilter: 'blur(12px)',
   430â†’              WebkitBackdropFilter: 'blur(12px)',
   431â†’              borderRadius: '6px',
   432â†’              border: '1px solid var(--color-border-light)',
   433â†’              boxShadow: '0 12px 40px rgba(0, 0, 0, 0.15)',
   434â†’              flexWrap: isMobile ? 'wrap' : 'nowrap',
   435â†’              justifyContent: 'center'
   436â†’            }}>
   437â†’              {/* Copy Email */}
   438â†’              <button
   439â†’                onClick={() => {
   440â†’                  navigator.clipboard.writeText(profile.email);
   441â†’                }}
   442â†’                className="footer-omnibar-btn"
   443â†’              >
   444â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   445â†’                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
   446â†’                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
   447â†’                </svg>
   448â†’                <span>Copy Email</span>
   449â†’              </button>
   450â†’
   451â†’              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   452â†’
   453â†’              {/* Resume */}
   454â†’              <a
   455â†’                href="/dmitrii-fotesco-resume.pdf"
   456â†’                target="_blank"
   457â†’                rel="noopener noreferrer"
   458â†’                className="footer-omnibar-btn"
   459â†’              >
   460â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   461â†’                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
   462â†’                  <polyline points="7 10 12 15 17 10" />
   463â†’                  <line x1="12" y1="15" x2="12" y2="3" />
   464â†’                </svg>
   465â†’                <span>Resume</span>
   466â†’              </a>
   467â†’
   468â†’              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   469â†’
   470â†’              {/* Book Time */}
   471â†’              <a
   472â†’                href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o="
   473â†’                target="_blank"
   474â†’                rel="noopener noreferrer"
   475â†’                className="footer-omnibar-btn footer-omnibar-btn-primary"
   476â†’              >
   477â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   478â†’                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
   479â†’                  <line x1="16" y1="2" x2="16" y2="6" />
   480â†’                  <line x1="8" y1="2" x2="8" y2="6" />
   481â†’                  <line x1="3" y1="10" x2="21" y2="10" />
   482â†’                </svg>
   483â†’                <span>Book Time</span>
   484â†’              </a>
   485â†’            </div>
   486â†’
   487â†’            {/* Social Icons Bar */}
   488â†’            <div style={{
   489â†’              display: 'flex',
   490â†’              justifyContent: 'center',
   491â†’              gap: 'var(--space-lg)',
   492â†’              marginTop: 'var(--space-xl)'
   493â†’            }}>
   494â†’              {/* LinkedIn */}
   495â†’              <a
   496â†’                href="https://www.linkedin.com/in/0xdmitri/"
   497â†’                target="_blank"
   498â†’                rel="noopener noreferrer"
   499â†’                title="LinkedIn"
   500â†’                style={{
   501â†’                  color: 'var(--color-text-tertiary)',
   502â†’                  transition: 'color 0.2s ease'
   503â†’                }}
   504â†’              >
   505â†’                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   506â†’                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
   507â†’                </svg>
   508â†’              </a>
   509â†’
   510â†’              {/* GitHub */}
   511â†’              <a
   512â†’                href="https://github.com/fotescodev"
   513â†’                target="_blank"
   514â†’                rel="noopener noreferrer"
   515â†’                title="GitHub"
   516â†’                style={{
   517â†’                  color: 'var(--color-text-tertiary)',
   518â†’                  transition: 'color 0.2s ease'
   519â†’                }}
   520â†’              >
   521â†’                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   522â†’                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
   523â†’                </svg>
   524â†’              </a>
   525â†’
   526â†’              {/* X / Twitter */}
   527â†’              <a
   528â†’                href="https://x.com/kolob0kk"
   529â†’                target="_blank"
   530â†’                rel="noopener noreferrer"
   531â†’                title="X / Twitter"
   532â†’                style={{
   533â†’                  color: 'var(--color-text-tertiary)',
   534â†’                  transition: 'color 0.2s ease'
   535â†’                }}
   536â†’              >
   537â†’                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
   538â†’                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
   539â†’                </svg>
   540â†’              </a>
   541â†’
   542â†’              {/* Telegram */}
   543â†’              <a
   544â†’                href="https://t.me/zimbru0x"
   545â†’                target="_blank"
   546â†’                rel="noopener noreferrer"
   547â†’                title="Telegram"
   548â†’                style={{
   549â†’                  color: 'var(--color-text-tertiary)',
   550â†’                  transition: 'color 0.2s ease'
   551â†’                }}
   552â†’              >
   553â†’                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   554â†’                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z" />
   555â†’                </svg>
   556â†’              </a>
   557â†’            </div>
   558â†’          </section>
   559â†’
   560â†’          {/* Omnibar */}
   561â†’          <Omnibar />
   562â†’
   563â†’          {/* Case Study Modal */}
   564â†’          {modalCase && (
   565â†’            <CaseStudyDrawer
   566â†’              isOpen={!!modalCase}
   567â†’              onClose={() => setModalCase(null)}
   568â†’              caseStudy={modalCase}
   569â†’              isMobile={isMobile}
   570â†’              onNavigate={(study) => setModalCase(study)}
   571â†’            />
   572â†’          )}
   573â†’
   574â†’        </main>
   575â†’
   576â†’        {/* Footer */}
   577â†’        <FooterSection isMobile={isMobile} />
   578â†’      </div>
   579â†’    </>
   580â†’  );
   581â†’}
   582â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>

```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
Now I have a complete picture. The Portfolio.tsx shows the page shell structure:
- AmbientBackground
- Navigation (with mobile menu)
- Main content with all sections
- Omnibar
- FooterSection

The Blog section is rendered at line 386: `{sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}`

Now I need to update the plan with more specific details about how to create the page shell for BlogPage and BlogPostPage. Let me update the plan file.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

Now I have the complete picture. Let me finalize the plan with specific implementation details.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="write" data-tool-name="Edit"><details>
<summary>Tool use: **Edit**</summary>

```
The file /Users/dfotesco/.claude/plans/purring-gliding-peach.md has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
     1â†’# Blog Page Implementation Plan
     2â†’
     3â†’## Goal
     4â†’Convert the blog from a modal-based approach to dedicated pages while keeping a preview section on the homepage.
     5â†’
     6â†’## URL Structure
     7â†’- `/#/blog` - Blog index page (list of all posts)
     8â†’- `/#/blog/:slug` - Individual blog post page
     9â†’
    10â†’## Files to Create
    11â†’
    12â†’### 1. `src/lib/blog.ts`
    13â†’Extract reusable blog logic (currently in `Blog.tsx`):
    14â†’```ts
    15â†’export function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string }
    16â†’export function calculateReadingTime(content: string): number
    17â†’export function extractSlugFromFilename(path: string): string
    18â†’export function parseBlogPosts(): BlogPost[]
    19â†’export function getRelatedPosts(currentPost: BlogPost, allPosts: BlogPost[]): BlogPost[]
    20â†’export const blogPosts: BlogPost[]  // Pre-parsed posts
    21â†’```
    22â†’
    23â†’### 2. `src/pages/BlogPage.tsx`
    24â†’Full blog list page with page shell:
    25â†’- Navigation bar (reuse from Portfolio.tsx pattern)
    26â†’- AmbientBackground
    27â†’- Blog list (full list, not limited)
    28â†’- Click on post â†’ `navigate(`/blog/${post.slug}`)`
    29â†’- FooterSection
    30â†’- Omnibar
    31â†’
    32â†’### 3. `src/pages/BlogPostPage.tsx`
    33â†’Individual blog post page (convert modal to page):
    34â†’- Get slug from `useParams()`
    35â†’- Find post using `blogPosts.find(p => p.slug === slug)`
    36â†’- Same page shell as BlogPage
    37â†’- All modal features converted to page:
    38â†’  - Reading progress bar (fixed at top)
    39â†’  - TOC sidebar (desktop)
    40â†’  - Social sharing, likes
    41â†’  - Related posts â†’ `navigate(`/blog/${slug}`)`
    42â†’  - Prev/Next navigation â†’ `navigate()`
    43â†’- Back link â†’ `/blog`
    44â†’- Scroll to top on mount via `useEffect`
    45â†’
    46â†’### 4. `src/components/sections/BlogSection.tsx`
    47â†’New preview component for homepage:
    48â†’- Show only 3 recent posts (configurable via prop)
    49â†’- "View all" link â†’ `/blog`
    50â†’- Click on post â†’ `navigate(`/blog/${post.slug}`)`
    51â†’- No modal, just navigation
    52â†’
    53â†’## Files to Modify
    54â†’
    55â†’### 1. `src/App.tsx`
    56â†’Add routes (after existing routes):
    57â†’```tsx
    58â†’<Route path="/blog" element={<BlogPage />} />
    59â†’<Route path="/blog/:slug" element={<BlogPostPage />} />
    60â†’```
    61â†’
    62â†’### 2. `src/components/Portfolio.tsx`
    63â†’- Change import from `'./Blog'` to `'./sections/BlogSection'`
    64â†’- Update usage: `<BlogSection ... />` (same props)
    65â†’
    66â†’## Files to Delete
    67â†’
    68â†’### `src/components/Blog.tsx`
    69â†’Logic moved to `src/lib/blog.ts` and `src/components/sections/BlogSection.tsx`
    70â†’
    71â†’### `src/components/BlogPostModal.tsx`
    72â†’Logic moved to `src/pages/BlogPostPage.tsx`
    73â†’
    74â†’## Implementation Order
    75â†’
    76â†’1. **Create `src/lib/blog.ts`** - Extract and export blog parsing logic
    77â†’2. **Create `src/components/sections/BlogSection.tsx`** - Homepage preview with navigation
    78â†’3. **Update `src/components/Portfolio.tsx`** - Use new BlogSection import
    79â†’4. **Create `src/pages/BlogPage.tsx`** - Full blog list page
    80â†’5. **Create `src/pages/BlogPostPage.tsx`** - Individual post page
    81â†’6. **Update `src/App.tsx`** - Add new routes
    82â†’7. **Delete old files** - Blog.tsx and BlogPostModal.tsx
    83â†’
    84â†’## Navigation Updates
    85â†’
    86â†’Update navigation links in Portfolio.tsx (lines 224-231 and 297-310):
    87â†’- Change `href="#blog"` to use `Link` or `navigate('/blog')`
    88â†’- Mobile menu: same change
    89â†’
    90â†’## Key Details
    91â†’
    92â†’- **Page shell pattern**: Copy navigation structure from Portfolio.tsx (lines 158-272)
    93â†’- **HashRouter**: All routes use `/#/` prefix (existing pattern)
    94â†’- **Theme**: Wrap pages in ThemeProvider (already at App level)
    95â†’- **Responsive**: Pass `isMobile`/`isTablet` props (use same window width logic)
    96â†’- **Scroll reset**: Add `useEffect(() => window.scrollTo(0, 0), [slug])` in BlogPostPage
    97â†’
```
</details></tool-use>

_**Agent (claude-opus-4-5-20251101)**_

<think><details><summary>Thought Process</summary>
The plan is complete. Let me now exit plan mode and present this to the user for approval.
</details></think>

_**Agent (claude-opus-4-5-20251101)**_

The plan is ready. Here's a summary:

## Summary

**What we're doing**: Converting the blog from modal-based to dedicated pages at `/blog` and `/blog/:slug`, while keeping a 3-post preview on the homepage.

**New files (4)**:
- `src/lib/blog.ts` - Shared blog parsing logic
- `src/pages/BlogPage.tsx` - Full blog list page
- `src/pages/BlogPostPage.tsx` - Individual post page (with all current features)
- `src/components/sections/BlogSection.tsx` - Homepage preview section

**Modified files (2)**:
- `src/App.tsx` - Add `/blog` and `/blog/:slug` routes
- `src/components/Portfolio.tsx` - Use new BlogSection, update nav links

**Deleted files (2)**:
- `src/components/Blog.tsx` - Logic moved to new files
- `src/components/BlogPostModal.tsx` - Converted to BlogPostPage

All current features (reading progress, TOC, sharing, likes, related posts) will be preserved on the post page.

_**Agent (claude-opus-4-5-20251101)**_

<tool-use data-tool-type="unknown" data-tool-name="ExitPlanMode"><details>
<summary>Tool use: **ExitPlanMode**</summary>

```
The user doesn't want to proceed with this tool use. The tool use was rejected (eg. if it was a file edit, the new_string was NOT written to the file). STOP what you are doing and wait for the user to tell you how to proceed.
```
</details></tool-use>

_**User**_

[Request interrupted by user for tool use]

