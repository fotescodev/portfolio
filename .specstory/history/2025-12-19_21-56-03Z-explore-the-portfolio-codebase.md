<!-- Generated by SpecStory -->

# 2025-12-19 21:56:03Z

<!-- Claude Code Session 13cb9e86-8b97-460c-a106-a5bcc657213e (2025-12-19_21-56-03Z) -->

_**User (sidechain)**_

Explore the portfolio codebase to understand:

1. Current routing setup in App.tsx - how are routes defined?
2. How does the HashRouter work with existing routes (/, /:company/:role)?
3. Look at how pages like BasePortfolio and VariantPortfolio are structured
4. Check if there's any existing pattern for sub-pages or nested routes
5. Look at the case study drawer (CaseStudyDrawer.tsx) - does it use routing or is it also a modal?

Focus on understanding the navigation patterns so we can add a /blog/:slug route properly.

This is research only - no code changes.

---

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

I'll explore the portfolio codebase to understand the routing setup and navigation patterns. Let me start by examining the key files.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/App.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

Result:

```
1→import { HashRouter, Routes, Route } from 'react-router-dom';
     2→import { ThemeProvider } from './context/ThemeContext';
     3→import { HelmetProvider } from 'react-helmet-async';
     4→import BasePortfolio from './pages/BasePortfolio';
     5→import VariantPortfolio from './pages/VariantPortfolio';
     6→
     7→function App() {
     8→  return (
     9→    <HelmetProvider>
    10→      <ThemeProvider>
    11→        <HashRouter>
    12→          <Routes>
    13→            {/* Base portfolio route */}
    14→            <Route path="/" element={<BasePortfolio />} />
    15→
    16→            {/* Variant portfolio routes: /#/company/role */}
    17→            <Route path="/:company/:role" element={<VariantPortfolio />} />
    18→          </Routes>
    19→        </HashRouter>
    20→      </ThemeProvider>
    21→    </HelmetProvider>
    22→  );
    23→}
    24→
    25→export default App;
    26→
```

Error:

```
EISDIR: illegal operation on a directory, read
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/main.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/ThemeToggle.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/FooterSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/design-system/theme-toggle.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyHeader.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyMetrics.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/common/SEO.tsx
/Users/dfotesco/Portfolio/portfolio/src/context/ThemeContext.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/SocialSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/TestimonialsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyContent.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyFooter.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyHero.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyLinks.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/BlogPostModal.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/LikeAnalytics.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/App.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/AboutSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/context/VariantContext.tsx
/Users/dfotesco/Portfolio/portfolio/src/pages/BasePortfolio.tsx
/Users/dfotesco/Portfolio/portfolio/src/pages/VariantPortfolio.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/Blog.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/Portfolio.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyDrawer.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/common/AmbientBackground.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/common/Omnibar.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/CertificationsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/PassionProjectsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/mobile/mobile.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/navigation/navigation.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/CaseStudiesSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/case-study/case-study.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/HeroSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/ExperienceSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/design-system/components.test.tsx
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me examine the page components and the CaseStudyDrawer:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/pages/BasePortfolio.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/pages/VariantPortfolio.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/case-study/CaseStudyDrawer.tsx`

Result:

```
1→/**
     2→ * Base Portfolio Page
     3→ *
     4→ * Default portfolio without variant customization
     5→ */
     6→
     7→import { VariantProvider } from '../context/VariantContext';
     8→import { profile } from '../lib/content';
     9→import Portfolio from '../components/Portfolio';
    10→
    11→export default function BasePortfolio() {
    12→  return (
    13→    <VariantProvider profile={profile}>
    14→      <Portfolio />
    15→    </VariantProvider>
    16→  );
    17→}
    18→
```

Result:

```
1→/**
     2→ * Variant Portfolio Page
     3→ *
     4→ * Loads a personalized portfolio variant based on URL parameters
     5→ * Example: /bloomberg/senior-engineer
     6→ */
     7→
     8→import { useState, useEffect } from 'react';
     9→import { useParams, Navigate } from 'react-router-dom';
    10→import { loadVariant, mergeProfile } from '../lib/variants';
    11→import { VariantProvider } from '../context/VariantContext';
    12→import Portfolio from '../components/Portfolio';
    13→import type { Variant } from '../types/variant';
    14→
    15→export default function VariantPortfolio() {
    16→  const { company, role } = useParams<{ company: string; role: string }>();
    17→  const [variant, setVariant] = useState<Variant | null>(null);
    18→  const [loading, setLoading] = useState(true);
    19→  const [notFound, setNotFound] = useState(false);
    20→
    21→  useEffect(() => {
    22→    async function load() {
    23→      if (!company || !role) {
    24→        setNotFound(true);
    25→        setLoading(false);
    26→        return;
    27→      }
    28→
    29→      // Generate slug from URL params
    30→      const slug = `${company.toLowerCase()}-${role.toLowerCase()}`;
    31→
    32→      try {
    33→        const loadedVariant = await loadVariant(slug);
    34→
    35→        if (!loadedVariant) {
    36→          setNotFound(true);
    37→        } else {
    38→          setVariant(loadedVariant);
    39→        }
    40→      } catch (error) {
    41→        console.error('Error loading variant:', error);
    42→        setNotFound(true);
    43→      } finally {
    44→        setLoading(false);
    45→      }
    46→    }
    47→
    48→    load();
    49→  }, [company, role]);
    50→
    51→  if (loading) {
    52→    return (
    53→      <div style={{
    54→        display: 'flex',
    55→        alignItems: 'center',
    56→        justifyContent: 'center',
    57→        height: '100vh',
    58→        fontFamily: 'system-ui, sans-serif',
    59→        color: 'var(--color-text-primary)'
    60→      }}>
    61→        Loading personalized portfolio...
    62→      </div>
    63→    );
    64→  }
    65→
    66→  if (notFound || !variant) {
    67→    return <Navigate to="/" replace />;
    68→  }
    69→
    70→  // Merge base profile with variant overrides
    71→  const mergedProfile = mergeProfile(variant);
    72→
    73→  return (
    74→    <VariantProvider profile={mergedProfile} variant={variant}>
    75→      <Portfolio />
    76→    </VariantProvider>
    77→  );
    78→}
    79→
```

Result:

```
1→import { useEffect, useRef, useState } from 'react';
     2→import { motion, AnimatePresence } from 'framer-motion';
     3→import type { CaseStudy } from '../../types/portfolio';
     4→import { caseStudies } from '../../lib/content';
     5→import CaseStudyHero from './CaseStudyHero';
     6→import CaseStudyContent from './CaseStudyContent';
     7→import CaseStudyFooter from './CaseStudyFooter';
     8→import SEO from '../common/SEO';
     9→
    10→interface CaseStudyDrawerProps {
    11→    isOpen: boolean;
    12→    onClose: () => void;
    13→    caseStudy: CaseStudy | null;
    14→    isMobile: boolean;
    15→    onNavigate: (study: CaseStudy) => void;
    16→}
    17→
    18→export default function CaseStudyDrawer({ isOpen, onClose, caseStudy, isMobile, onNavigate }: CaseStudyDrawerProps) {
    19→    const scrollRef = useRef<HTMLDivElement>(null);
    20→    const [showStickyHeader, setShowStickyHeader] = useState(false);
    21→
    22→    useEffect(() => {
    23→        if (isOpen) {
    24→            document.body.style.overflow = 'hidden';
    25→            // Reset scroll position when opening (which naturally resets sticky header)
    26→            if (scrollRef.current) {
    27→                scrollRef.current.scrollTop = 0;
    28→            }
    29→        } else {
    30→            document.body.style.overflow = 'unset';
    31→        }
    32→        return () => {
    33→            document.body.style.overflow = 'unset';
    34→        };
    35→    }, [isOpen, caseStudy]);
    36→
    37→    // Handle ESC key
    38→    useEffect(() => {
    39→        const handleKeyDown = (e: KeyboardEvent) => {
    40→            if (e.key === 'Escape' && isOpen) {
    41→                onClose();
    42→            }
    43→        };
    44→        window.addEventListener('keydown', handleKeyDown);
    45→        return () => window.removeEventListener('keydown', handleKeyDown);
    46→    }, [isOpen, onClose]);
    47→
    48→    // Track scroll for sticky header
    49→    const handleScroll = () => {
    50→        if (scrollRef.current) {
    51→            setShowStickyHeader(scrollRef.current.scrollTop > 120);
    52→        }
    53→    };
    54→
    55→    if (!caseStudy) return null;
    56→
    57→    return (
    58→        <AnimatePresence>
    59→            {isOpen && (
    60→                <>
    61→                    {/* Backdrop */}
    62→                    <motion.div
    63→                        initial={{ opacity: 0 }}
    64→                        animate={{ opacity: 1 }}
    65→                        exit={{ opacity: 0 }}
    66→                        transition={{ duration: 0.3 }}
    67→                        onClick={onClose}
    68→                        style={{
    69→                            position: 'fixed',
    70→                            inset: 0,
    71→                            background: 'var(--color-backdrop)',
    72→                            backdropFilter: 'blur(8px)',
    73→                            zIndex: 'var(--drawer-z-index)',
    74→                            cursor: 'pointer'
    75→                        }}
    76→                    />
    77→
    78→                    {/* Drawer Panel */}
    79→                    <motion.div
    80→                        ref={scrollRef}
    81→                        initial={isMobile ? { y: '100%' } : { x: '100%' }}
    82→                        animate={isMobile ? { y: 0 } : { x: 0 }}
    83→                        exit={isMobile ? { y: '100%' } : { x: '100%' }}
    84→                        transition={{ type: 'spring', damping: 25, stiffness: 200 }}
    85→                        onScroll={handleScroll}
    86→                        style={{
    87→                            position: 'fixed',
    88→                            top: 0,
    89→                            right: 0,
    90→                            bottom: 0,
    91→                            width: isMobile ? '100%' : 'var(--drawer-width)',
    92→                            height: '100%',
    93→                            background: 'var(--color-background)',
    94→                            zIndex: 'calc(var(--drawer-z-index) + 1)',
    95→                            overflowY: 'auto',
    96→                            overflowX: 'hidden',
    97→                            boxShadow: 'var(--shadow-drawer)',
    98→                            borderLeft: isMobile ? 'none' : '1px solid var(--color-border-light)'
    99→                        }}
   100→                        onClick={(e) => e.stopPropagation()}
   101→                    >
   102→                        {/* Dynamic SEO */}
   103→                        <SEO
   104→                            title={caseStudy.title}
   105→                            description={caseStudy.hook.headline}
   106→                            image={caseStudy.hook.thumbnail || undefined}
   107→                            path={`?case-study=${caseStudy.id}`}
   108→                        />
   109→
   110→                        {/* Mobile: Fixed top bar with close button (iOS-safe) */}
   111→                        {isMobile && (
   112→                            <div style={{
   113→                                position: 'fixed',
   114→                                top: 0,
   115→                                left: 0,
   116→                                right: 0,
   117→                                height: 'calc(48px + env(safe-area-inset-top, 0px))',
   118→                                paddingTop: 'env(safe-area-inset-top, 0px)',
   119→                                background: 'var(--color-background)',
   120→                                borderBottom: '1px solid var(--color-border-light)',
   121→                                display: 'flex',
   122→                                alignItems: 'center',
   123→                                justifyContent: 'space-between',
   124→                                padding: '0 var(--space-lg)',
   125→                                paddingLeft: 'max(var(--space-lg), env(safe-area-inset-left, 0px))',
   126→                                paddingRight: 'max(var(--space-lg), env(safe-area-inset-right, 0px))',
   127→                                zIndex: 9999,
   128→                                boxSizing: 'border-box'
   129→                            }}>
   130→                                <span style={{
   131→                                    fontSize: '12px',
   132→                                    fontWeight: 500,
   133→                                    letterSpacing: '0.05em',
   134→                                    textTransform: 'uppercase',
   135→                                    color: 'var(--color-text-muted)'
   136→                                }}>
   137→                                    Case Study
   138→                                </span>
   139→                                <button
   140→                                    onClick={onClose}
   141→                                    aria-label="Close"
   142→                                    style={{
   143→                                        width: '36px',
   144→                                        height: '36px',
   145→                                        background: 'var(--color-surface-glass)',
   146→                                        border: '1px solid var(--color-border)',
   147→                                        borderRadius: '8px',
   148→                                        color: 'var(--color-text-secondary)',
   149→                                        cursor: 'pointer',
   150→                                        fontSize: '16px',
   151→                                        display: 'flex',
   152→                                        alignItems: 'center',
   153→                                        justifyContent: 'center',
   154→                                        WebkitTapHighlightColor: 'transparent',
   155→                                        touchAction: 'manipulation'
   156→                                    }}
   157→                                >
   158→                                    ✕
   159→                                </button>
   160→                            </div>
   161→                        )}
   162→
   163→                        {/* Desktop: Sticky Header - appears on scroll */}
   164→                        {!isMobile && (
   165→                            <motion.div
   166→                                initial={false}
   167→                                animate={{
   168→                                    y: showStickyHeader ? 0 : -60,
   169→                                    opacity: showStickyHeader ? 1 : 0
   170→                                }}
   171→                                transition={{ duration: 0.2 }}
   172→                                style={{
   173→                                    position: 'sticky',
   174→                                    top: 0,
   175→                                    left: 0,
   176→                                    right: 0,
   177→                                    height: '56px',
   178→                                    background: 'var(--color-background)',
   179→                                    borderBottom: '1px solid var(--color-border-light)',
   180→                                    display: 'flex',
   181→                                    alignItems: 'center',
   182→                                    justifyContent: 'space-between',
   183→                                    padding: '0 var(--space-lg)',
   184→                                    zIndex: 20,
   185→                                    pointerEvents: showStickyHeader ? 'auto' : 'none'
   186→                                }}
   187→                            >
   188→                                <span style={{
   189→                                    fontSize: '14px',
   190→                                    fontFamily: 'var(--font-serif)',
   191→                                    fontStyle: 'italic',
   192→                                    color: 'var(--color-text-secondary)',
   193→                                    overflow: 'hidden',
   194→                                    textOverflow: 'ellipsis',
   195→                                    whiteSpace: 'nowrap',
   196→                                    maxWidth: 'calc(100% - 50px)'
   197→                                }}>
   198→                                    {caseStudy.title}
   199→                                </span>
   200→                                <button
   201→                                    onClick={onClose}
   202→                                    aria-label="Close"
   203→                                    style={{
   204→                                        width: '32px',
   205→                                        height: '32px',
   206→                                        background: 'none',
   207→                                        border: 'none',
   208→                                        color: 'var(--color-text-tertiary)',
   209→                                        cursor: 'pointer',
   210→                                        fontSize: '16px',
   211→                                        display: 'flex',
   212→                                        alignItems: 'center',
   213→                                        justifyContent: 'center'
   214→                                    }}
   215→                                >
   216→                                    ✕
   217→                                </button>
   218→                            </motion.div>
   219→                        )}
   220→
   221→                        {/* Desktop: Fixed Close Button (when not scrolled) */}
   222→                        {!isMobile && (
   223→                            <motion.button
   224→                                onClick={onClose}
   225→                                aria-label="Close case study"
   226→                                animate={{ opacity: showStickyHeader ? 0 : 1 }}
   227→                                style={{
   228→                                    position: 'absolute',
   229→                                    top: 'var(--space-lg)',
   230→                                    right: 'var(--space-lg)',
   231→                                    width: '40px',
   232→                                    height: '40px',
   233→                                    background: 'var(--color-surface-glass)',
   234→                                    border: '1px solid var(--color-border-light)',
   235→                                    borderRadius: '50%',
   236→                                    color: 'var(--color-text-secondary)',
   237→                                    display: 'flex',
   238→                                    alignItems: 'center',
   239→                                    justifyContent: 'center',
   240→                                    cursor: 'pointer',
   241→                                    zIndex: 15,
   242→                                    backdropFilter: 'blur(8px)',
   243→                                    transition: 'all 0.2s ease',
   244→                                    fontSize: '16px',
   245→                                    pointerEvents: showStickyHeader ? 'none' : 'auto'
   246→                                }}
   247→                                onMouseEnter={(e) => {
   248→                                    e.currentTarget.style.background = 'var(--color-surface-glass-strong)';
   249→                                    e.currentTarget.style.color = 'var(--color-text-primary)';
   250→                                }}
   251→                                onMouseLeave={(e) => {
   252→                                    e.currentTarget.style.background = 'var(--color-surface-glass)';
   253→                                    e.currentTarget.style.color = 'var(--color-text-secondary)';
   254→                                }}
   255→                            >
   256→                                ✕
   257→                            </motion.button>
   258→                        )}
   259→
   260→                        {/* Content */}
   261→                        <div style={{
   262→                            marginTop: isMobile ? 'calc(48px + env(safe-area-inset-top, 0px))' : (showStickyHeader ? '-56px' : 0),
   263→                            paddingBottom: 'var(--space-3xl)'
   264→                        }}>
   265→                            {/* HERO: Title + Primary Metric + Meta */}
   266→                            <CaseStudyHero caseStudy={caseStudy} isMobile={isMobile} />
   267→
   268→                            {/* CONTENT: Markdown narrative */}
   269→                            <CaseStudyContent caseStudy={caseStudy} isMobile={isMobile} />
   270→
   271→                            {/* FOOTER: CTA + Nav */}
   272→                            <CaseStudyFooter
   273→                                caseStudy={caseStudy}
   274→                                prevStudy={caseStudies.find(s => s.id === caseStudy.id - 1) || null}
   275→                                nextStudy={caseStudies.find(s => s.id === caseStudy.id + 1) || null}
   276→                                onNavigate={onNavigate}
   277→                                isMobile={isMobile}
   278→                            />
   279→                        </div>
   280→                    </motion.div>
   281→                </>
   282→            )}
   283→        </AnimatePresence>
   284→    );
   285→}
   286→
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me examine the Portfolio component and look for how the drawer is triggered:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/Portfolio.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/sections/CaseStudiesSection.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

Result:

```
1→import { useState, useEffect } from 'react';
     2→import Blog from './Blog';
     3→import ThemeToggle from './ThemeToggle';
     4→import HeroSection from './sections/HeroSection';
     5→import AboutSection from './sections/AboutSection';
     6→import ExperienceSection from './sections/ExperienceSection';
     7→import CertificationsSection from './sections/CertificationsSection';
     8→import TestimonialsSection from './sections/TestimonialsSection';
     9→import PassionProjectsSection from './sections/PassionProjectsSection';
    10→
    11→import CaseStudiesSection from './sections/CaseStudiesSection';
    12→import FooterSection from './sections/FooterSection';
    13→import CaseStudyDrawer from './case-study/CaseStudyDrawer';
    14→import AmbientBackground from './common/AmbientBackground';
    15→import Omnibar from './common/Omnibar';
    16→import { useVariant } from '../context/VariantContext';
    17→import type { CaseStudy } from '../types/portfolio';
    18→
    19→export default function Portfolio() {
    20→  // Get profile from variant context (either base or merged with variant)
    21→  const { profile } = useVariant();
    22→
    23→  const [isLoaded, setIsLoaded] = useState(false);
    24→  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    25→  const [windowWidth, setWindowWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1200);
    26→  const [modalCase, setModalCase] = useState<CaseStudy | null>(null);
    27→  const [hoveredCase, setHoveredCase] = useState<number | null>(null);
    28→
    29→  useEffect(() => {
    30→    setIsLoaded(true);
    31→
    32→    const handleResize = () => setWindowWidth(window.innerWidth);
    33→    window.addEventListener('resize', handleResize);
    34→    return () => window.removeEventListener('resize', handleResize);
    35→  }, []);
    36→
    37→  // Handle modal scroll lock and ESC key
    38→  useEffect(() => {
    39→    if (modalCase) {
    40→      document.body.style.overflow = 'hidden';
    41→      const handleEsc = (e: KeyboardEvent) => {
    42→        if (e.key === 'Escape') setModalCase(null);
    43→      };
    44→      window.addEventListener('keydown', handleEsc);
    45→      return () => {
    46→        document.body.style.overflow = '';
    47→        window.removeEventListener('keydown', handleEsc);
    48→      };
    49→    } else {
    50→      document.body.style.overflow = '';
    51→    }
    52→  }, [modalCase]);
    53→
    54→  const isMobile = windowWidth < 768;
    55→  const isTablet = windowWidth >= 768 && windowWidth < 1024;
    56→
    57→  const { sections } = profile;
    58→
    59→  const sectionPadding = isMobile
    60→    ? 'var(--space-2xl) var(--space-lg)'
    61→    : isTablet
    62→      ? 'var(--space-3xl) var(--space-2xl)'
    63→      : 'var(--space-4xl) var(--layout-padding-x)';
    64→
    65→  const handleNavClick = (e: React.MouseEvent<HTMLAnchorElement> | null, id: string) => {
    66→    if (e) e.preventDefault();
    67→    const element = document.getElementById(id);
    68→    if (element) {
    69→      const offset = 80; // Nav height buffer
    70→      const elementPosition = element.getBoundingClientRect().top;
    71→      const offsetPosition = elementPosition + window.pageYOffset - offset;
    72→
    73→      window.scrollTo({
    74→        top: offsetPosition,
    75→        behavior: 'smooth'
    76→      });
    77→    }
    78→    if (isMobile) setMobileMenuOpen(false);
    79→  };
    80→
    81→  return (
    82→    <>
    83→      <style>{`
    84→        .nav-link {
    85→          color: var(--color-text-tertiary);
    86→          text-decoration: none;
    87→          font-size: 13px;
    88→          font-weight: 500;
    89→          letter-spacing: 0.05em;
    90→          text-transform: uppercase;
    91→          transition: color 0.2s ease;
    92→          cursor: pointer;
    93→        }
    94→        .nav-link:hover {
    95→          color: var(--color-text-primary);
    96→        }
    97→        .nav-cta {
    98→          color: var(--color-background);
    99→          background: var(--color-accent);
   100→          padding: 12px 24px;
   101→          text-decoration: none;
   102→          font-size: 13px;
   103→          font-weight: 600;
   104→          letter-spacing: 0.02em;
   105→          transition: all 0.2s ease;
   106→        }
   107→        .nav-cta:hover {
   108→          background: var(--color-accent-hover);
   109→        }
   110→        .mobile-menu-link {
   111→          color: var(--color-text-primary);
   112→          text-decoration: none;
   113→          font-family: var(--font-serif);
   114→          font-size: 42px;
   115→          font-style: italic;
   116→          padding: 16px 0;
   117→          border-bottom: 1px solid var(--color-border);
   118→        }
   119→        .footer-omnibar-btn {
   120→          display: flex;
   121→          align-items: center;
   122→          gap: 10px;
   123→          padding: 16px 24px;
   124→          background: transparent;
   125→          border: none;
   126→          border-radius: 2px;
   127→          color: var(--color-text-primary);
   128→          font-size: 14px;
   129→          font-weight: 500;
   130→          letter-spacing: 0.02em;
   131→          cursor: pointer;
   132→          white-space: nowrap;
   133→          text-decoration: none;
   134→          transition: background 0.2s ease;
   135→        }
   136→        .footer-omnibar-btn:hover {
   137→          background: var(--color-tag-hover);
   138→        }
   139→        .footer-omnibar-btn-primary {
   140→          background: transparent;
   141→          border: 1px solid var(--color-accent);
   142→          color: var(--color-accent);
   143→          font-weight: 600;
   144→        }
   145→        .footer-omnibar-btn-primary:hover {
   146→          background: var(--color-accent);
   147→          color: var(--color-background);
   148→        }
   149→        .social-link {
   150→          color: var(--color-separator);
   151→          text-decoration: none;
   152→          font-size: 12px;
   153→          font-weight: 500;
   154→          letter-spacing: 0.08em;
   155→          text-transform: uppercase;
   156→          transition: color 0.2s ease;
   157→        }
   158→        .social-link:hover {
   159→          color: var(--color-text-tertiary);
   160→        }
   161→      `}</style>
   162→
   163→      <div style={{
   164→        minHeight: '100vh',
   165→        background: 'var(--color-background)',
   166→        color: 'var(--color-text-primary)',
   167→        transition: 'background var(--transition-medium), color var(--transition-medium)',
   168→        position: 'relative'
   169→      }}>
   170→        <a className="skip-link" href="#main-content">
   171→          Skip to content
   172→        </a>
   173→
   174→        <div className="wide-screen-vignette" />
   175→        <AmbientBackground />
   176→
   177→        {/* Navigation - hidden when drawer is open on mobile */}
   178→        <nav
   179→          aria-label="Primary"
   180→          style={{
   181→            position: 'fixed',
   182→            top: 0,
   183→            left: 0,
   184→            right: 0,
   185→            zIndex: 100,
   186→            background: 'var(--color-nav-bg)',
   187→            backdropFilter: 'blur(12px)',
   188→            WebkitBackdropFilter: 'blur(12px)',
   189→            borderBottom: '1px solid var(--color-border-light)',
   190→            opacity: isLoaded ? 1 : 0,
   191→            transform: isLoaded ? 'translateY(0)' : 'translateY(-20px)',
   192→            transition: 'all 0.8s cubic-bezier(0.16, 1, 0.3, 1)',
   193→            display: (isMobile && modalCase) ? 'none' : 'block'
   194→          }}
   195→        >
   196→          <div style={{
   197→            maxWidth: 'var(--layout-max-width)',
   198→            margin: '0 auto',
   199→            padding: isMobile
   200→              ? 'var(--nav-height-mobile) var(--space-lg)'
   201→              : 'var(--nav-height) var(--space-3xl)',
   202→            display: 'flex',
   203→            justifyContent: 'space-between',
   204→            alignItems: 'center'
   205→          }}>
   206→            {/* Logo */}
   207→            <div style={{
   208→              fontFamily: 'var(--font-serif)',
   209→              fontSize: '24px',
   210→              fontStyle: 'italic',
   211→              fontWeight: 700,
   212→              zIndex: 101,
   213→              position: 'relative'
   214→            }}>
   215→              <a
   216→                href="#"
   217→                onClick={(e) => {
   218→                  e.preventDefault();
   219→                  // Close any open drawer
   220→                  setModalCase(null);
   221→                  // Close mobile menu if open
   222→                  setMobileMenuOpen(false);
   223→                  // Scroll to top
   224→                  window.scrollTo({ top: 0, behavior: 'smooth' });
   225→                  // Clear URL hash if any
   226→                  if (window.location.hash) {
   227→                    window.history.pushState(null, '', window.location.pathname);
   228→                  }
   229→                }}
   230→                style={{
   231→                  textDecoration: 'none',
   232→                  color: 'var(--color-text-primary)',
   233→                  transition: 'color 0.4s ease',
   234→                  cursor: 'pointer'
   235→                }}
   236→              >
   237→                {profile.name}
   238→              </a>
   239→            </div>
   240→
   241→
   242→            {/* Desktop Navigation */}
   243→            {!isMobile && (
   244→              <div style={{ display: 'flex', gap: 'var(--space-xl)', alignItems: 'center' }}>
   245→                {['Work', 'About', 'Blog'].map((item) => (
   246→                  <a
   247→                    key={item}
   248→                    href={`#${item.toLowerCase()}`}
   249→                    onClick={(e) => handleNavClick(e, item.toLowerCase())}
   250→                    className="nav-link"
   251→                  >
   252→                    {item}
   253→                  </a>
   254→                ))}
   255→                <ThemeToggle />
   256→                <a href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o=" target="_blank" rel="noopener noreferrer" className="nav-cta">
   257→                  Get in Touch
   258→                </a>
   259→              </div>
   260→            )}
   261→
   262→            {/* Mobile Menu Button */}
   263→            {isMobile && (
   264→              <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--space-sm)' }}>
   265→                <ThemeToggle isMobile />
   266→                <button
   267→                  type="button"
   268→                  onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
   269→                  aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}
   270→                  aria-expanded={mobileMenuOpen}
   271→                  aria-controls="mobile-menu"
   272→                  style={{
   273→                    background: 'transparent',
   274→                    border: 'none',
   275→                    padding: 'var(--space-sm)',
   276→                    cursor: 'pointer',
   277→                    zIndex: 101,
   278→                    position: 'relative',
   279→                    color: 'var(--color-text-primary)'
   280→                  }}
   281→                >
   282→                  <span style={{
   283→                    fontSize: '14px',
   284→                    textTransform: 'uppercase',
   285→                    letterSpacing: '0.1em',
   286→                    fontWeight: 600
   287→                  }}>
   288→                    {mobileMenuOpen ? 'Close' : 'Menu'}
   289→                  </span>
   290→                </button>
   291→              </div>
   292→            )}
   293→          </div>
   294→        </nav>
   295→
   296→        {/* Mobile Menu Overlay */}
   297→        {isMobile && (
   298→          <div
   299→            id="mobile-menu"
   300→            role="dialog"
   301→            aria-modal="true"
   302→            aria-label="Navigation menu"
   303→            style={{
   304→              position: 'fixed',
   305→              top: 0,
   306→              left: 0,
   307→              right: 0,
   308→              bottom: 0,
   309→              background: 'var(--color-background)',
   310→              zIndex: 99,
   311→              display: 'flex',
   312→              flexDirection: 'column',
   313→              justifyContent: 'center',
   314→              padding: '0 var(--space-lg)',
   315→              opacity: mobileMenuOpen ? 1 : 0,
   316→              pointerEvents: mobileMenuOpen ? 'auto' : 'none',
   317→              transition: 'opacity 0.3s ease, background 0.4s ease'
   318→            }}>
   319→            {['Work', 'About', 'Blog', 'Contact'].map((item, i) => (
   320→              <a
   321→                key={item}
   322→                href={item === 'Contact' ? `mailto:${profile.email}` : `#${item.toLowerCase()}`}
   323→                onClick={(e) => {
   324→                  if (item !== 'Contact') {
   325→                    handleNavClick(e, item.toLowerCase());
   326→                  } else {
   327→                    setMobileMenuOpen(false);
   328→                  }
   329→                }}
   330→                className="mobile-menu-link"
   331→                style={{
   332→                  transform: mobileMenuOpen ? 'translateX(0)' : 'translateX(-20px)',
   333→                  opacity: mobileMenuOpen ? 1 : 0,
   334→                  transition: `all 0.4s ease ${i * 0.08}s`
   335→                }}
   336→              >
   337→                {item}
   338→              </a>
   339→            ))}
   340→          </div>
   341→        )}
   342→
   343→
   344→        <main id="main-content" style={{ position: 'relative', zIndex: 1 }}>
   345→          {/* Hero Section */}
   346→          <HeroSection
   347→            profile={profile}
   348→            isMobile={isMobile}
   349→            isTablet={isTablet}
   350→            isLoaded={isLoaded}
   351→          />
   352→
   353→          {/* About Section */}
   354→          <AboutSection
   355→            profile={profile}
   356→            isMobile={isMobile}
   357→            isTablet={isTablet}
   358→            sectionPadding={sectionPadding}
   359→          />
   360→
   361→          {/* Experience Section */}
   362→          <ExperienceSection
   363→            isMobile={isMobile}
   364→            isTablet={isTablet}
   365→            sectionPadding={sectionPadding}
   366→          />
   367→
   368→          {/* Certifications Section */}
   369→          <CertificationsSection
   370→            profile={profile}
   371→            isMobile={isMobile}
   372→            isTablet={isTablet}
   373→            sectionPadding={sectionPadding}
   374→          />
   375→
   376→          {/* Skills Section - conditionally rendered */}
   377→          {sections.skills && (
   378→            <section style={{
   379→              padding: sectionPadding,
   380→              maxWidth: 'var(--layout-max-width)',
   381→              margin: '0 auto',
   382→              position: 'relative',
   383→              zIndex: 1
   384→            }}>
   385→              {/* Skills content would go here */}
   386→            </section>
   387→          )}
   388→
   389→          {/* Case Studies Section */}
   390→          <CaseStudiesSection
   391→            isMobile={isMobile}
   392→            isTablet={isTablet}
   393→            sectionPadding={sectionPadding}
   394→            hoveredCase={hoveredCase}
   395→            setHoveredCase={setHoveredCase}
   396→            onCaseClick={(study) => setModalCase(study)}
   397→          />
   398→
   399→          {/* Passion Projects Section */}
   400→          {sections.passionProjects && (
   401→            <PassionProjectsSection
   402→              isMobile={isMobile}
   403→              sectionPadding={sectionPadding}
   404→            />
   405→          )}
   406→
   407→          {/* Testimonials Section */}
   408→          <TestimonialsSection
   409→            isMobile={isMobile}
   410→            isTablet={isTablet}
   411→            sectionPadding={sectionPadding}
   412→          />
   413→
   414→          {/* Blog Section */}
   415→          {sections.blog && <Blog isMobile={isMobile} isTablet={isTablet} />}
   416→
   417→          {/* Final CTA */}
   418→          <section style={{
   419→            padding: isMobile ? '48px 24px 64px' : '64px 64px 80px',
   420→            maxWidth: '1000px',
   421→            margin: '0 auto',
   422→            textAlign: 'center',
   423→            position: 'relative',
   424→            zIndex: 1
   425→          }}>
   426→            <h2 style={{
   427→              fontSize: isMobile ? '10vw' : '7vw',
   428→              fontFamily: 'var(--font-serif)',
   429→              fontWeight: 400,
   430→              fontStyle: 'italic',
   431→              color: 'var(--color-text-primary)',
   432→              letterSpacing: '-0.03em',
   433→              lineHeight: 1,
   434→              marginBottom: 'var(--space-xl)'
   435→            }}>
   436→              Let's build
   437→            </h2>
   438→
   439→            <p style={{
   440→              fontSize: '16px',
   441→              color: 'var(--color-text-tertiary)',
   442→              maxWidth: '440px',
   443→              margin: '0 auto var(--space-xl)',
   444→              lineHeight: 1.6
   445→            }}>
   446→              Open to PM roles in AI, infrastructure, and Web3.
   447→              Particularly interested in where agents meet on-chain execution.
   448→              Based in {profile.location} ({profile.timezone}), flexible on remote.
   449→            </p>
   450→
   451→            {/* Omnibar-style CTA */}
   452→            <div style={{
   453→              display: 'inline-flex',
   454→              alignItems: 'center',
   455→              gap: 'var(--space-sm)',
   456→              padding: 'var(--space-sm)',
   457→              background: 'var(--color-surface-glass)',
   458→              backdropFilter: 'blur(12px)',
   459→              WebkitBackdropFilter: 'blur(12px)',
   460→              borderRadius: '6px',
   461→              border: '1px solid var(--color-border-light)',
   462→              boxShadow: '0 12px 40px rgba(0, 0, 0, 0.15)',
   463→              flexWrap: isMobile ? 'wrap' : 'nowrap',
   464→              justifyContent: 'center'
   465→            }}>
   466→              {/* Copy Email */}
   467→              <button
   468→                onClick={() => {
   469→                  navigator.clipboard.writeText(profile.email);
   470→                }}
   471→                className="footer-omnibar-btn"
   472→              >
   473→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   474→                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
   475→                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
   476→                </svg>
   477→                <span>Copy Email</span>
   478→              </button>
   479→
   480→              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   481→
   482→              {/* Resume */}
   483→              <a
   484→                href="/dmitrii-fotesco-resume.pdf"
   485→                target="_blank"
   486→                rel="noopener noreferrer"
   487→                className="footer-omnibar-btn"
   488→              >
   489→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ opacity: 0.7 }}>
   490→                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
   491→                  <polyline points="7 10 12 15 17 10" />
   492→                  <line x1="12" y1="15" x2="12" y2="3" />
   493→                </svg>
   494→                <span>Resume</span>
   495→              </a>
   496→
   497→              <div style={{ width: '1px', height: '24px', background: 'var(--color-border-light)' }} />
   498→
   499→              {/* Book Time */}
   500→              <a
   501→                href="https://calendar.google.com/calendar/u/0/appointments/AcZssZ2leGghBAF6F4IbGMZQErnaR21wvu-mYWXP06o="
   502→                target="_blank"
   503→                rel="noopener noreferrer"
   504→                className="footer-omnibar-btn footer-omnibar-btn-primary"
   505→              >
   506→                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   507→                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
   508→                  <line x1="16" y1="2" x2="16" y2="6" />
   509→                  <line x1="8" y1="2" x2="8" y2="6" />
   510→                  <line x1="3" y1="10" x2="21" y2="10" />
   511→                </svg>
   512→                <span>Book Time</span>
   513→              </a>
   514→            </div>
   515→
   516→            {/* Social Icons Bar */}
   517→            <div style={{
   518→              display: 'flex',
   519→              justifyContent: 'center',
   520→              gap: 'var(--space-lg)',
   521→              marginTop: 'var(--space-xl)'
   522→            }}>
   523→              {/* LinkedIn */}
   524→              <a
   525→                href="https://www.linkedin.com/in/0xdmitri/"
   526→                target="_blank"
   527→                rel="noopener noreferrer"
   528→                title="LinkedIn"
   529→                style={{
   530→                  color: 'var(--color-text-tertiary)',
   531→                  transition: 'color 0.2s ease'
   532→                }}
   533→              >
   534→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   535→                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
   536→                </svg>
   537→              </a>
   538→
   539→              {/* GitHub */}
   540→              <a
   541→                href="https://github.com/fotescodev"
   542→                target="_blank"
   543→                rel="noopener noreferrer"
   544→                title="GitHub"
   545→                style={{
   546→                  color: 'var(--color-text-tertiary)',
   547→                  transition: 'color 0.2s ease'
   548→                }}
   549→              >
   550→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   551→                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
   552→                </svg>
   553→              </a>
   554→
   555→              {/* X / Twitter */}
   556→              <a
   557→                href="https://x.com/kolob0kk"
   558→                target="_blank"
   559→                rel="noopener noreferrer"
   560→                title="X / Twitter"
   561→                style={{
   562→                  color: 'var(--color-text-tertiary)',
   563→                  transition: 'color 0.2s ease'
   564→                }}
   565→              >
   566→                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
   567→                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
   568→                </svg>
   569→              </a>
   570→
   571→              {/* Telegram */}
   572→              <a
   573→                href="https://t.me/zimbru0x"
   574→                target="_blank"
   575→                rel="noopener noreferrer"
   576→                title="Telegram"
   577→                style={{
   578→                  color: 'var(--color-text-tertiary)',
   579→                  transition: 'color 0.2s ease'
   580→                }}
   581→              >
   582→                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
   583→                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z" />
   584→                </svg>
   585→              </a>
   586→            </div>
   587→          </section>
   588→
   589→          {/* Omnibar */}
   590→          <Omnibar />
   591→
   592→          {/* Case Study Modal */}
   593→          {modalCase && (
   594→            <CaseStudyDrawer
   595→              isOpen={!!modalCase}
   596→              onClose={() => setModalCase(null)}
   597→              caseStudy={modalCase}
   598→              isMobile={isMobile}
   599→              onNavigate={(study) => setModalCase(study)}
   600→            />
   601→          )}
   602→
   603→        </main>
   604→
   605→        {/* Footer */}
   606→        <FooterSection isMobile={isMobile} />
   607→      </div>
   608→    </>
   609→  );
   610→}
   611→
```

Result:

```
1→import type { ReactNode } from 'react';
     2→import { caseStudies } from '../../lib/content';
     3→import type { CaseStudy } from '../../types/portfolio';
     4→
     5→interface CaseStudiesSectionProps {
     6→  isMobile: boolean;
     7→  isTablet: boolean;
     8→  sectionPadding: string;
     9→  hoveredCase: number | null;
    10→  setHoveredCase: (id: number | null) => void;
    11→  onCaseClick: (study: CaseStudy) => void;
    12→}
    13→
    14→// Media type icons and labels
    15→const MediaIcons: Record<string, { icon: ReactNode; label: string }> = {
    16→  blog: {
    17→    icon: (
    18→      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    19→        <path d="M12 19l7-7 3 3-7 7-3-3z" />
    20→        <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z" />
    21→        <path d="M2 2l7.586 7.586" />
    22→        <circle cx="11" cy="11" r="2" />
    23→      </svg>
    24→    ),
    25→    label: 'Blog'
    26→  },
    27→  twitter: {
    28→    icon: (
    29→      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
    30→        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
    31→      </svg>
    32→    ),
    33→    label: 'Twitter'
    34→  },
    35→  linkedin: {
    36→    icon: (
    37→      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
    38→        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
    39→      </svg>
    40→    ),
    41→    label: 'LinkedIn'
    42→  },
    43→  video: {
    44→    icon: (
    45→      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    46→        <polygon points="5 3 19 12 5 21 5 3" />
    47→      </svg>
    48→    ),
    49→    label: 'Video'
    50→  },
    51→  article: {
    52→    icon: (
    53→      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    54→        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
    55→        <polyline points="14 2 14 8 20 8" />
    56→        <line x1="16" y1="13" x2="8" y2="13" />
    57→        <line x1="16" y1="17" x2="8" y2="17" />
    58→        <polyline points="10 9 9 9 8 9" />
    59→      </svg>
    60→    ),
    61→    label: 'Article'
    62→  },
    63→  slides: {
    64→    icon: (
    65→      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    66→        <rect x="2" y="3" width="20" height="14" rx="2" ry="2" />
    67→        <line x1="8" y1="21" x2="16" y2="21" />
    68→        <line x1="12" y1="17" x2="12" y2="21" />
    69→      </svg>
    70→    ),
    71→    label: 'Slides'
    72→  }
    73→};
    74→
    75→export default function CaseStudiesSection({
    76→  isMobile,
    77→  isTablet,
    78→  sectionPadding,
    79→  hoveredCase,
    80→  setHoveredCase,
    81→  onCaseClick
    82→}: CaseStudiesSectionProps) {
    83→  // Format case study number with leading zero
    84→  const formatNumber = (id: number) => id.toString().padStart(2, '0');
    85→
    86→  // Handle external link clicks (prevent card click)
    87→  const handleLinkClick = (e: React.MouseEvent, url: string) => {
    88→    e.stopPropagation();
    89→    window.open(url, '_blank', 'noopener,noreferrer');
    90→  };
    91→
    92→  // Shared button style for primary buttons
    93→  const secondaryButtonStyle = {
    94→    display: 'flex',
    95→    alignItems: 'center',
    96→    gap: '6px',
    97→    padding: '8px 16px',
    98→    background: 'transparent',
    99→    color: 'var(--color-text-secondary)',
   100→    border: '1px solid var(--color-border)',
   101→    fontSize: '12px',
   102→    fontWeight: 600,
   103→    letterSpacing: '0.02em',
   104→    cursor: 'pointer',
   105→    transition: 'all 0.2s ease'
   106→  } as const;
   107→
   108→  return (
   109→    <section id="work" style={{
   110→      padding: sectionPadding,
   111→      maxWidth: 'var(--layout-max-width)',
   112→      margin: '0 auto',
   113→      position: 'relative',
   114→      zIndex: 1
   115→    }}>
   116→      {/* Section label */}
   117→      <div style={{
   118→        display: 'flex',
   119→        alignItems: 'center',
   120→        gap: 'var(--space-lg)',
   121→        marginBottom: isMobile ? 'var(--space-xl)' : '40px'
   122→      }}>
   123→        <span style={{
   124→          fontSize: '11px',
   125→          fontWeight: 600,
   126→          letterSpacing: '0.15em',
   127→          textTransform: 'uppercase',
   128→          color: 'var(--color-text-muted)'
   129→        }}>
   130→          Selected Work
   131→        </span>
   132→        <div style={{
   133→          flex: 1,
   134→          height: '1px',
   135→          background: 'var(--color-border-light)'
   136→        }} />
   137→      </div>
   138→
   139→      {/* Case study list */}
   140→      <div style={{
   141→        display: 'flex',
   142→        flexDirection: 'column',
   143→        gap: isMobile ? 'var(--space-2xl)' : '0'
   144→      }}>
   145→        {caseStudies.map((study) => (
   146→          <div
   147→            key={study.id}
   148→            onClick={() => onCaseClick(study)}
   149→            style={{
   150→              padding: isMobile ? '0' : '40px 0',
   151→              cursor: 'pointer',
   152→              transition: 'all 0.3s ease',
   153→              background: hoveredCase === study.id ? 'var(--color-card-hover)' : 'transparent'
   154→            }}
   155→            onMouseEnter={() => !isMobile && setHoveredCase(study.id)}
   156→            onMouseLeave={() => !isMobile && setHoveredCase(null)}
   157→          >
   158→            <div style={{
   159→              display: 'grid',
   160→              gridTemplateColumns: isMobile ? '1fr' : isTablet ? '200px 1fr' : '260px 1fr',
   161→              gap: isMobile ? 'var(--space-lg)' : isTablet ? '40px' : '56px',
   162→
   163→            }}>
   164→              {/* Thumbnail */}
   165→              <div style={{
   166→                position: 'relative',
   167→                aspectRatio: isMobile ? '4/3' : 'auto',
   168→                height: isMobile ? 'auto' : '100%',
   169→                background: 'linear-gradient(135deg, var(--color-thumbnail-bg-start) 0%, var(--color-thumbnail-bg-end) 100%)',
   170→                border: '1px solid var(--color-border-light)',
   171→                overflow: 'hidden',
   172→                transition: 'all 0.4s ease'
   173→              }}>
   174→                {study.hook.thumbnail ? (
   175→                  <>
   176→                    <img
   177→                      src={study.hook.thumbnail}
   178→                      alt={`${study.title} case study`}
   179→                      style={{
   180→                        width: '100%',
   181→                        height: '100%',
   182→                        position: 'absolute',
   183→                        top: 0,
   184→                        left: 0,
   185→                        objectFit: 'cover',
   186→                        transition: 'transform 0.4s ease',
   187→                        transform: hoveredCase === study.id ? 'scale(1.03)' : 'scale(1)'
   188→                      }}
   189→                      onError={(e) => {
   190→                        (e.target as HTMLImageElement).style.display = 'none';
   191→                      }}
   192→                    />
   193→                    {/* Number overlay */}
   194→                    <div style={{
   195→                      position: 'absolute',
   196→                      top: 'var(--space-md)',
   197→                      left: 'var(--space-md)',
   198→                      fontFamily: 'var(--font-serif)',
   199→                      fontSize: '14px',
   200→                      fontStyle: 'italic',
   201→                      color: 'var(--color-overlay-text)',
   202→                      background: 'var(--color-overlay-dark)',
   203→                      padding: '6px 12px',
   204→                      backdropFilter: 'blur(4px)'
   205→                    }}>
   206→                      {formatNumber(study.id)}
   207→                    </div>
   208→                  </>
   209→                ) : null}
   210→                {/* Placeholder - always visible as fallback */}
   211→                <div style={{
   212→                  position: 'absolute',
   213→                  inset: 0,
   214→                  display: 'flex',
   215→                  flexDirection: 'column',
   216→                  alignItems: 'center',
   217→                  justifyContent: 'center',
   218→                  gap: 'var(--space-sm)',
   219→                  zIndex: study.hook.thumbnail ? -1 : 1
   220→                }}>
   221→                  <span style={{
   222→                    fontFamily: 'var(--font-serif)',
   223→                    fontSize: isMobile ? '48px' : '56px',
   224→                    fontStyle: 'italic',
   225→                    color: 'var(--color-placeholder-text)',
   226→                    lineHeight: 1
   227→                  }}>
   228→                    {formatNumber(study.id)}
   229→                  </span>
   230→                </div>
   231→              </div>
   232→
   233→              {/* Content */}
   234→              <div style={{
   235→                display: 'flex',
   236→                flexDirection: 'column',
   237→                height: '100%'
   238→              }}>
   239→                <div style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>
   240→                  {/* Meta line */}
   241→                  <div style={{
   242→                    display: 'flex',
   243→                    gap: 'var(--space-md)',
   244→                    marginBottom: '14px',
   245→                    flexWrap: 'wrap',
   246→                    alignItems: 'center'
   247→                  }}>
   248→                    <span style={{
   249→                      fontSize: '12px',
   250→                      fontWeight: 500,
   251→                      letterSpacing: '0.05em',
   252→                      textTransform: 'uppercase',
   253→                      color: 'var(--color-text-tertiary)'
   254→                    }}>{study.company}</span>
   255→                    <span style={{
   256→                      color: 'var(--color-separator)',
   257→                      fontSize: '12px'
   258→                    }}>—</span>
   259→                    <span style={{
   260→                      fontSize: '12px',
   261→                      color: 'var(--color-text-muted)'
   262→                    }}>{study.year}</span>
   263→                  </div>
   264→
   265→                  {/* Title */}
   266→                  <h3 style={{
   267→                    fontSize: isMobile ? '26px' : isTablet ? '32px' : '38px',
   268→                    fontFamily: 'var(--font-serif)',
   269→                    fontWeight: 400,
   270→                    fontStyle: 'italic',
   271→                    color: 'var(--color-text-secondary)',
   272→                    marginBottom: '14px',
   273→                    letterSpacing: '-0.02em',
   274→                    lineHeight: 1.15,
   275→                    transition: 'color 0.2s ease'
   276→                  }}>
   277→                    {study.title}
   278→                  </h3>
   279→
   280→                  {/* Headline */}
   281→                  <p style={{
   282→                    fontSize: '15px',
   283→                    color: 'var(--color-text-tertiary)',
   284→                    lineHeight: 1.65,
   285→                    marginBottom: '20px',
   286→                    maxWidth: '520px'
   287→                  }}>
   288→                    {study.hook.headline}
   289→                  </p>
   290→
   291→                  {/* Primary metric only - cleaner */}
   292→                  <div style={{
   293→                    display: 'flex',
   294→                    alignItems: 'baseline',
   295→                    gap: 'var(--space-sm)',
   296→                    marginBottom: '20px'
   297→                  }}>
   298→                    <span style={{
   299→                      fontSize: isMobile ? '28px' : '32px',
   300→                      fontFamily: 'var(--font-serif)',
   301→                      fontWeight: 400,
   302→                      color: 'var(--color-accent)',
   303→                      lineHeight: 1
   304→                    }}>
   305→                      {study.hook.impactMetric.value}
   306→                    </span>
   307→                    <span style={{
   308→                      fontSize: '13px',
   309→                      fontWeight: 500,
   310→                      letterSpacing: '0.02em',
   311→                      textTransform: 'lowercase',
   312→                      color: 'var(--color-text-muted)'
   313→                    }}>
   314→                      {study.hook.impactMetric.label}
   315→                    </span>
   316→                  </div>
   317→
   318→                </div>
   319→                {/* Action buttons row */}
   320→                <div style={{
   321→                  display: 'flex',
   322→                  alignItems: 'center',
   323→                  gap: 'var(--space-md)',
   324→
   325→                  flexWrap: 'wrap'
   326→                }}>
   327→                  {/* Demo/Live button */}
   328→                  {study.demoUrl && (
   329→                    <button
   330→                      onClick={(e) => handleLinkClick(e, study.demoUrl!)}
   331→                      style={secondaryButtonStyle}
   332→                      onMouseEnter={(e) => {
   333→                        e.currentTarget.style.borderColor = 'var(--color-accent)';
   334→                        e.currentTarget.style.color = 'var(--color-accent)';
   335→                      }}
   336→                      onMouseLeave={(e) => {
   337→                        e.currentTarget.style.borderColor = 'var(--color-border)';
   338→                        e.currentTarget.style.color = 'var(--color-text-secondary)';
   339→                      }}
   340→                    >
   341→                      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
   342→                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
   343→                        <polyline points="15 3 21 3 21 9" />
   344→                        <line x1="10" y1="14" x2="21" y2="3" />
   345→                      </svg>
   346→                      Live
   347→                    </button>
   348→                  )}
   349→
   350→                  {/* GitHub button */}
   351→                  {study.githubUrl && (
   352→                    <button
   353→                      onClick={(e) => handleLinkClick(e, study.githubUrl!)}
   354→                      style={secondaryButtonStyle}
   355→                      onMouseEnter={(e) => {
   356→                        e.currentTarget.style.borderColor = 'var(--color-accent)';
   357→                        e.currentTarget.style.color = 'var(--color-accent)';
   358→                      }}
   359→                      onMouseLeave={(e) => {
   360→                        e.currentTarget.style.borderColor = 'var(--color-border)';
   361→                        e.currentTarget.style.color = 'var(--color-text-secondary)';
   362→                      }}
   363→                    >
   364→                      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
   365→                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
   366→                      </svg>
   367→                      Code
   368→                    </button>
   369→                  )}
   370→
   371→                  {/* Docs button */}
   372→                  {study.docsUrl && (
   373→                    <button
   374→                      onClick={(e) => handleLinkClick(e, study.docsUrl!)}
   375→                      style={secondaryButtonStyle}
   376→                      onMouseEnter={(e) => {
   377→                        e.currentTarget.style.borderColor = 'var(--color-accent)';
   378→                        e.currentTarget.style.color = 'var(--color-accent)';
   379→                      }}
   380→                      onMouseLeave={(e) => {
   381→                        e.currentTarget.style.borderColor = 'var(--color-border)';
   382→                        e.currentTarget.style.color = 'var(--color-text-secondary)';
   383→                      }}
   384→                    >
   385→                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
   386→                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
   387→                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
   388→                      </svg>
   389→                      Docs
   390→                    </button>
   391→                  )}
   392→
   393→                  {/* Media links - icon only */}
   394→                  {study.media && study.media.length > 0 && (
   395→                    <>
   396→                      <span style={{
   397→                        width: '1px',
   398→                        height: '20px',
   399→                        background: 'var(--color-border)',
   400→                        margin: '0 4px'
   401→                      }} />
   402→                      <div style={{
   403→                        display: 'flex',
   404→                        alignItems: 'center',
   405→                        gap: '4px'
   406→                      }}>
   407→                        {study.media.map((mediaItem, i) => {
   408→                          const mediaInfo = MediaIcons[mediaItem.type];
   409→                          if (!mediaInfo) return null;
   410→
   411→                          return (
   412→                            <button
   413→                              key={i}
   414→                              onClick={(e) => handleLinkClick(e, mediaItem.url)}
   415→                              title={mediaItem.label || mediaInfo.label}
   416→                              style={{
   417→                                display: 'flex',
   418→                                alignItems: 'center',
   419→                                justifyContent: 'center',
   420→                                width: '32px',
   421→                                height: '32px',
   422→                                padding: 0,
   423→                                background: 'transparent',
   424→                                color: 'var(--color-text-muted)',
   425→                                border: '1px solid var(--color-border)',
   426→                                cursor: 'pointer',
   427→                                transition: 'all 0.2s ease'
   428→                              }}
   429→                              onMouseEnter={(e) => {
   430→                                e.currentTarget.style.borderColor = 'var(--color-accent)';
   431→                                e.currentTarget.style.color = 'var(--color-accent)';
   432→                                e.currentTarget.style.background = 'transparent';
   433→                              }}
   434→                              onMouseLeave={(e) => {
   435→                                e.currentTarget.style.borderColor = 'var(--color-border)';
   436→                                e.currentTarget.style.color = 'var(--color-text-muted)';
   437→                                e.currentTarget.style.background = 'transparent';
   438→                              }}
   439→                            >
   440→                              {mediaInfo.icon}
   441→                            </button>
   442→                          );
   443→                        })}
   444→                      </div>
   445→                    </>
   446→                  )}
   447→
   448→                  {/* Read more indicator */}
   449→                  <div style={{
   450→                    display: 'flex',
   451→                    alignItems: 'center',
   452→                    gap: 'var(--space-sm)',
   453→                    marginLeft: 'auto',
   454→                    color: hoveredCase === study.id ? 'var(--color-accent)' : 'var(--color-text-muted)',
   455→                    transition: 'color 0.2s ease'
   456→                  }}>
   457→                    <span style={{
   458→                      fontSize: '13px',
   459→                      fontWeight: 500,
   460→                      letterSpacing: '0.02em'
   461→                    }}>
   462→                      Read more
   463→                    </span>
   464→                    <span style={{
   465→                      transform: hoveredCase === study.id ? 'translateX(4px)' : 'translateX(0)',
   466→                      transition: 'transform 0.2s ease',
   467→                      fontFamily: 'var(--font-serif)',
   468→                      fontStyle: 'italic'
   469→                    }}>→</span>
   470→                  </div>
   471→                </div>
   472→              </div>
   473→            </div>
   474→          </div>
   475→        ))}
   476→      </div>
   477→    </section>
   478→  );
   479→}
   480→
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts
/Users/dfotesco/Portfolio/portfolio/src/types/yaml.d.ts
/Users/dfotesco/Portfolio/portfolio/src/types/portfolio.ts
/Users/dfotesco/Portfolio/portfolio/src/types/variant.ts
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me look at the Blog component and existing types:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/Blog.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/types/blog.ts`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/types/portfolio.ts`

Result:

```
1→import { useState } from 'react';
     2→import type { BlogPost } from '../types/blog';
     3→import BlogPostModal from './BlogPostModal';
     4→
     5→// Auto-discover blog posts using import.meta.glob
     6→const blogPostFiles = import.meta.glob('../../content/blog/*.md', { query: '?raw', eager: true });
     7→
     8→interface BlogProps {
     9→    isMobile: boolean;
    10→    isTablet: boolean;
    11→}
    12→
    13→// Parse frontmatter from markdown
    14→function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    15→    const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    16→    if (!match) return { frontmatter: {}, content: raw };
    17→
    18→    const frontmatterStr = match[1];
    19→    const content = match[2];
    20→
    21→    const frontmatter: Record<string, unknown> = {};
    22→    const lines = frontmatterStr.split('\n');
    23→
    24→    for (const line of lines) {
    25→        const colonIndex = line.indexOf(':');
    26→        if (colonIndex === -1) continue;
    27→
    28→        const key = line.slice(0, colonIndex).trim();
    29→        let value = line.slice(colonIndex + 1).trim();
    30→
    31→        // Handle arrays
    32→        if (value.startsWith('[') && value.endsWith(']')) {
    33→            const arrayContent = value.slice(1, -1);
    34→            frontmatter[key] = arrayContent.split(',').map(item =>
    35→                item.trim().replace(/^["']|["']$/g, '')
    36→            );
    37→        }
    38→        // Handle quoted strings
    39→        else if (value.startsWith('"') && value.endsWith('"')) {
    40→            frontmatter[key] = value.slice(1, -1);
    41→        }
    42→        // Handle null
    43→        else if (value === 'null') {
    44→            frontmatter[key] = null;
    45→        }
    46→        // Regular string
    47→        else {
    48→            frontmatter[key] = value;
    49→        }
    50→    }
    51→
    52→    return { frontmatter, content };
    53→}
    54→
    55→// Calculate reading time
    56→function calculateReadingTime(content: string): number {
    57→    const wordsPerMinute = 200;
    58→    const words = content.split(/\s+/).length;
    59→    return Math.ceil(words / wordsPerMinute);
    60→}
    61→
    62→// Extract slug from filename (YYYY-MM-DD-slug.md → slug)
    63→function extractSlugFromFilename(path: string): string {
    64→    const filename = path.split('/').pop() || '';
    65→    // Remove .md extension and date prefix (YYYY-MM-DD-)
    66→    return filename.replace(/^\d{4}-\d{2}-\d{2}-/, '').replace(/\.md$/, '');
    67→}
    68→
    69→// Parse all blog posts (auto-discovered)
    70→function parseBlogPosts(): BlogPost[] {
    71→    const posts = Object.entries(blogPostFiles).map(([path, module]) => {
    72→        const raw = (module as any).default as string;
    73→        const slug = extractSlugFromFilename(path);
    74→        const { frontmatter, content } = parseFrontmatter(raw);
    75→
    76→        return {
    77→            slug,
    78→            title: frontmatter.title as string || 'Untitled',
    79→            date: frontmatter.date as string || new Date().toISOString().split('T')[0],
    80→            excerpt: frontmatter.excerpt as string || '',
    81→            tags: (frontmatter.tags as string[]) || [],
    82→            thumbnail: frontmatter.thumbnail as string | null || null,
    83→            readingTime: calculateReadingTime(content),
    84→            content
    85→        };
    86→    });
    87→
    88→    return posts.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
    89→}
    90→
    91→export default function Blog({ isMobile, isTablet }: BlogProps) {
    92→    const [hoveredPost, setHoveredPost] = useState<string | null>(null);
    93→    const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null);
    94→
    95→    const posts = parseBlogPosts().slice(0, 2);
    96→
    97→    const formatDate = (dateStr: string) => {
    98→        const date = new Date(dateStr);
    99→        return date.toLocaleDateString('en-US', {
   100→            month: '2-digit',
   101→            day: '2-digit',
   102→            year: '2-digit'
   103→        }).replace(/\//g, '.');
   104→    };
   105→
   106→    const handleNavigate = (direction: 'prev' | 'next') => {
   107→        if (!selectedPost) return;
   108→        const currentIndex = posts.findIndex(p => p.slug === selectedPost.slug);
   109→        const newIndex = direction === 'prev' ? currentIndex - 1 : currentIndex + 1;
   110→        if (newIndex >= 0 && newIndex < posts.length) {
   111→            setSelectedPost(posts[newIndex]);
   112→        }
   113→    };
   114→
   115→    const getRelatedPosts = (currentPost: BlogPost): BlogPost[] => {
   116→        if (!currentPost.tags || currentPost.tags.length === 0) return [];
   117→
   118→        // Find posts with shared tags, excluding current post
   119→        const relatedPosts = posts
   120→            .filter(post => post.slug !== currentPost.slug)
   121→            .map(post => {
   122→                const sharedTags = post.tags.filter(tag => currentPost.tags.includes(tag));
   123→                return { post, sharedTagCount: sharedTags.length };
   124→            })
   125→            .filter(({ sharedTagCount }) => sharedTagCount > 0)
   126→            .sort((a, b) => b.sharedTagCount - a.sharedTagCount)
   127→            .slice(0, 3) // Max 3 related posts
   128→            .map(({ post }) => post);
   129→
   130→        return relatedPosts;
   131→    };
   132→
   133→    const sectionPadding = isMobile ? '48px 24px' : isTablet ? '64px 40px' : '80px 64px';
   134→
   135→    return (
   136→        <>
   137→            <section id="blog" style={{
   138→                padding: sectionPadding,
   139→                maxWidth: 'var(--layout-max-width)',
   140→                margin: '0 auto',
   141→                position: 'relative',
   142→                zIndex: 1
   143→            }}>
   144→                {/* Section label */}
   145→                <div style={{
   146→                    display: 'flex',
   147→                    alignItems: 'center',
   148→                    gap: 'var(--space-lg)',
   149→                    marginBottom: isMobile ? 'var(--space-xl)' : '40px'
   150→                }}>
   151→                    <span style={{
   152→                        fontSize: '11px',
   153→                        fontWeight: 600,
   154→                        letterSpacing: '0.15em',
   155→                        textTransform: 'uppercase',
   156→                        color: 'var(--color-text-muted)'
   157→                    }}>
   158→                        Insights
   159→                    </span>
   160→                    <div style={{
   161→                        flex: 1,
   162→                        height: '1px',
   163→                        background: 'var(--color-border-light)'
   164→                    }} />
   165→                </div>
   166→
   167→                {/* Section header */}
   168→                <div style={{
   169→                    marginBottom: isMobile ? 'var(--space-xl)' : 'var(--space-2xl)'
   170→                }}>
   171→                    <h2 style={{
   172→                        fontSize: isMobile ? '28px' : isTablet ? '36px' : '42px',
   173→                        fontFamily: 'var(--font-serif)',
   174→                        fontWeight: 400,
   175→                        fontStyle: 'italic',
   176→                        color: 'var(--color-text-primary)',
   177→                        marginBottom: 'var(--space-md)',
   178→                        letterSpacing: '-0.02em',
   179→                        lineHeight: 1.2
   180→                    }}>
   181→                        Thoughts on building at the edge
   182→                    </h2>
   183→                    <p style={{
   184→                        fontSize: '15px',
   185→                        color: 'var(--color-text-tertiary)',
   186→                        maxWidth: '600px',
   187→                        lineHeight: 1.6
   188→                    }}>
   189→                        Reflections on product management, crypto infrastructure, and the intersection of AI with on-chain execution.
   190→                    </p>
   191→                </div>
   192→
   193→                {/* Blog posts list */}
   194→                <div style={{
   195→                    display: 'flex',
   196→                    flexDirection: 'column',
   197→                    gap: '0'
   198→                }}>
   199→                    {posts.map((post, index) => (
   200→                        <article
   201→                            key={post.slug}
   202→                            style={{
   203→                                borderTop: index === 0 ? '1px solid var(--color-border)' : 'none',
   204→                                borderBottom: '1px solid var(--color-border)',
   205→                                padding: isMobile ? '28px 0' : '36px 0',
   206→                                cursor: 'pointer',
   207→                                transition: 'all 0.3s ease',
   208→                                background: hoveredPost === post.slug ? 'var(--color-card-hover)' : 'transparent'
   209→                            }}
   210→                            onMouseEnter={() => !isMobile && setHoveredPost(post.slug)}
   211→                            onMouseLeave={() => !isMobile && setHoveredPost(null)}
   212→                            onClick={() => setSelectedPost(post)}
   213→                        >
   214→                            <div style={{
   215→                                display: 'grid',
   216→                                gridTemplateColumns: isMobile ? '1fr' : isTablet ? '120px 1fr' : '140px 1fr auto',
   217→                                gap: isMobile ? 'var(--space-md)' : 'var(--space-xl)',
   218→                                alignItems: 'start'
   219→                            }}>
   220→                                {/* Date */}
   221→                                <div style={{
   222→                                    fontSize: '12px',
   223→                                    fontWeight: 500,
   224→                                    letterSpacing: '0.05em',
   225→                                    color: 'var(--color-text-muted)',
   226→                                    display: 'flex',
   227→                                    alignItems: 'center',
   228→                                    gap: 'var(--space-sm)'
   229→                                }}>
   230→                                    <span>{formatDate(post.date)}</span>
   231→                                    <span style={{ color: 'var(--color-separator)' }}>•</span>
   232→                                    <span>{post.readingTime} min</span>
   233→                                </div>
   234→
   235→                                {/* Content */}
   236→                                <div>
   237→                                    <h3 style={{
   238→                                        fontSize: isMobile ? '22px' : '26px',
   239→                                        fontFamily: 'var(--font-serif)',
   240→                                        fontWeight: 400,
   241→                                        fontStyle: 'italic',
   242→                                        color: 'var(--color-text-primary)',
   243→                                        marginBottom: 'var(--space-sm)',
   244→                                        letterSpacing: '-0.02em',
   245→                                        lineHeight: 1.2,
   246→                                        transition: 'color 0.2s ease'
   247→                                    }}>
   248→                                        {post.title}
   249→                                    </h3>
   250→
   251→                                    <p style={{
   252→                                        fontSize: '14px',
   253→                                        color: 'var(--color-text-tertiary)',
   254→                                        lineHeight: 1.6,
   255→                                        marginBottom: 'var(--space-md)',
   256→                                        maxWidth: '600px'
   257→                                    }}>
   258→                                        {post.excerpt}
   259→                                    </p>
   260→
   261→                                    {/* Tags */}
   262→                                    <div style={{
   263→                                        display: 'flex',
   264→                                        gap: 'var(--space-sm)',
   265→                                        flexWrap: 'wrap'
   266→                                    }}>
   267→                                        {post.tags.map((tag, i) => (
   268→                                            <span key={i} style={{
   269→                                                fontSize: '10px',
   270→                                                fontWeight: 500,
   271→                                                letterSpacing: '0.05em',
   272→                                                textTransform: 'uppercase',
   273→                                                color: 'var(--color-text-muted)',
   274→                                                padding: '4px 8px',
   275→                                                border: '1px solid var(--color-border-light)',
   276→                                                transition: 'all 0.2s ease',
   277→                                                background: hoveredPost === post.slug ? 'var(--color-tag-hover)' : 'transparent'
   278→                                            }}>
   279→                                                {tag}
   280→                                            </span>
   281→                                        ))}
   282→                                    </div>
   283→                                </div>
   284→
   285→                                {/* Read link - desktop only */}
   286→                                {!isMobile && !isTablet && (
   287→                                    <div style={{
   288→                                        display: 'flex',
   289→                                        alignItems: 'center',
   290→                                        gap: 'var(--space-sm)',
   291→                                        color: hoveredPost === post.slug ? 'var(--color-accent)' : 'var(--color-text-muted)',
   292→                                        transition: 'color 0.2s ease',
   293→                                        alignSelf: 'center'
   294→                                    }}>
   295→                                        <span style={{
   296→                                            fontSize: '13px',
   297→                                            fontWeight: 500,
   298→                                            letterSpacing: '0.02em'
   299→                                        }}>
   300→                                            Read
   301→                                        </span>
   302→                                        <span style={{
   303→                                            transform: hoveredPost === post.slug ? 'translateX(4px)' : 'translateX(0)',
   304→                                            transition: 'transform 0.2s ease',
   305→                                            fontFamily: 'var(--font-serif)',
   306→                                            fontStyle: 'italic'
   307→                                        }}>→</span>
   308→                                    </div>
   309→                                )}
   310→                            </div>
   311→                        </article>
   312→                    ))}
   313→                </div>
   314→            </section>
   315→
   316→            {/* Blog Post Modal */}
   317→            {selectedPost && (
   318→                <BlogPostModal
   319→                    post={selectedPost}
   320→                    onClose={() => setSelectedPost(null)}
   321→                    onNavigate={handleNavigate}
   322→                    hasPrev={posts.findIndex(p => p.slug === selectedPost.slug) > 0}
   323→                    hasNext={posts.findIndex(p => p.slug === selectedPost.slug) < posts.length - 1}
   324→                    prevTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) - 1]?.title}
   325→                    nextTitle={posts[posts.findIndex(p => p.slug === selectedPost.slug) + 1]?.title}
   326→                    isMobile={isMobile}
   327→                    relatedPosts={getRelatedPosts(selectedPost)}
   328→                    onPostSelect={setSelectedPost}
   329→                />
   330→            )}
   331→        </>
   332→    );
   333→}
   334→
```

Result:

```
1→export interface BlogPost {
     2→    slug: string;
     3→    title: string;
     4→    date: string;
     5→    excerpt: string;
     6→    tags: string[];
     7→    readingTime: number;
     8→    thumbnail?: string | null;
     9→    content: string;
    10→}
    11→
    12→export interface BlogFrontmatter {
    13→    title: string;
    14→    date: string;
    15→    excerpt: string;
    16→    tags: string[];
    17→    thumbnail?: string;
    18→}
    19→
```

Result:

```
1→// ═══════════════════════════════════════════════════════════════
     2→// PROFILE
     3→// ═══════════════════════════════════════════════════════════════
     4→export interface HeadlineSegment {
     5→  text: string;
     6→  style: 'italic' | 'muted' | 'accent' | 'normal';
     7→}
     8→
     9→export interface CtaButton {
    10→  label: string;
    11→  href: string;
    12→}
    13→
    14→export interface Stat {
    15→  value: string;
    16→  label: string;
    17→}
    18→
    19→export interface Profile {
    20→  name: string;
    21→  ens: string;
    22→  email: string;
    23→  location: string;
    24→  timezone: string;
    25→  photo: string;
    26→  hero: {
    27→    status: string;
    28→    headline: HeadlineSegment[];
    29→    subheadline: string;
    30→    cta: {
    31→      primary: CtaButton;
    32→      secondary: CtaButton;
    33→    };
    34→  };
    35→  about: {
    36→    tagline: string;
    37→    bio: string[];
    38→    stats: Stat[];
    39→  };
    40→  sections: {
    41→    beyondWork: boolean;
    42→    blog: boolean;
    43→    onchainIdentity: boolean;
    44→    skills: boolean;
    45→    passionProjects: boolean;
    46→  };
    47→}
    48→
    49→// ═══════════════════════════════════════════════════════════════
    50→// EXPERIENCE
    51→// ═══════════════════════════════════════════════════════════════
    52→export interface Job {
    53→  company: string;
    54→  role: string;
    55→  period: string;
    56→  location: string;
    57→  logo?: string | null;
    58→  highlights: string[];
    59→  tags: string[];
    60→  url?: string | null;
    61→}
    62→
    63→export interface Experience {
    64→  jobs: Job[];
    65→}
    66→
    67→// ═══════════════════════════════════════════════════════════════
    68→// TESTIMONIALS
    69→// ═══════════════════════════════════════════════════════════════
    70→export interface Testimonial {
    71→  quote: string;
    72→  author: string;
    73→  initials?: string;
    74→  role: string;
    75→  company: string;
    76→  avatar?: string | null;
    77→  featured: boolean;
    78→}
    79→
    80→export interface Testimonials {
    81→  testimonials: Testimonial[];
    82→}
    83→
    84→// ═══════════════════════════════════════════════════════════════
    85→// CERTIFICATIONS
    86→// ═══════════════════════════════════════════════════════════════
    87→export interface Certification {
    88→  name: string;
    89→  issuer: string;
    90→  date: string;
    91→  credentialId?: string | null;
    92→  url?: string | null;
    93→  logo?: string | null;
    94→  featured: boolean;
    95→  instructor?: string | null;
    96→  instructorRole?: string | null;
    97→}
    98→
    99→export interface Credential {
   100→  label: string;
   101→  value: string;
   102→  url?: string | null;
   103→}
   104→
   105→export interface OnchainLink {
   106→  name: string;
   107→  url: string;
   108→  icon: string;
   109→}
   110→
   111→export interface Certifications {
   112→  certifications: Certification[];
   113→  credentials: Credential[];
   114→  onchainIdentity: {
   115→    ens: string;
   116→    links: OnchainLink[];
   117→  };
   118→}
   119→
   120→// ═══════════════════════════════════════════════════════════════
   121→// SKILLS
   122→// ═══════════════════════════════════════════════════════════════
   123→export interface SkillCategory {
   124→  name: string;
   125→  skills: string[];
   126→}
   127→
   128→export interface Skills {
   129→  categories: SkillCategory[];
   130→}
   131→
   132→// ═══════════════════════════════════════════════════════════════
   133→// SOCIAL
   134→// ═══════════════════════════════════════════════════════════════
   135→export interface SocialLink {
   136→  platform: string;
   137→  label: string;
   138→  handle?: string;
   139→  url: string;
   140→  icon: string;
   141→  primary: boolean;
   142→}
   143→
   144→export interface ContactCtaButton {
   145→  label: string;
   146→  href: string;
   147→  style: 'primary' | 'secondary';
   148→}
   149→
   150→export interface ContactCta {
   151→  headline: string;
   152→  subtext: string;
   153→  buttons: ContactCtaButton[];
   154→}
   155→
   156→export interface Newsletter {
   157→  enabled: boolean;
   158→  launchDate?: string;
   159→  teaser?: string;
   160→}
   161→
   162→export interface Social {
   163→  links: SocialLink[];
   164→  contactCta: ContactCta;
   165→  newsletter?: Newsletter;
   166→}
   167→
   168→// ═══════════════════════════════════════════════════════════════
   169→// CASE STUDY (Simplified markdown-first schema)
   170→// ═══════════════════════════════════════════════════════════════
   171→export interface ImpactMetric {
   172→  value: string;
   173→  label: string;
   174→}
   175→
   176→export interface CaseStudyCta {
   177→  headline: string;
   178→  subtext?: string;
   179→  action: 'contact' | 'calendly' | 'linkedin';
   180→  linkText: string;
   181→}
   182→
   183→export interface CaseStudy {
   184→  // Identification
   185→  id: number;
   186→  slug: string;
   187→  title: string;
   188→  company: string;
   189→  year: string;
   190→  tags: string[];
   191→
   192→  // Context (simplified)
   193→  duration: string;
   194→  role: string;
   195→
   196→  // Hook - Grab attention in 3 seconds
   197→  hook: {
   198→    headline: string;
   199→    impactMetric: ImpactMetric;
   200→    subMetrics?: ImpactMetric[];
   201→    thumbnail: string | null;
   202→  };
   203→
   204→  // Links (optional)
   205→  demoUrl?: string | null;
   206→  githubUrl?: string | null;
   207→  docsUrl?: string | null;
   208→
   209→  // Media links (optional) - blog posts, tweets, videos, etc.
   210→  media?: Array<{
   211→    type: 'blog' | 'twitter' | 'linkedin' | 'video' | 'article' | 'slides';
   212→    url: string;
   213→    label?: string; // Optional custom label for tooltip
   214→  }>;
   215→
   216→  // CTA - Drive action
   217→  cta: CaseStudyCta;
   218→
   219→  // Markdown content (the narrative)
   220→  content: string;
   221→}
   222→
   223→// ═══════════════════════════════════════════════════════════════
   224→// PASSION PROJECTS
   225→// ═══════════════════════════════════════════════════════════════
   226→export interface PassionProject {
   227→  id: number;
   228→  slug: string;
   229→  title: string;
   230→  tagline: string;
   231→  year: string;
   232→  tags: string[];
   233→  thumbnail?: string | null;
   234→  githubUrl?: string | null;
   235→  liveUrl?: string | null;
   236→  docsUrl?: string | null;
   237→}
   238→
   239→export interface PassionProjects {
   240→  projects: PassionProject[];
   241→}
   242→
   243→// ═══════════════════════════════════════════════════════════════
   244→// AGGREGATED CONTENT (for content loader)
   245→// ═══════════════════════════════════════════════════════════════
   246→export interface PortfolioContent {
   247→  profile: Profile;
   248→  experience: Experience;
   249→  testimonials: Testimonials;
   250→  certifications: Certifications;
   251→  skills: Skills;
   252→  social: Social;
   253→  caseStudies: CaseStudy[];
   254→  passionProjects: PassionProject[];
   255→}
   256→
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the BlogPostModal component to understand how blog posts are currently displayed:

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/components/BlogPostModal.tsx`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash**

`find /Users/dfotesco/Portfolio/portfolio/src -type f -name "*.tsx" | head -20`

Result:

```
/Users/dfotesco/Portfolio/portfolio/src/App.tsx
/Users/dfotesco/Portfolio/portfolio/src/main.tsx
/Users/dfotesco/Portfolio/portfolio/src/context/ThemeContext.tsx
/Users/dfotesco/Portfolio/portfolio/src/context/VariantContext.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/navigation/navigation.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/blog/blog-ux-features.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/mobile/mobile.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/design-system/theme-toggle.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/design-system/components.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/tests/case-study/case-study.test.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/LikeAnalytics.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/AboutSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/FooterSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/CertificationsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/ExperienceSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/TestimonialsSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/CaseStudiesSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/HeroSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/SocialSection.tsx
/Users/dfotesco/Portfolio/portfolio/src/components/sections/PassionProjectsSection.tsx
```

Result:

```
1→import { useEffect, useState, useRef } from 'react';
     2→import ReactMarkdown from 'react-markdown';
     3→import remarkGfm from 'remark-gfm';
     4→import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
     5→import { oneDark, oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';
     6→import type { BlogPost } from '../types/blog';
     7→import { useTheme } from '../context/ThemeContext';
     8→import { likePost, unlikePost, getLikeCount, hasUserLikedPost } from '../lib/likes';
     9→
    10→interface TableOfContentsItem {
    11→    id: string;
    12→    text: string;
    13→    level: number;
    14→}
    15→
    16→interface BlogPostModalProps {
    17→    post: BlogPost;
    18→    onClose: () => void;
    19→    onNavigate?: (direction: 'prev' | 'next') => void;
    20→    hasPrev?: boolean;
    21→    hasNext?: boolean;
    22→    prevTitle?: string;
    23→    nextTitle?: string;
    24→    isMobile: boolean;
    25→    relatedPosts?: BlogPost[];
    26→    onPostSelect?: (post: BlogPost) => void;
    27→}
    28→
    29→export default function BlogPostModal({
    30→    post,
    31→    onClose,
    32→    onNavigate,
    33→    hasPrev,
    34→    hasNext,
    35→    prevTitle,
    36→    nextTitle,
    37→    isMobile,
    38→    relatedPosts = [],
    39→    onPostSelect
    40→}: BlogPostModalProps) {
    41→    // Only keep isDark for the SyntaxHighlighter theme (third-party library)
    42→    const { isDark } = useTheme();
    43→
    44→    // State for UX features
    45→    const [scrollProgress, setScrollProgress] = useState(0);
    46→    const [showBackToTop, setShowBackToTop] = useState(false);
    47→    const [activeHeading, setActiveHeading] = useState<string>('');
    48→    const [tocItems, setTocItems] = useState<TableOfContentsItem[]>([]);
    49→    const [showToc, setShowToc] = useState(false);
    50→    const [showCopyToast, setShowCopyToast] = useState(false);
    51→    const [likeCount, setLikeCount] = useState(0);
    52→    const [hasLiked, setHasLiked] = useState(false);
    53→    const [isLikeAnimating, setIsLikeAnimating] = useState(false);
    54→    const scrollContainerRef = useRef<HTMLDivElement>(null);
    55→    const contentRef = useRef<HTMLDivElement>(null);
    56→
    57→    // Handle scroll lock and ESC key
    58→    useEffect(() => {
    59→        document.body.style.overflow = 'hidden';
    60→        const handleEsc = (e: KeyboardEvent) => {
    61→            if (e.key === 'Escape') onClose();
    62→        };
    63→        window.addEventListener('keydown', handleEsc);
    64→        return () => {
    65→            document.body.style.overflow = '';
    66→            window.removeEventListener('keydown', handleEsc);
    67→        };
    68→    }, [onClose]);
    69→
    70→    // Extract table of contents from markdown
    71→    useEffect(() => {
    72→        const headings: TableOfContentsItem[] = [];
    73→        const headingRegex = /^(#{1,3})\s+(.+)$/gm;
    74→        let match;
    75→
    76→        while ((match = headingRegex.exec(post.content)) !== null) {
    77→            const level = match[1].length;
    78→            const text = match[2].trim();
    79→            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
    80→            headings.push({ id, text, level });
    81→        }
    82→
    83→        setTocItems(headings);
    84→        setShowToc(headings.length > 0);
    85→    }, [post.content]);
    86→
    87→    // Track scroll progress and back-to-top visibility
    88→    useEffect(() => {
    89→        const container = scrollContainerRef.current;
    90→        if (!container) return;
    91→
    92→        const handleScroll = () => {
    93→            const scrollTop = container.scrollTop;
    94→            const scrollHeight = container.scrollHeight - container.clientHeight;
    95→            const progress = (scrollTop / scrollHeight) * 100;
    96→
    97→            setScrollProgress(Math.min(progress, 100));
    98→            setShowBackToTop(scrollTop > 400);
    99→
   100→            // Track active heading
   101→            if (contentRef.current) {
   102→                const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   103→                let currentActiveId = '';
   104→
   105→                headings.forEach((heading) => {
   106→                    const rect = heading.getBoundingClientRect();
   107→                    if (rect.top <= 200) {
   108→                        currentActiveId = heading.id;
   109→                    }
   110→                });
   111→
   112→                setActiveHeading(currentActiveId);
   113→            }
   114→        };
   115→
   116→        container.addEventListener('scroll', handleScroll);
   117→        return () => container.removeEventListener('scroll', handleScroll);
   118→    }, []);
   119→
   120→    // Set IDs on headings for anchor links
   121→    useEffect(() => {
   122→        if (!contentRef.current) return;
   123→
   124→        const headings = contentRef.current.querySelectorAll('h1, h2, h3');
   125→        headings.forEach((heading) => {
   126→            const text = heading.textContent || '';
   127→            const id = text.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-');
   128→            heading.id = id;
   129→        });
   130→    }, [post.content]);
   131→
   132→    // Initialize like state from localStorage
   133→    useEffect(() => {
   134→        setLikeCount(getLikeCount(post.slug));
   135→        setHasLiked(hasUserLikedPost(post.slug));
   136→    }, [post.slug]);
   137→
   138→    const formatDate = (dateStr: string) => {
   139→        const date = new Date(dateStr);
   140→        return date.toLocaleDateString('en-US', {
   141→            year: 'numeric',
   142→            month: 'long',
   143→            day: 'numeric'
   144→        });
   145→    };
   146→
   147→    const scrollToTop = () => {
   148→        scrollContainerRef.current?.scrollTo({ top: 0, behavior: 'smooth' });
   149→    };
   150→
   151→    const scrollToHeading = (id: string) => {
   152→        const element = document.getElementById(id);
   153→        if (element && scrollContainerRef.current) {
   154→            const container = scrollContainerRef.current;
   155→            const elementTop = element.offsetTop;
   156→            const offset = 100; // Account for sticky header
   157→            container.scrollTo({ top: elementTop - offset, behavior: 'smooth' });
   158→        }
   159→    };
   160→
   161→    const copyCode = async (code: string) => {
   162→        try {
   163→            await navigator.clipboard.writeText(code);
   164→        } catch (err) {
   165→            console.error('Failed to copy code:', err);
   166→        }
   167→    };
   168→
   169→    const getPostUrl = () => {
   170→        // Generate a shareable URL for the post
   171→        // In a production environment, this would be the actual URL
   172→        return `${window.location.origin}/#blog?post=${post.slug}`;
   173→    };
   174→
   175→    const shareOnTwitter = () => {
   176→        const url = getPostUrl();
   177→        const text = `${post.title} by @kolob0kk`;
   178→        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
   179→        window.open(twitterUrl, '_blank', 'width=550,height=420');
   180→    };
   181→
   182→    const shareOnLinkedIn = () => {
   183→        const url = getPostUrl();
   184→        const linkedInUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`;
   185→        window.open(linkedInUrl, '_blank', 'width=550,height=420');
   186→    };
   187→
   188→    const copyLink = async () => {
   189→        try {
   190→            const url = getPostUrl();
   191→            await navigator.clipboard.writeText(url);
   192→            setShowCopyToast(true);
   193→            setTimeout(() => setShowCopyToast(false), 2000);
   194→        } catch (err) {
   195→            console.error('Failed to copy link:', err);
   196→        }
   197→    };
   198→
   199→    const shareNative = async () => {
   200→        if (navigator.share) {
   201→            try {
   202→                await navigator.share({
   203→                    title: post.title,
   204→                    text: post.excerpt,
   205→                    url: getPostUrl()
   206→                });
   207→            } catch (err) {
   208→                // User cancelled or error occurred
   209→                console.log('Share cancelled or failed:', err);
   210→            }
   211→        }
   212→    };
   213→
   214→    const handleLike = () => {
   215→        if (hasLiked) {
   216→            // Unlike
   217→            const result = unlikePost(post.slug);
   218→            if (result.success) {
   219→                setLikeCount(result.count);
   220→                setHasLiked(false);
   221→            }
   222→        } else {
   223→            // Like with animation
   224→            const result = likePost(post.slug);
   225→            if (result.success) {
   226→                setLikeCount(result.count);
   227→                setHasLiked(true);
   228→                setIsLikeAnimating(true);
   229→                setTimeout(() => setIsLikeAnimating(false), 600);
   230→            }
   231→        }
   232→    };
   233→
   234→    return (
   235→        <div
   236→            style={{
   237→                position: 'fixed',
   238→                inset: 0,
   239→                zIndex: 1000,
   240→                display: 'flex',
   241→                flexDirection: 'column',
   242→                background: 'var(--color-background)',
   243→                animation: 'modalSlideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)'
   244→            }}
   245→        >
   246→            {/* Reading Progress Bar */}
   247→            <div
   248→                style={{
   249→                    position: 'fixed',
   250→                    top: 0,
   251→                    left: 0,
   252→                    right: 0,
   253→                    height: '3px',
   254→                    background: 'var(--color-border-light)',
   255→                    zIndex: 1001
   256→                }}
   257→            >
   258→                <div
   259→                    style={{
   260→                        height: '100%',
   261→                        width: `${scrollProgress}%`,
   262→                        background: 'var(--color-accent)',
   263→                        transition: 'width 0.1s ease-out'
   264→                    }}
   265→                />
   266→            </div>
   267→            {/* Modal styles - all using CSS variables */}
   268→            <style>{`
   269→        @keyframes modalSlideUp {
   270→          from {
   271→            opacity: 0;
   272→            transform: translateY(40px);
   273→          }
   274→          to {
   275→            opacity: 1;
   276→            transform: translateY(0);
   277→          }
   278→        }
   279→
   280→        .blog-modal-scroll::-webkit-scrollbar {
   281→          width: 6px;
   282→        }
   283→
   284→        .blog-modal-scroll::-webkit-scrollbar-track {
   285→          background: transparent;
   286→        }
   287→
   288→        .blog-modal-scroll::-webkit-scrollbar-thumb {
   289→          background: var(--color-scrollbar-thumb);
   290→          border-radius: 3px;
   291→        }
   292→
   293→        .blog-modal-scroll::-webkit-scrollbar-thumb:hover {
   294→          background: var(--color-scrollbar-thumb-hover);
   295→        }
   296→
   297→        .blog-modal-scroll {
   298→          scrollbar-width: thin;
   299→          scrollbar-color: var(--color-scrollbar-thumb) transparent;
   300→        }
   301→
   302→        .blog-content h1 {
   303→          font-size: clamp(28px, 5vw, 36px);
   304→          font-family: var(--font-serif);
   305→          font-weight: 400;
   306→          font-style: italic;
   307→          color: var(--color-text-primary);
   308→          margin: 40px 0 20px;
   309→          letter-spacing: -0.02em;
   310→          line-height: 1.2;
   311→          text-wrap: balance;
   312→        }
   313→
   314→        .blog-content h2 {
   315→          font-size: clamp(22px, 4vw, 26px);
   316→          font-family: var(--font-serif);
   317→          font-weight: 400;
   318→          font-style: italic;
   319→          color: var(--color-text-primary);
   320→          margin: 36px 0 16px;
   321→          letter-spacing: -0.02em;
   322→          line-height: 1.3;
   323→          text-wrap: balance;
   324→        }
   325→
   326→        .blog-content h3 {
   327→          font-size: clamp(18px, 3vw, 20px);
   328→          font-weight: 600;
   329→          color: var(--color-text-primary);
   330→          margin: 28px 0 12px;
   331→          line-height: 1.4;
   332→          text-wrap: balance;
   333→        }
   334→
   335→        .blog-content p {
   336→          font-size: clamp(16px, 2.5vw, 17px);
   337→          color: var(--color-text-secondary);
   338→          line-height: 1.8;
   339→          margin: 0 0 20px;
   340→        }
   341→
   342→        .blog-content ul, .blog-content ol {
   343→          margin: 0 0 20px;
   344→          padding-left: 24px;
   345→          color: var(--color-text-secondary);
   346→        }
   347→
   348→        .blog-content li {
   349→          font-size: ${isMobile ? '16px' : '17px'};
   350→          line-height: 1.8;
   351→          margin-bottom: 8px;
   352→        }
   353→
   354→        .blog-content a {
   355→          color: var(--color-accent);
   356→          text-decoration: none;
   357→          transition: opacity 0.2s ease;
   358→        }
   359→
   360→        .blog-content a:hover {
   361→          opacity: 0.8;
   362→        }
   363→
   364→        .blog-content strong {
   365→          color: var(--color-text-primary);
   366→          font-weight: 600;
   367→        }
   368→
   369→        .blog-content em {
   370→          font-style: italic;
   371→        }
   372→
   373→        .blog-content blockquote {
   374→          border-left: 3px solid var(--color-accent);
   375→          margin: 24px 0;
   376→          padding: 16px 24px;
   377→          background: var(--color-tag-hover);
   378→        }
   379→
   380→        .blog-content blockquote p {
   381→          margin: 0;
   382→          font-style: italic;
   383→        }
   384→
   385→        .blog-content hr {
   386→          border: none;
   387→          height: 1px;
   388→          background: var(--color-border);
   389→          margin: 40px 0;
   390→        }
   391→
   392→        .blog-content pre {
   393→          margin: 24px 0;
   394→          border-radius: 0;
   395→          border: 1px solid var(--color-border);
   396→        }
   397→
   398→        .blog-content code:not([class*="language-"]) {
   399→          background: var(--color-border-light);
   400→          padding: 2px 6px;
   401→          font-size: 0.9em;
   402→          color: var(--color-accent);
   403→        }
   404→
   405→        .blog-modal-back-btn {
   406→          display: flex;
   407→          align-items: center;
   408→          gap: 8px;
   409→          background: none;
   410→          border: none;
   411→          color: var(--color-text-tertiary);
   412→          font-size: 13px;
   413→          font-weight: 500;
   414→          cursor: pointer;
   415→          padding: 0;
   416→          font-family: var(--font-sans);
   417→          transition: color 0.2s ease;
   418→        }
   419→
   420→        .blog-modal-back-btn:hover {
   421→          color: var(--color-text-primary);
   422→        }
   423→
   424→        .blog-modal-close-btn {
   425→          background: none;
   426→          border: 1px solid var(--color-border);
   427→          color: var(--color-text-tertiary);
   428→          width: 40px;
   429→          height: 40px;
   430→          cursor: pointer;
   431→          display: flex;
   432→          align-items: center;
   433→          justify-content: center;
   434→          font-size: 18px;
   435→          transition: all 0.2s ease;
   436→        }
   437→
   438→        .blog-modal-close-btn:hover {
   439→          border-color: var(--color-text-tertiary);
   440→          color: var(--color-text-primary);
   441→        }
   442→
   443→        .back-to-top-btn {
   444→          position: fixed;
   445→          bottom: var(--space-xl);
   446→          right: var(--space-xl);
   447→          width: 48px;
   448→          height: 48px;
   449→          border-radius: 50%;
   450→          background: var(--color-background-secondary);
   451→          border: 1px solid var(--color-border);
   452→          color: var(--color-text-secondary);
   453→          cursor: pointer;
   454→          display: flex;
   455→          align-items: center;
   456→          justify-content: center;
   457→          font-size: 20px;
   458→          transition: all var(--transition-fast);
   459→          z-index: 100;
   460→          opacity: 0;
   461→          transform: translateY(20px);
   462→          pointer-events: none;
   463→        }
   464→
   465→        .back-to-top-btn.visible {
   466→          opacity: 1;
   467→          transform: translateY(0);
   468→          pointer-events: auto;
   469→        }
   470→
   471→        .back-to-top-btn:hover {
   472→          background: var(--color-accent);
   473→          color: var(--color-background);
   474→          border-color: var(--color-accent);
   475→          transform: translateY(-2px);
   476→        }
   477→
   478→        .toc-container {
   479→          position: sticky;
   480→          top: 120px;
   481→          max-height: calc(100vh - 200px);
   482→          overflow-y: auto;
   483→          padding: var(--space-lg);
   484→          background: var(--color-background-secondary);
   485→          border: 1px solid var(--color-border-light);
   486→          border-radius: 0;
   487→        }
   488→
   489→        .toc-container::-webkit-scrollbar {
   490→          width: 4px;
   491→        }
   492→
   493→        .toc-title {
   494→          font-size: 11px;
   495→          font-weight: 600;
   496→          letter-spacing: 0.1em;
   497→          text-transform: uppercase;
   498→          color: var(--color-text-muted);
   499→          margin-bottom: var(--space-md);
   500→        }
   501→
   502→        .toc-item {
   503→          display: block;
   504→          font-size: 13px;
   505→          color: var(--color-text-tertiary);
   506→          text-decoration: none;
   507→          padding: 6px 0;
   508→          transition: color var(--transition-fast);
   509→          cursor: pointer;
   510→          line-height: 1.4;
   511→        }
   512→
   513→        .toc-item:hover {
   514→          color: var(--color-text-primary);
   515→        }
   516→
   517→        .toc-item.active {
   518→          color: var(--color-accent);
   519→          font-weight: 500;
   520→        }
   521→
   522→        .toc-item.level-2 {
   523→          padding-left: var(--space-md);
   524→        }
   525→
   526→        .toc-item.level-3 {
   527→          padding-left: var(--space-xl);
   528→          font-size: 12px;
   529→        }
   530→
   531→        .code-block-wrapper {
   532→          position: relative;
   533→          margin: 24px 0;
   534→        }
   535→
   536→        .code-copy-btn {
   537→          position: absolute;
   538→          top: 8px;
   539→          right: 8px;
   540→          background: var(--color-background-secondary);
   541→          border: 1px solid var(--color-border);
   542→          color: var(--color-text-tertiary);
   543→          padding: 6px 12px;
   544→          font-size: 11px;
   545→          font-weight: 500;
   546→          letter-spacing: 0.05em;
   547→          text-transform: uppercase;
   548→          cursor: pointer;
   549→          border-radius: 0;
   550→          transition: all var(--transition-fast);
   551→          font-family: var(--font-sans);
   552→          z-index: 10;
   553→        }
   554→
   555→        .code-copy-btn:hover {
   556→          background: var(--color-accent);
   557→          color: var(--color-background);
   558→          border-color: var(--color-accent);
   559→        }
   560→
   561→        .related-posts-section {
   562→          margin-top: var(--space-3xl);
   563→          padding-top: var(--space-3xl);
   564→          border-top: 1px solid var(--color-border-light);
   565→        }
   566→
   567→        .related-posts-title {
   568→          font-size: clamp(20px, 3vw, 24px);
   569→          font-family: var(--font-serif);
   570→          font-style: italic;
   571→          color: var(--color-text-primary);
   572→          margin-bottom: var(--space-xl);
   573→        }
   574→
   575→        .related-post-card {
   576→          padding: var(--space-lg);
   577→          border: 1px solid var(--color-border-light);
   578→          cursor: pointer;
   579→          transition: all var(--transition-fast);
   580→          background: var(--color-background);
   581→        }
   582→
   583→        .related-post-card:hover {
   584→          border-color: var(--color-accent);
   585→          background: var(--color-card-hover);
   586→        }
   587→
   588→        .related-post-title {
   589→          font-size: 16px;
   590→          font-family: var(--font-serif);
   591→          font-style: italic;
   592→          color: var(--color-text-primary);
   593→          margin-bottom: var(--space-sm);
   594→        }
   595→
   596→        .related-post-meta {
   597→          font-size: 12px;
   598→          color: var(--color-text-tertiary);
   599→        }
   600→
   601→        .share-buttons-container {
   602→          display: flex;
   603→          align-items: center;
   604→          gap: var(--space-sm);
   605→          margin-top: var(--space-lg);
   606→        }
   607→
   608→        .share-label {
   609→          font-size: 11px;
   610→          font-weight: 500;
   611→          letter-spacing: 0.1em;
   612→          text-transform: uppercase;
   613→          color: var(--color-text-muted);
   614→        }
   615→
   616→        .share-btn {
   617→          background: none;
   618→          border: 1px solid var(--color-border-light);
   619→          color: var(--color-text-tertiary);
   620→          width: 36px;
   621→          height: 36px;
   622→          cursor: pointer;
   623→          display: flex;
   624→          align-items: center;
   625→          justify-content: center;
   626→          transition: all var(--transition-fast);
   627→          padding: 0;
   628→        }
   629→
   630→        .share-btn:hover {
   631→          border-color: var(--color-accent);
   632→          color: var(--color-accent);
   633→          transform: translateY(-2px);
   634→        }
   635→
   636→        .share-btn svg {
   637→          width: 16px;
   638→          height: 16px;
   639→        }
   640→
   641→        .copy-toast {
   642→          position: fixed;
   643→          bottom: calc(var(--space-xl) * 2 + 48px);
   644→          right: var(--space-xl);
   645→          background: var(--color-background-secondary);
   646→          border: 1px solid var(--color-accent);
   647→          color: var(--color-text-primary);
   648→          padding: var(--space-md) var(--space-lg);
   649→          font-size: 13px;
   650→          font-weight: 500;
   651→          z-index: 1002;
   652→          opacity: 0;
   653→          transform: translateY(10px);
   654→          transition: all var(--transition-fast);
   655→          pointer-events: none;
   656→        }
   657→
   658→        .copy-toast.visible {
   659→          opacity: 1;
   660→          transform: translateY(0);
   661→        }
   662→
   663→        .like-button-container {
   664→          display: flex;
   665→          align-items: center;
   666→          gap: var(--space-md);
   667→          margin-top: var(--space-2xl);
   668→          padding-top: var(--space-xl);
   669→          border-top: 1px solid var(--color-border-light);
   670→        }
   671→
   672→        .like-button {
   673→          display: flex;
   674→          align-items: center;
   675→          gap: var(--space-sm);
   676→          background: none;
   677→          border: 1px solid var(--color-border-light);
   678→          color: var(--color-text-tertiary);
   679→          padding: var(--space-md) var(--space-lg);
   680→          cursor: pointer;
   681→          transition: all var(--transition-fast);
   682→          font-family: var(--font-sans);
   683→          font-size: 14px;
   684→          font-weight: 500;
   685→        }
   686→
   687→        .like-button:hover {
   688→          border-color: var(--color-accent);
   689→          color: var(--color-accent);
   690→          transform: translateY(-2px);
   691→        }
   692→
   693→        .like-button.liked {
   694→          border-color: var(--color-accent);
   695→          background: var(--color-accent);
   696→          color: var(--color-background);
   697→        }
   698→
   699→        .like-button.liked:hover {
   700→          opacity: 0.9;
   701→          transform: translateY(-2px);
   702→        }
   703→
   704→        .like-button svg {
   705→          width: 18px;
   706→          height: 18px;
   707→          transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
   708→        }
   709→
   710→        .like-button.animating svg {
   711→          animation: likeHeartBeat 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
   712→        }
   713→
   714→        @keyframes likeHeartBeat {
   715→          0% {
   716→            transform: scale(1);
   717→          }
   718→          25% {
   719→            transform: scale(1.3);
   720→          }
   721→          50% {
   722→            transform: scale(1.1);
   723→          }
   724→          75% {
   725→            transform: scale(1.25);
   726→          }
   727→          100% {
   728→            transform: scale(1);
   729→          }
   730→        }
   731→
   732→        .like-count {
   733→          font-size: 14px;
   734→          font-weight: 500;
   735→          color: var(--color-text-secondary);
   736→        }
   737→
   738→        .like-count.has-likes {
   739→          color: var(--color-text-primary);
   740→        }
   741→
   742→        .like-label {
   743→          font-size: 11px;
   744→          font-weight: 500;
   745→          letter-spacing: 0.1em;
   746→          text-transform: uppercase;
   747→          color: var(--color-text-muted);
   748→        }
   749→      `}</style>
   750→
   751→            {/* Modal Header */}
   752→            <div style={{
   753→                display: 'flex',
   754→                justifyContent: 'space-between',
   755→                alignItems: 'center',
   756→                padding: isMobile ? '20px 24px' : '28px 64px',
   757→                borderBottom: '1px solid var(--color-border-light)',
   758→                background: 'var(--color-background)',
   759→                position: 'sticky',
   760→                top: 0,
   761→                zIndex: 10
   762→            }}>
   763→                <button onClick={onClose} className="blog-modal-back-btn">
   764→                    <span style={{ fontFamily: 'var(--font-serif)', fontStyle: 'italic' }}>←</span>
   765→                    Back to Blog
   766→                </button>
   767→
   768→                <button onClick={onClose} className="blog-modal-close-btn">
   769→                    ✕
   770→                </button>
   771→            </div>
   772→
   773→            {/* Modal Content - Scrollable */}
   774→            <div
   775→                ref={scrollContainerRef}
   776→                className="blog-modal-scroll"
   777→                style={{
   778→                    flex: 1,
   779→                    overflowY: 'auto',
   780→                    padding: isMobile ? '40px 24px' : '64px',
   781→                    display: 'flex',
   782→                    gap: 'var(--space-3xl)',
   783→                    justifyContent: 'center'
   784→                }}
   785→            >
   786→                {/* Main Content */}
   787→                <div style={{
   788→                    maxWidth: '800px',
   789→                    width: '100%',
   790→                    flex: '1 1 auto'
   791→                }}>
   792→                {/* Header */}
   793→                <div style={{ marginBottom: '40px' }}>
   794→                    <div style={{
   795→                        fontSize: '13px',
   796→                        color: 'var(--color-text-tertiary)',
   797→                        marginBottom: 'var(--space-md)',
   798→                        display: 'flex',
   799→                        alignItems: 'center',
   800→                        gap: 'var(--space-sm)'
   801→                    }}>
   802→                        <span>{formatDate(post.date)}</span>
   803→                        <span style={{ color: 'var(--color-separator)' }}>•</span>
   804→                        <span>{post.readingTime} min read</span>
   805→                    </div>
   806→
   807→                    <h1 style={{
   808→                        fontSize: isMobile ? '32px' : '48px',
   809→                        fontFamily: 'var(--font-serif)',
   810→                        fontWeight: 400,
   811→                        fontStyle: 'italic',
   812→                        color: 'var(--color-text-primary)',
   813→                        marginBottom: '20px',
   814→                        letterSpacing: '-0.02em',
   815→                        lineHeight: 1.1
   816→                    }}>
   817→                        {post.title}
   818→                    </h1>
   819→
   820→                    {/* Tags */}
   821→                    <div style={{
   822→                        display: 'flex',
   823→                        gap: '10px',
   824→                        flexWrap: 'wrap'
   825→                    }}>
   826→                        {post.tags.map((tag, i) => (
   827→                            <span key={i} style={{
   828→                                fontSize: '11px',
   829→                                fontWeight: 500,
   830→                                letterSpacing: '0.08em',
   831→                                textTransform: 'uppercase',
   832→                                color: 'var(--color-text-muted)',
   833→                                padding: '6px 12px',
   834→                                border: '1px solid var(--color-border-light)'
   835→                            }}>
   836→                                {tag}
   837→                            </span>
   838→                        ))}
   839→                    </div>
   840→
   841→                    {/* Share Buttons */}
   842→                    <div className="share-buttons-container">
   843→                        <span className="share-label">Share</span>
   844→
   845→                        {/* Twitter/X */}
   846→                        <button
   847→                            className="share-btn"
   848→                            onClick={shareOnTwitter}
   849→                            title="Share on Twitter/X"
   850→                            aria-label="Share on Twitter/X"
   851→                        >
   852→                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   853→                                <path d="M4 4l11.733 16h4.267l-11.733 -16z" />
   854→                                <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
   855→                            </svg>
   856→                        </button>
   857→
   858→                        {/* LinkedIn */}
   859→                        <button
   860→                            className="share-btn"
   861→                            onClick={shareOnLinkedIn}
   862→                            title="Share on LinkedIn"
   863→                            aria-label="Share on LinkedIn"
   864→                        >
   865→                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   866→                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
   867→                                <rect x="2" y="9" width="4" height="12" />
   868→                                <circle cx="4" cy="4" r="2" />
   869→                            </svg>
   870→                        </button>
   871→
   872→                        {/* Copy Link */}
   873→                        <button
   874→                            className="share-btn"
   875→                            onClick={copyLink}
   876→                            title="Copy link"
   877→                            aria-label="Copy link to clipboard"
   878→                        >
   879→                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   880→                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
   881→                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
   882→                            </svg>
   883→                        </button>
   884→
   885→                        {/* Native Share (Mobile) */}
   886→                        {typeof navigator !== 'undefined' && 'share' in navigator && (
   887→                            <button
   888→                                className="share-btn"
   889→                                onClick={shareNative}
   890→                                title="Share"
   891→                                aria-label="Open share menu"
   892→                            >
   893→                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
   894→                                    <circle cx="18" cy="5" r="3" />
   895→                                    <circle cx="6" cy="12" r="3" />
   896→                                    <circle cx="18" cy="19" r="3" />
   897→                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" />
   898→                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" />
   899→                                </svg>
   900→                            </button>
   901→                        )}
   902→                    </div>
   903→
   904→                    {/* Like Button */}
   905→                    <div className="like-button-container">
   906→                        <span className="like-label">Enjoyed this?</span>
   907→                        <button
   908→                            className={`like-button ${hasLiked ? 'liked' : ''} ${isLikeAnimating ? 'animating' : ''}`}
   909→                            onClick={handleLike}
   910→                            title={hasLiked ? 'Unlike this post' : 'Like this post'}
   911→                            aria-label={hasLiked ? 'Unlike this post' : 'Like this post'}
   912→                        >
   913→                            <svg
   914→                                viewBox="0 0 24 24"
   915→                                fill={hasLiked ? 'currentColor' : 'none'}
   916→                                stroke="currentColor"
   917→                                strokeWidth="2"
   918→                                strokeLinecap="round"
   919→                                strokeLinejoin="round"
   920→                            >
   921→                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
   922→                            </svg>
   923→                            <span>{hasLiked ? 'Liked' : 'Like'}</span>
   924→                        </button>
   925→                        {likeCount > 0 && (
   926→                            <span className={`like-count ${likeCount > 0 ? 'has-likes' : ''}`}>
   927→                                {likeCount} {likeCount === 1 ? 'like' : 'likes'}
   928→                            </span>
   929→                        )}
   930→                    </div>
   931→                </div>
   932→
   933→                {/* Hero Image */}
   934→                {post.thumbnail && (
   935→                    <div style={{
   936→                        aspectRatio: '16/9',
   937→                        marginBottom: 'var(--space-2xl)',
   938→                        background: 'linear-gradient(135deg, var(--color-background-secondary) 0%, var(--color-background-tertiary) 100%)',
   939→                        border: '1px solid var(--color-border-light)',
   940→                        overflow: 'hidden'
   941→                    }}>
   942→                        <img
   943→                            src={post.thumbnail}
   944→                            alt={post.title}
   945→                            style={{ width: '100%', height: '100%', objectFit: 'cover' }}
   946→                        />
   947→                    </div>
   948→                )}
   949→
   950→                {/* Article Content */}
   951→                <div ref={contentRef} className="blog-content">
   952→                    <ReactMarkdown
   953→                        remarkPlugins={[remarkGfm]}
   954→                        components={{
   955→                            code({ className, children, ...props }) {
   956→                                const match = /language-(\w+)/.exec(className || '');
   957→                                const isInline = !match;
   958→                                const code = String(children).replace(/\n$/, '');
   959→
   960→                                return !isInline ? (
   961→                                    <div className="code-block-wrapper">
   962→                                        <button
   963→                                            className="code-copy-btn"
   964→                                            onClick={() => copyCode(code)}
   965→                                            title="Copy code"
   966→                                        >
   967→                                            Copy
   968→                                        </button>
   969→                                        <SyntaxHighlighter
   970→                                            style={isDark ? oneDark : oneLight}
   971→                                            language={match[1]}
   972→                                            PreTag="div"
   973→                                            customStyle={{
   974→                                                margin: 0,
   975→                                                borderRadius: 0,
   976→                                                border: '1px solid var(--color-border)',
   977→                                                background: 'var(--color-code-bg)'
   978→                                            }}
   979→                                        >
   980→                                            {code}
   981→                                        </SyntaxHighlighter>
   982→                                    </div>
   983→                                ) : (
   984→                                    <code className={className} {...props}>
   985→                                        {children}
   986→                                    </code>
   987→                                );
   988→                            }
   989→                        }}
   990→                    >
   991→                        {post.content}
   992→                    </ReactMarkdown>
   993→                </div>
   994→
   995→                {/* Navigation Between Posts */}
   996→                {(hasPrev || hasNext) && (
   997→                    <div style={{
   998→                        display: 'flex',
   999→                        justifyContent: 'space-between',
  1000→                        marginTop: 'var(--space-3xl)',
  1001→                        paddingTop: 'var(--space-xl)',
  1002→                        borderTop: '1px solid var(--color-border-light)',
  1003→                        gap: 'var(--space-lg)',
  1004→                        flexWrap: 'wrap'
  1005→                    }}>
  1006→                        {hasPrev ? (
  1007→                            <button
  1008→                                onClick={() => onNavigate?.('prev')}
  1009→                                style={{
  1010→                                    background: 'none',
  1011→                                    border: 'none',
  1012→                                    cursor: 'pointer',
  1013→                                    textAlign: 'left',
  1014→                                    padding: 0,
  1015→                                    flex: 1,
  1016→                                    fontFamily: 'var(--font-sans)'
  1017→                                }}
  1018→                            >
  1019→                                <span style={{
  1020→                                    fontSize: '11px',
  1021→                                    fontWeight: 500,
  1022→                                    letterSpacing: '0.1em',
  1023→                                    textTransform: 'uppercase',
  1024→                                    color: 'var(--color-text-muted)',
  1025→                                    display: 'block',
  1026→                                    marginBottom: 'var(--space-sm)'
  1027→                                }}>← Previous</span>
  1028→                                <span style={{
  1029→                                    fontSize: '16px',
  1030→                                    fontFamily: 'var(--font-serif)',
  1031→                                    fontStyle: 'italic',
  1032→                                    color: 'var(--color-text-secondary)'
  1033→                                }}>{prevTitle}</span>
  1034→                            </button>
  1035→                        ) : <div style={{ flex: 1 }} />}
  1036→
  1037→                        {hasNext ? (
  1038→                            <button
  1039→                                onClick={() => onNavigate?.('next')}
  1040→                                style={{
  1041→                                    background: 'none',
  1042→                                    border: 'none',
  1043→                                    cursor: 'pointer',
  1044→                                    textAlign: 'right',
  1045→                                    padding: 0,
  1046→                                    flex: 1,
  1047→                                    fontFamily: 'var(--font-sans)'
  1048→                                }}
  1049→                            >
  1050→                                <span style={{
  1051→                                    fontSize: '11px',
  1052→                                    fontWeight: 500,
  1053→                                    letterSpacing: '0.1em',
  1054→                                    textTransform: 'uppercase',
  1055→                                    color: 'var(--color-text-muted)',
  1056→                                    display: 'block',
  1057→                                    marginBottom: 'var(--space-sm)'
  1058→                                }}>Next →</span>
  1059→                                <span style={{
  1060→                                    fontSize: '16px',
  1061→                                    fontFamily: 'var(--font-serif)',
  1062→                                    fontStyle: 'italic',
  1063→                                    color: 'var(--color-text-secondary)'
  1064→                                }}>{nextTitle}</span>
  1065→                            </button>
  1066→                        ) : <div style={{ flex: 1 }} />}
  1067→                    </div>
  1068→                )}
  1069→
  1070→                {/* Related Posts */}
  1071→                {relatedPosts && relatedPosts.length > 0 && (
  1072→                    <div className="related-posts-section">
  1073→                        <h2 className="related-posts-title">Related Articles</h2>
  1074→                        <div style={{
  1075→                            display: 'grid',
  1076→                            gap: 'var(--space-lg)',
  1077→                            gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fit, minmax(280px, 1fr))'
  1078→                        }}>
  1079→                            {relatedPosts.map((relatedPost, index) => (
  1080→                                <div
  1081→                                    key={index}
  1082→                                    className="related-post-card"
  1083→                                    onClick={() => onPostSelect?.(relatedPost)}
  1084→                                >
  1085→                                    <h3 className="related-post-title">{relatedPost.title}</h3>
  1086→                                    <div className="related-post-meta">
  1087→                                        {formatDate(relatedPost.date)} · {relatedPost.readingTime} min read
  1088→                                    </div>
  1089→                                    {relatedPost.tags && relatedPost.tags.length > 0 && (
  1090→                                        <div style={{
  1091→                                            display: 'flex',
  1092→                                            gap: '8px',
  1093→                                            flexWrap: 'wrap',
  1094→                                            marginTop: 'var(--space-sm)'
  1095→                                        }}>
  1096→                                            {relatedPost.tags.slice(0, 3).map((tag, i) => (
  1097→                                                <span key={i} style={{
  1098→                                                    fontSize: '10px',
  1099→                                                    fontWeight: 500,
  1100→                                                    letterSpacing: '0.08em',
  1101→                                                    textTransform: 'uppercase',
  1102→                                                    color: 'var(--color-text-muted)',
  1103→                                                    padding: '4px 8px',
  1104→                                                    border: '1px solid var(--color-border-light)'
  1105→                                                }}>
  1106→                                                    {tag}
  1107→                                                </span>
  1108→                                            ))}
  1109→                                        </div>
  1110→                                    )}
  1111→                                </div>
  1112→                            ))}
  1113→                        </div>
  1114→                    </div>
  1115→                )}
  1116→                </div>
  1117→
  1118→                {/* Table of Contents - Desktop Only */}
  1119→                {!isMobile && showToc && tocItems.length > 0 && (
  1120→                    <div style={{
  1121→                        width: '280px',
  1122→                        flexShrink: 0
  1123→                    }}>
  1124→                        <div className="toc-container">
  1125→                            <div className="toc-title">Contents</div>
  1126→                            <nav>
  1127→                                {tocItems.map((item, index) => (
  1128→                                    <div
  1129→                                        key={index}
  1130→                                        className={`toc-item level-${item.level} ${activeHeading === item.id ? 'active' : ''}`}
  1131→                                        onClick={() => scrollToHeading(item.id)}
  1132→                                    >
  1133→                                        {item.text}
  1134→                                    </div>
  1135→                                ))}
  1136→                            </nav>
  1137→                        </div>
  1138→                    </div>
  1139→                )}
  1140→            </div>
  1141→
  1142→            {/* Back to Top Button */}
  1143→            <button
  1144→                className={`back-to-top-btn ${showBackToTop ? 'visible' : ''}`}
  1145→                onClick={scrollToTop}
  1146→                title="Back to top"
  1147→            >
  1148→                ↑
  1149→            </button>
  1150→
  1151→            {/* Copy Toast Notification */}
  1152→            <div className={`copy-toast ${showCopyToast ? 'visible' : ''}`}>
  1153→                Link copied to clipboard!
  1154→            </div>
  1155→        </div>
  1156→    );
  1157→}
  1158→
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Perfect! Now I have a comprehensive understanding of the codebase. Let me compile a detailed research report.

## Portfolio Routing & Navigation Analysis

I've completed a thorough exploration of your portfolio codebase. Here's what I found:

### 1. Current Routing Setup in App.tsx

**Simple, minimal routing structure:**
- Uses `HashRouter` from react-router-dom (hash-based URLs with `#`)
- Only 2 routes defined:
  - `/` - Base portfolio (default)
  - `/:company/:role` - Variant portfolio (personalized for specific companies)
- All routes render the same `Portfolio` component structure but with different data context

**Location:** `/Users/dfotesco/Portfolio/portfolio/src/App.tsx`

---

### 2. HashRouter with Existing Routes

The HashRouter enables URLs like:
- `https://example.com/#/` - Home/base portfolio
- `https://example.com/#/bloomberg/senior-engineer` - Variant for Bloomberg Senior Engineer

**Key observations:**
- Hash routing is used for SPA navigation without server routing
- VariantPortfolio dynamically loads variant data based on `company` and `role` params
- The variant system generates slugs from params: `${company.toLowerCase()}-${role.toLowerCase()}`
- Uses `Navigate` for redirects when variant is not found

---

### 3. Page Structure: BasePortfolio & VariantPortfolio

**BasePortfolio** (`/Users/dfotesco/Portfolio/portfolio/src/pages/BasePortfolio.tsx`):
- Wraps content in `VariantProvider` with base profile data
- Simply renders `<Portfolio />`

**VariantPortfolio** (`/Users/dfotesco/Portfolio/portfolio/src/pages/VariantPortfolio.tsx`):
- More complex: parses URL params with `useParams()`
- Has loading state while fetching variant data
- Merges base profile with variant overrides
- Handles 404 redirects to `/` if variant not found
- Also wraps in `VariantProvider` with merged profile

**Pattern:** Both pages use a provider pattern to inject profile data, then render the same Portfolio component.

---

### 4. Sub-Page/Nested Route Patterns

**Current approach: Modal-based, NOT routing-based**

The codebase does NOT use nested routes for sub-content. Instead:

**Case Studies:**
- CaseStudiesSection renders a list of clickable case study cards
- Clicking opens CaseStudyDrawer as a modal (side panel)
- Uses local state: `const [modalCase, setModalCase] = useState<CaseStudy | null>(null)`
- **No URL change** - modal state is independent of routing
- Drawer includes SEO meta tag with path: `?case-study=${caseStudy.id}`

**Blog Posts:**
- Blog component lists blog posts with click handlers
- Clicking opens BlogPostModal as a full-screen modal
- Uses local state: `const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null)`
- **No URL change** - modal state is independent of routing
- Modal shares URL pattern: `#blog?post=${post.slug}`
- Navigation between posts is internal to modal (prev/next buttons)

**See:** `/Users/dfotesco/Portfolio/portfolio/src/components/Portfolio.tsx` lines 593-601 (case study drawer) and 415 + 317-330 (blog modal)

---

### 5. CaseStudyDrawer Analysis

**Location:** `/Users/dfotesco/Portfolio/portfolio/src/components/case-study/CaseStudyDrawer.tsx`

**Is it a modal, not routing-based:**
- Uses `AnimatePresence` from Framer Motion for animations
- Renders as a fixed-position side panel (desktop) or bottom sheet (mobile)
- Controlled by `isOpen` prop and `onClose` callback
- Has escape key handling for UX
- **No router integration** - it's purely state-driven

**Structure:**
- Backdrop with blur effect
- Scrollable drawer panel
- Sticky header that appears on scroll
- Fixed close buttons (mobile top bar, desktop floating button, desktop sticky header)
- No nested routing, just conditional rendering

---

## Key Patterns for Adding `/blog/:slug` Route

Based on the code architecture, here are the important patterns:

### Current Navigation Patterns:
1. **Hash-based routing** - All URLs use `#` prefix
2. **Modal-first approach** - Content opens in modals, not full pages
3. **Local state management** - No URL state synchronization
4. **Provider pattern** - Content data injected via context

### For Adding `/blog/:slug` Route:

You'd need to:

1. **Add new route in App.tsx:**
   ```
   <Route path="/blog/:slug" element={<BlogPostPage />} />
   ```

2. **Create BlogPostPage component** (similar to VariantPortfolio):
   - Extract `:slug` with `useParams()`
   - Load blog post data from parsed blog posts
   - Handle loading/404states
   - Render BlogPostModal or a dedicated page component

3. **URL generation pattern:** Following the codebase style:
   - Blog post URLs would be: `/#/blog/post-slug-here`
   - Query param pattern is used for fallback: `#blog?post=slug`

4. **Two options for implementation:**

   **Option A: Use full-page route** (recommended for SEO/bookmarking):
   - Create `BlogPostPage.tsx` similar to `VariantPortfolio.tsx`
   - Load and display blog post content as full page
   - Maintains URL state properly

   **Option B: Keep modal-based, update URL** (current pattern):
   - Keep BlogPostModal component
   - Sync `selectedPost` state with URL params
   - Use `useNavigate()` to update URL when modal opens
   - Update URL when closing modal

### Type System:

**BlogPost interface** (`/Users/dfotesco/Portfolio/portfolio/src/types/blog.ts`):
```typescript
export interface BlogPost {
    slug: string;
    title: string;
    date: string;
    excerpt: string;
    tags: string[];
    readingTime: number;
    thumbnail?: string | null;
    content: string;
}
```

This already has all needed fields for routing and display.

---

## Summary

Your portfolio uses a **minimal routing setup** with a **modal-first interaction pattern** rather than traditional nested routes. The current case study and blog systems don't change the URL when opening modals.

For adding blog routing properly, you'd either:
1. **Create a full-page route** (`/blog/:slug`) with a dedicated BlogPostPage component
2. **Sync the modal state to the URL** while keeping the current modal interaction pattern

The variant system shows the pattern for handling parameterized routes with dynamic data loading, which would be useful as a reference.

