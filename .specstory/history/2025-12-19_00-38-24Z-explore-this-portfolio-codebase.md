<!-- Generated by SpecStory -->

# 2025-12-19 00:38:24Z

<!-- Claude Code Session 624e4926-602d-4550-a4ea-eb55180f5f48 (2025-12-19_00-38-24Z) -->

_**User (sidechain)**_

Explore this portfolio codebase to understand:
1. The overall project structure and key directories
2. What technologies/frameworks are being used
3. The main components and pages
4. Any documentation files that explain the project

Provide a concise summary of the codebase architecture.

---

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

I'll explore this portfolio codebase systematically to understand its structure, technologies, and architecture.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** Find configuration and documentation files

`find /Users/dfotesco/Portfolio/portfolio -type f -name "*.json" -o -name "*.md" | head -20`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Glob**

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List root directory contents

`ls -la /Users/dfotesco/Portfolio/portfolio`

Result:

```
total 1160
drwxr-xr-x@  27 dfotesco  staff     864 Dec 18 16:33 .
drwxr-xr-x@  34 dfotesco  staff    1088 Dec 18 05:46 ..
drwxr-xr-x@   3 dfotesco  staff      96 Dec 18 17:12 .claude
drwxr-xr-x@  17 dfotesco  staff     544 Dec 18 19:37 .git
drwxr-xr-x@   3 dfotesco  staff      96 Dec 18 06:06 .github
-rw-r--r--@   1 dfotesco  staff     327 Dec 18 06:16 .gitignore
drwxr-xr-x@  13 dfotesco  staff     416 Dec 18 06:16 content
drwxr-xr-x@   8 dfotesco  staff     256 Dec 18 06:19 context
drwxr-xr-x@   9 dfotesco  staff     288 Dec 18 14:35 design-refs
drwxr-xr-x@   6 dfotesco  staff     192 Dec 15 19:14 docs
-rw-r--r--@   1 dfotesco  staff     616 Dec 10 12:54 eslint.config.js
-rw-r--r--@   1 dfotesco  staff    2313 Dec 10 15:01 index.html
-rw-r--r--@   1 dfotesco  staff  106589 Dec 11 06:15 linkedin-banner-wide.png
-rw-r--r--@   1 dfotesco  staff  113170 Dec 11 06:06 linkedin-banner.png
drwxr-xr-x@ 343 dfotesco  staff   10976 Dec 18 14:49 node_modules
-rw-r--r--@   1 dfotesco  staff  267246 Dec 18 14:48 package-lock.json
-rw-r--r--@   1 dfotesco  staff    1682 Dec 18 06:16 package.json
drwxr-xr-x@   9 dfotesco  staff     288 Dec 18 06:16 public
-rw-r--r--@   1 dfotesco  staff    1872 Dec 18 06:19 README.md
drwxr-xr-x@   4 dfotesco  staff     128 Dec 18 06:16 scripts
drwxr-xr-x@  12 dfotesco  staff     384 Dec 18 06:16 src
-rw-r--r--@   1 dfotesco  staff   54540 Dec 18 16:33 test_output.txt
-rw-r--r--@   1 dfotesco  staff     732 Dec 10 12:54 tsconfig.app.json
-rw-r--r--@   1 dfotesco  staff     119 Dec 10 12:54 tsconfig.json
-rw-r--r--@   1 dfotesco  staff     653 Dec 10 12:54 tsconfig.node.json
-rw-r--r--@   1 dfotesco  staff     233 Dec 11 18:24 vite.config.ts
-rw-r--r--@   1 dfotesco  staff     640 Dec 12 12:06 vitest.config.ts
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/tsconfig.node.json
/Users/dfotesco/Portfolio/portfolio/context/STATE_OF_THE_UNION.md
/Users/dfotesco/Portfolio/portfolio/context/AGENT_RULES.md
/Users/dfotesco/Portfolio/portfolio/context/DEVLOG.md
/Users/dfotesco/Portfolio/portfolio/context/ROADMAP.md
/Users/dfotesco/Portfolio/portfolio/context/CODEBASE.md
/Users/dfotesco/Portfolio/portfolio/context/DESIGN.md
/Users/dfotesco/Portfolio/portfolio/tsconfig.app.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-plain-obj/readme.md
/Users/dfotesco/Portfolio/portfolio/node_modules/is-plain-obj/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/react-is/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/react-is/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/ansi-styles/readme.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/ansi-styles/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/pretty-format/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/node_modules/pretty-format/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/jest-matcher-utils/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/tinyglobby/README.md
/Users/dfotesco/Portfolio/portfolio/node_modules/tinyglobby/package.json
```

Result:

```
/Users/dfotesco/Portfolio/portfolio/tsconfig.app.json
/Users/dfotesco/Portfolio/portfolio/tsconfig.json
/Users/dfotesco/Portfolio/portfolio/tsconfig.node.json
/Users/dfotesco/Portfolio/portfolio/.git/cursor/crepe/6ee7982c4fce24532408727efc9bb7b545f176eb/metadata.json
/Users/dfotesco/Portfolio/portfolio/content/variants/bloomberg-technical-product-manager.json
/Users/dfotesco/Portfolio/portfolio/content/variants/gensyn-technical-product-manager.json
/Users/dfotesco/Portfolio/portfolio/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/symbol-tree/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/to-regex-range/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/strip-indent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/sprintf-js/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/stackback/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/slash/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/strip-bom-string/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/section-matter/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/shebang-regex/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/shallowequal/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/resolve-from/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/require-from-string/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/redent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/safer-buffer/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/path-exists/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/parent-module/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/natural-compare/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/lru-cache/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/loose-envify/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/lodash.merge/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/json-buffer/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/json-stable-stringify-without-jsonify/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/json-schema-traverse/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/js-tokens/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/isexe/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-extglob/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-number/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/invariant/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-extendable/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/imurmurhash/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/indent-string/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/has-flag/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/format/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fast-levenshtein/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/extend/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/esutils/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/extend-shallow/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/esprima/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/css.escape/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/concat-map/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/color-convert/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/color-name/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/callsites/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/@rollup/rollup-darwin-arm64/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/stack-utils/node_modules/escape-string-regexp/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/gray-matter/node_modules/argparse/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/undici-types/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/stack-utils/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/ms/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-potential-custom-element-name/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/balanced-match/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/zwitch/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/yocto-queue/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/xml-name-validator/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/whatwg-encoding/lib/labels-to-names.json
/Users/dfotesco/Portfolio/portfolio/node_modules/webidl-conversions/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/word-wrap/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/trim-lines/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/strip-json-comments/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/space-separated-tokens/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/shebang-command/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/react-fast-compare/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/pathval/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/path-key/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/p-locate/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/p-limit/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-html-tag-name/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-resolve-all/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/min-indent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-types/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-combine-extensions/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-util-encode/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/micromark-extension-gfm/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/markdown-table/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/longest-streak/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/locate-path/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/kind-of/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-hexadecimal/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-glob/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-alphabetical/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/import-fresh/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-plain-obj/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-alphanumerical/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/is-decimal/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/html-encoding-sniffer/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/hermes-estree/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/hermes-parser/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/glob-parent/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/find-up/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fsevents/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fault/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/fill-range/package.json
/Users/dfotesco/Portfolio/portfolio/node_modules/escape-string-regexp/package.json
(Results are truncated. Consider using a more specific path or pattern.)
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me read the key configuration and documentation files to understand the project better.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./package.json`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./README.md`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./context/CODEBASE.md`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List source directory structure

`ls -la /Users/dfotesco/Portfolio/portfolio/src`

Result:

```
1â†’{
     2â†’  "name": "dmitrii-portfolio",
     3â†’  "private": true,
     4â†’  "version": "0.0.0",
     5â†’  "type": "module",
     6â†’  "scripts": {
     7â†’    "dev": "vite",
     8â†’    "build": "tsc -b && vite build",
     9â†’    "lint": "eslint .",
    10â†’    "preview": "vite preview",
    11â†’    "test": "vitest run",
    12â†’    "test:watch": "vitest",
    13â†’    "test:design-system": "vitest run --reporter=verbose src/tests/design-system",
    14â†’    "validate": "tsx scripts/validate-content.ts",
    15â†’    "generate:cv": "tsx scripts/generate-cv.ts"
    16â†’  },
    17â†’  "dependencies": {
    18â†’    "@types/react-syntax-highlighter": "^15.5.13",
    19â†’    "framer-motion": "^12.23.26",
    20â†’    "gray-matter": "^4.0.3",
    21â†’    "react": "^19.2.0",
    22â†’    "react-dom": "^19.2.0",
    23â†’    "react-helmet-async": "^2.0.5",
    24â†’    "react-markdown": "^10.1.0",
    25â†’    "react-router-dom": "^6.30.2",
    26â†’    "react-syntax-highlighter": "^16.1.0",
    27â†’    "remark-gfm": "^4.0.1",
    28â†’    "yaml": "^2.8.2",
    29â†’    "zod": "^4.1.13"
    30â†’  },
    31â†’  "overrides": {
    32â†’    "react-helmet-async": {
    33â†’      "react": "$react",
    34â†’      "react-dom": "$react-dom"
    35â†’    }
    36â†’  },
    37â†’  "devDependencies": {
    38â†’    "@eslint/js": "^9.39.1",
    39â†’    "@rollup/plugin-yaml": "^4.1.2",
    40â†’    "@testing-library/dom": "^10.4.1",
    41â†’    "@testing-library/jest-dom": "^6.9.1",
    42â†’    "@testing-library/react": "^16.3.0",
    43â†’    "@types/node": "^24.10.4",
    44â†’    "@types/react": "^19.2.5",
    45â†’    "@types/react-dom": "^19.2.3",
    46â†’    "@types/testing-library__jest-dom": "^5.14.9",
    47â†’    "@vitejs/plugin-react": "^5.1.1",
    48â†’    "eslint": "^9.39.1",
    49â†’    "eslint-plugin-react-hooks": "^7.0.1",
    50â†’    "eslint-plugin-react-refresh": "^0.4.24",
    51â†’    "globals": "^16.5.0",
    52â†’    "jsdom": "^27.0.1",
    53â†’    "tsx": "^4.21.0",
    54â†’    "typescript": "~5.9.3",
    55â†’    "typescript-eslint": "^8.46.4",
    56â†’    "vite": "^7.2.4",
    57â†’    "vitest": "^3.2.4"
    58â†’  }
    59â†’}
    60â†’
```

Result:

```
1â†’# Dmitrii Fotesco | Senior Technical PM Portfolio
     2â†’
     3â†’**Mission Control Center** for the edgeoftrust.com portfolio engine.
     4â†’
     5â†’---
     6â†’
     7â†’## ğŸ›ï¸ Project Structure
     8â†’
     9â†’### ğŸ§  [Active Context](./context/) (Read this first)
    10â†’The "Brain" of the project. Essential for AI agents and strategic planning.
    11â†’*   **[STATE OF THE UNION](./context/STATE_OF_THE_UNION.md)**: ğŸ”´ **Current Audit & Status** (Red Alert Check).
    12â†’*   **[ROADMAP](./context/ROADMAP.md)**: Current sprint status and future targets.
    13â†’*   **[AGENT RULES](./context/AGENT_RULES.md)**: The "Supreme Law" for AI collaboration.
    14â†’*   **[CODEBASE Architecture](./context/CODEBASE.md)**: High-level system design and patterns.
    15â†’*   **[DESIGN System](./context/DESIGN.md)**: Visual tokens, typography, and theme parity.
    16â†’*   **[DEVLOG](./context/DEVLOG.md)**: Session-by-session history of changes.
    17â†’
    18â†’### ğŸ“– [Reference Guides](./docs/)
    19â†’Operational details for managing the engine.
    20â†’*   **[Content Guide](./docs/CONTENT.md)**: Schema definitions for YAML/MD.
    21â†’*   **[Universal CV](./docs/guides/universal-cv.md)**: Personalization engine documentation.
    22â†’*   **[Adding Case Studies](./docs/guides/adding-case-studies.md)**: Workflow for new editorial content.
    23â†’
    24â†’### ğŸ—„ï¸ [Historical Archive](./docs/history/)
    25â†’Past plans, refactoring logs, and legacy prompts.
    26â†’
    27â†’---
    28â†’
    29â†’## ğŸš€ Quick Start (Operations)
    30â†’
    31â†’### ğŸ› ï¸ Local Development
    32â†’\```bash
    33â†’# Setup & Dependency injection
    34â†’npm install
    35â†’
    36â†’# Start Local Instance
    37â†’npm run dev
    38â†’
    39â†’# Content Integrity Check
    40â†’npm run validate
    41â†’\```
    42â†’
    43â†’### ğŸ¯ Personalization (Universal CV)
    44â†’\```bash
    45â†’# Generate a tailored variant for a specific role
    46â†’npm run generate:cv -- --company "Company" --role "Role" --jd "./jd.txt" --provider gemini
    47â†’\```
    48â†’
    49â†’---
    50â†’
    51â†’## ğŸ—ï¸ Technical Stack
    52â†’**React 19 + TypeScript + Vite + Framer Motion + Zod**
    53â†’
    54â†’**Status**: Active Development
    55â†’**Live URL**: [edgeoftrust.com](https://edgeoftrust.com)
    56â†’
```

Result:

```
1â†’# Portfolio Codebase Context
     2â†’
     3â†’> **For AI Agents**: This document provides comprehensive context about the codebase architecture, conventions, and recent work to enable effective onboarding.
     4â†’
     5â†’---
     6â†’
     7â†’## Project Overview
     8â†’
     9â†’**Name**: Dmitrii Fotesco's Portfolio  
    10â†’**Stack**: React 19 + TypeScript + Vite  
    11â†’**Purpose**: Personal portfolio showcasing PM/engineering work with case studies  
    12â†’**URL**: https://github.com/fotescodev/portfolio
    13â†’
    14â†’---
    15â†’
    16â†’## Technical Constraints
    17â†’
    18â†’| Metric | Limit | Rationale |
    19â†’|--------|-------|-----------|
    20â†’| **Initial Bundle** | < 200KB (Gzipped) | SEO & Mobile LCP performance |
    21â†’| **Animation Rate** | 60 FPS | Premium "smooth" feel requirement |
    22â†’| **Type Safety** | 100% Zod | Data integrity for YAML-to-JSON pipeline |
    23â†’
    24â†’---
    25â†’
    26â†’## Architecture
    27â†’
    28â†’### Directory Structure
    29â†’
    30â†’\```
    31â†’portfolio/
    32â†’â”œâ”€â”€ src/
    33â†’â”‚   â”œâ”€â”€ components/
    34â†’â”‚   â”‚   â”œâ”€â”€ Portfolio.tsx             # Main portfolio component
    35â†’â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx           # Theme switcher component
    36â†’â”‚   â”‚   â”œâ”€â”€ sections/                 # Page sections
    37â†’â”‚   â”‚   â”‚   â”œâ”€â”€ HeroSection.tsx       # Receives profile prop
    38â†’â”‚   â”‚   â”‚   â”œâ”€â”€ AboutSection.tsx      # Receives profile prop
    39â†’â”‚   â”‚   â”‚   â”œâ”€â”€ ExperienceSection.tsx
    40â†’â”‚   â”‚   â”‚   â”œâ”€â”€ CertificationsSection.tsx  # Receives profile prop
    41â†’â”‚   â”‚   â”‚   â”œâ”€â”€ PassionProjectsSection.tsx
    42â†’â”‚   â”‚   â”‚   â”œâ”€â”€ SocialSection.tsx
    43â†’â”‚   â”‚   â”‚   â”œâ”€â”€ FooterSection.tsx
    44â†’â”‚   â”‚   â”‚   â””â”€â”€ CaseStudiesSection.tsx
    45â†’â”‚   â”‚   â”œâ”€â”€ case-study/              # Case study components
    46â†’â”‚   â”‚   â”‚   â”œâ”€â”€ CaseStudyDrawer.tsx
    47â†’â”‚   â”‚   â”‚   â”œâ”€â”€ CaseStudyContent.tsx
    48â†’â”‚   â”‚   â”‚   â””â”€â”€ CaseStudyFooter.tsx
    49â†’â”‚   â”‚   â””â”€â”€ common/                   # Reusable UI components
    50â†’â”‚   â”‚       â”œâ”€â”€ AmbientBackground.tsx
    51â†’â”‚   â”‚       â””â”€â”€ Omnibar.tsx
    52â†’â”‚   â”œâ”€â”€ pages/                        # Route pages
    53â†’â”‚   â”‚   â”œâ”€â”€ BasePortfolio.tsx         # Base portfolio (/#/)
    54â†’â”‚   â”‚   â””â”€â”€ VariantPortfolio.tsx      # Personalized variants (/#/company/role)
    55â†’â”‚   â”œâ”€â”€ context/
    56â†’â”‚   â”‚   â”œâ”€â”€ ThemeContext.tsx          # Theme provider (dark/light)
    57â†’â”‚   â”‚   â””â”€â”€ VariantContext.tsx        # ğŸ†• Variant profile injection
    58â†’â”‚   â”œâ”€â”€ lib/
    59â†’â”‚   â”‚   â”œâ”€â”€ content.ts                # Content loader (Vite import.meta.glob)
    60â†’â”‚   â”‚   â”œâ”€â”€ schemas.ts                # Zod validation schemas
    61â†’â”‚   â”‚   â””â”€â”€ variants.ts               # ğŸ†• Variant loading & merging
    62â†’â”‚   â”œâ”€â”€ types/
    63â†’â”‚   â”‚   â”œâ”€â”€ portfolio.ts              # Portfolio type definitions
    64â†’â”‚   â”‚   â””â”€â”€ variant.ts                # ğŸ†• Variant type definitions
    65â†’â”‚   â”œâ”€â”€ styles/
    66â†’â”‚   â”‚   â””â”€â”€ globals.css               # Design system tokens
    67â†’â”‚   â””â”€â”€ tests/
    68â†’â”‚       â”œâ”€â”€ setup.ts                  # Test configuration
    69â†’â”‚       â”œâ”€â”€ design-system/            # Design system test suite
    70â†’â”‚       â””â”€â”€ mobile/                   # Mobile responsiveness tests
    71â†’â”œâ”€â”€ content/
    72â†’â”‚   â”œâ”€â”€ profile.yaml                  # Base profile data
    73â†’â”‚   â”œâ”€â”€ experience/index.yaml
    74â†’â”‚   â”œâ”€â”€ case-studies/*.md
    75â†’â”‚   â”œâ”€â”€ blog/*.md
    76â†’â”‚   â””â”€â”€ variants/                     # ğŸ†• Personalized variants
    77â†’â”‚       â”œâ”€â”€ README.md
    78â†’â”‚       â”œâ”€â”€ _template.yaml
    79â†’â”‚       â”œâ”€â”€ bloomberg-technical-product-manager.{yaml,json}
    80â†’â”‚       â””â”€â”€ gensyn-technical-product-manager.{yaml,json}
    81â†’â”œâ”€â”€ scripts/
    82â†’â”‚   â”œâ”€â”€ validate-content.ts           # Content validation CLI
    83â†’â”‚   â””â”€â”€ generate-cv.ts                # ğŸ†• Variant generation CLI
    84â†’â”œâ”€â”€ docs/
    85â†’â”‚   â”œâ”€â”€ guides/
    86â†’â”‚   â”‚   â”œâ”€â”€ adding-case-studies.md
    87â†’â”‚   â”‚   â””â”€â”€ universal-cv.md           # ğŸ†• Universal CV guide
    88â†’â”‚   â””â”€â”€ CONTENT.md
    89â†’â”œâ”€â”€ context/
    90â†’â”‚   â”œâ”€â”€ AGENT_RULES.md                # AI agent governance rules
    91â†’â”‚   â”œâ”€â”€ CODEBASE.md                   # This file - architecture docs
    92â†’â”‚   â”œâ”€â”€ DESIGN.md                     # Design system documentation
    93â†’â”‚   â”œâ”€â”€ DEVLOG.md                     # Developer log (session history)
    94â†’â”‚   â””â”€â”€ ROADMAP.md                    # Project roadmap
    95â†’â””â”€â”€ vitest.config.ts                  # Test configuration
    96â†’\```
    97â†’
    98â†’### Key Patterns
    99â†’
   100â†’1. **Inline Styles with CSS Variables**: Components use inline `style` props with CSS variables
   101â†’   \```tsx
   102â†’   style={{ color: 'var(--color-text-primary)' }}
   103â†’   \```
   104â†’
   105â†’2. **Theme via data-attribute**: Theme switching uses `data-theme` on `<html>`
   106â†’   \```css
   107â†’   [data-theme="light"] { --color-background: #fafafa; }
   108â†’   \```
   109â†’
   110â†’3. **ThemeContext**: Provides `isDark`, `toggleTheme`, `theme` - but NOT colors (deprecated)
   111â†’
   112â†’4. **Universal CV - Variant System**: Portfolio personalization for job applications
   113â†’   - Base profile + variant overrides = personalized experience
   114â†’   - Dynamic routes via HashRouter (`/#/:company/:role`)
   115â†’   - VariantContext provides merged profile to components
   116â†’   - Sections receive `profile` prop from context (not direct imports)
   117â†’
   118â†’---
   119â†’
   120â†’## Universal CV System
   121â†’
   122â†’### Overview
   123â†’
   124â†’The Universal CV system creates personalized portfolio variants tailored to specific job applications using AI-generated overrides of the base profile.
   125â†’
   126â†’**Live Examples:**
   127â†’- Base: `https://edgeoftrust.com/#/`
   128â†’- Bloomberg TPM: `https://edgeoftrust.com/#/bloomberg/technical-product-manager`
   129â†’- Gensyn TPM: `https://edgeoftrust.com/#/gensyn/technical-product-manager`
   130â†’
   131â†’### Architecture
   132â†’
   133â†’**Data Flow:**
   134â†’\```
   135â†’URL (/#/company/role)
   136â†’  â†’ React Router captures params
   137â†’  â†’ VariantPortfolio.tsx loads variant JSON
   138â†’  â†’ variants.ts: mergeProfile(base + overrides)
   139â†’  â†’ VariantContext provides merged profile
   140â†’  â†’ Portfolio.tsx receives from context
   141â†’  â†’ Sections (Hero, About, etc.) receive profile prop
   142â†’  â†’ Personalized content rendered
   143â†’\```
   144â†’
   145â†’**Key Files:**
   146â†’- `src/context/VariantContext.tsx` - Profile injection system
   147â†’- `src/pages/VariantPortfolio.tsx` - Dynamic variant loader
   148â†’- `src/lib/variants.ts` - Loading + merging logic
   149â†’- `src/types/variant.ts` - Type definitions
   150â†’- `scripts/generate-cv.ts` - CLI generator (243 lines)
   151â†’- `content/variants/*.{yaml,json}` - Variant data
   152â†’
   153â†’### Variant Schema
   154â†’
   155â†’\```typescript
   156â†’interface Variant {
   157â†’  metadata: {
   158â†’    company: string;
   159â†’    role: string;
   160â†’    slug: string;
   161â†’    generatedAt: string;
   162â†’    jobDescription: string;
   163â†’    generationModel?: string;
   164â†’  };
   165â†’  overrides: {
   166â†’    hero?: {
   167â†’      status?: string;
   168â†’      headline?: HeadlineSegment[];
   169â†’      subheadline?: string;
   170â†’    };
   171â†’    about?: {
   172â†’      tagline?: string;
   173â†’      bio?: string[];
   174â†’      stats?: Stat[];
   175â†’    };
   176â†’    sections?: {
   177â†’      beyondWork?: boolean;
   178â†’      blog?: boolean;
   179â†’      onchainIdentity?: boolean;
   180â†’      skills?: boolean;
   181â†’      passionProjects?: boolean;
   182â†’    };
   183â†’  };
   184â†’  relevance?: {
   185â†’    caseStudies?: Array<{ slug: string; relevanceScore: number; reasoning?: string }>;
   186â†’    skills?: Array<{ category: string; relevanceScore: number }>;
   187â†’    projects?: Array<{ slug: string; relevanceScore: number; reasoning?: string }>;
   188â†’  };
   189â†’}
   190â†’\```
   191â†’
   192â†’### Creating Variants
   193â†’
   194â†’**CLI Generator:**
   195â†’\```bash
   196â†’npm run generate:cv -- \
   197â†’  --company "Company" \
   198â†’  --role "Role Title" \
   199â†’  --jd "./job-description.txt" \
   200â†’  --provider gemini
   201â†’\```
   202â†’
   203â†’**Supported Providers:**
   204â†’- Claude (Anthropic): `ANTHROPIC_API_KEY`
   205â†’- OpenAI: `OPENAI_API_KEY`
   206â†’- Gemini (Google): `GEMINI_API_KEY`
   207â†’
   208â†’### Component Integration
   209â†’
   210â†’**IMPORTANT**: Sections that show personalized content MUST receive `profile` as a prop:
   211â†’
   212â†’\```tsx
   213â†’// âœ… CORRECT - Receives profile from context
   214â†’function HeroSection({ profile, isMobile }: { profile: Profile; isMobile: boolean }) {
   215â†’  const { hero } = profile;  // Uses variant profile
   216â†’  // ...
   217â†’}
   218â†’
   219â†’// âŒ INCORRECT - Direct import bypasses variants
   220â†’import { profile } from '../lib/content';
   221â†’function HeroSection({ isMobile }: { isMobile: boolean }) {
   222â†’  const { hero } = profile;  // Always uses base profile!
   223â†’  // ...
   224â†’}
   225â†’\```
   226â†’
   227â†’**Updated Components:**
   228â†’- `HeroSection.tsx` - Receives `profile` prop
   229â†’- `AboutSection.tsx` - Receives `profile` prop
   230â†’- `CertificationsSection.tsx` - Receives `profile` prop
   231â†’
   232â†’**In Portfolio.tsx:**
   233â†’\```tsx
   234â†’const { profile } = useVariant();  // Get from context
   235â†’
   236â†’<HeroSection profile={profile} isMobile={isMobile} ... />
   237â†’<AboutSection profile={profile} isMobile={isMobile} ... />
   238â†’\```
   239â†’
   240â†’### Routing
   241â†’
   242â†’**HashRouter** (GitHub Pages compatible):
   243â†’\```tsx
   244â†’// src/App.tsx
   245â†’<HashRouter>
   246â†’  <Routes>
   247â†’    <Route path="/" element={<BasePortfolio />} />
   248â†’    <Route path="/:company/:role" element={<VariantPortfolio />} />
   249â†’  </Routes>
   250â†’</HashRouter>
   251â†’\```
   252â†’
   253â†’**Why Hash Routing?**
   254â†’- GitHub Pages doesn't support server-side redirects
   255â†’- Hash URLs (`/#/company/role`) handled client-side
   256â†’- Fully shareable and bookmarkable
   257â†’- Can switch to BrowserRouter on Vercel/Netlify with proper config
   258â†’
   259â†’### Build Process
   260â†’
   261â†’Variants are bundled as separate chunks for optimal loading:
   262â†’\```
   263â†’dist/assets/
   264â†’â”œâ”€â”€ bloomberg-technical-product-manager-[hash].js  (4KB)
   265â†’â”œâ”€â”€ gensyn-technical-product-manager-[hash].js     (4KB)
   266â†’â””â”€â”€ index-[hash].js                                (main bundle)
   267â†’\```
   268â†’
   269â†’Vite's `import.meta.glob` enables lazy loading:
   270â†’\```typescript
   271â†’const variantFiles = import.meta.glob('../../content/variants/*.json', {
   272â†’  eager: false  // Lazy load only when needed
   273â†’});
   274â†’\```
   275â†’
   276â†’---
   277â†’
   278â†’## Design System
   279â†’
   280â†’### CSS Variables (globals.css)
   281â†’
   282â†’| Category | Examples |
   283â†’|----------|----------|
   284â†’| **Colors** | `--color-background`, `--color-text-primary`, `--color-accent` |
   285â†’| **Spacing** | `--space-xs` (4px) through `--space-3xl` (64px) |
   286â†’| **Typography** | `--font-serif`, `--font-sans` |
   287â†’| **Transitions** | `--ease-smooth`, `--transition-medium` |
   288â†’
   289â†’### Theme Values
   290â†’
   291â†’| Token | Dark Mode | Light Mode |
   292â†’|-------|-----------|------------|
   293â†’| `--color-background` | #08080a | #fafafa |
   294â†’| `--color-text-primary` | #e8e6e3 | #050505 |
   295â†’| `--color-accent` | #c29a6c | #8a6642 |
   296â†’
   297â†’---
   298â†’
   299â†’## Testing
   300â†’
   301â†’### Framework: Vitest + Testing Library
   302â†’
   303â†’**Run commands:**
   304â†’\```bash
   305â†’npm run test:design-system  # Design system tests (29 tests)
   306â†’npm run test                # All tests
   307â†’npm run test:watch          # Watch mode
   308â†’\```
   309â†’
   310â†’### Test Structure
   311â†’
   312â†’| File | Tests | Purpose |
   313â†’|------|-------|---------|
   314â†’| `css-variables.test.ts` | 12 | Verify design tokens exist |
   315â†’| `theme-toggle.test.tsx` | 6 | ThemeProvider functionality |
   316â†’| `components.test.tsx` | 11 | Component render checks |
   317â†’
   318â†’---
   319â†’
   320â†’## Recent Work (Dec 2024)
   321â†’
   322â†’### Design System Migration
   323â†’
   324â†’**Objective**: Migrate from React context-based colors to CSS custom properties
   325â†’
   326â†’**Changes Made:**
   327â†’1. Created `src/styles/globals.css` with all design tokens
   328â†’2. Updated `ThemeContext.tsx` to set `data-theme` attribute on `<html>`
   329â†’3. Migrated 8 components to use CSS variables instead of `useTheme().colors`:
   330â†’   - ThemeToggle.tsx
   331â†’   - FooterSection.tsx
   332â†’   - HeroSection.tsx
   333â†’   - AboutSection.tsx
   334â†’   - SocialSection.tsx
   335â†’   - ExperienceSection.tsx
   336â†’   - CertificationsSection.tsx
   337â†’   - CaseStudyModal.tsx
   338â†’
   339â†’**Git Commits:**
   340â†’- `34a925e` - feat: migrate design system to CSS custom properties
   341â†’- `1d5668e` - test: add design system test suite with Vitest
   342â†’
   343â†’---
   344â†’
   345â†’## Important Conventions
   346â†’
   347â†’### DO âœ…
   348â†’
   349â†’- Use CSS variables for all colors: `var(--color-*)`
   350â†’- Use spacing tokens: `var(--space-md)` not `16px`
   351â†’- Use font variables: `var(--font-serif)` not hardcoded strings
   352â†’- Run `npm run test:design-system` after design changes
   353â†’
   354â†’### DON'T âŒ
   355â†’
   356â†’- Import `colors` from `useTheme()` - this is deprecated
   357â†’- Use hardcoded hex colors in components
   358â†’- Use `isDark` conditionals for colors (CSS handles this now)
   359â†’
   360â†’---
   361â†’
   362â†’## Dependencies
   363â†’
   364â†’**Core:**
   365â†’- react@19.2.0
   366â†’- react-dom@19.2.0
   367â†’- vite@7.2.4
   368â†’
   369â†’**Dev/Testing:**
   370â†’- vitest@3.2.4
   371â†’- @testing-library/react
   372â†’- @testing-library/jest-dom
   373â†’- jsdom
   374â†’
   375â†’---
   376â†’
   377â†’## Useful Commands
   378â†’
   379â†’### Shipping Workflow (PR-Only)
   380â†’\```bash
   381â†’# 1. Create feature branch
   382â†’git checkout -b feat/your-feature
   383â†’
   384â†’# 2. Push work
   385â†’git push origin feat/your-feature
   386â†’
   387â†’# 3. Create Pull Request (via gh CLI)
   388â†’gh pr create --title "feat: descriptive title" --body "context about changes"
   389â†’
   390â†’# 4. Merge after approval
   391â†’gh pr merge --squash
   392â†’\```
   393â†’
```

Result:

```
total 24
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 .
drwxr-xr-x@ 27 dfotesco  staff   864 Dec 18 16:33 ..
-rw-r--r--@  1 dfotesco  staff   745 Dec 18 06:16 App.tsx
drwxr-xr-x@ 10 dfotesco  staff   320 Dec 18 19:36 components
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 context
-rw-r--r--@  1 dfotesco  staff  1097 Dec 15 10:40 index.css
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 lib
-rw-r--r--@  1 dfotesco  staff   230 Dec 10 12:54 main.tsx
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 pages
drwxr-xr-x@  3 dfotesco  staff    96 Dec 18 19:36 styles
drwxr-xr-x@  8 dfotesco  staff   256 Dec 18 19:36 tests
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 types
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me explore the components and structure more deeply.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List components directory

`ls -la /Users/dfotesco/Portfolio/portfolio/src/components`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List library utilities

`ls -la /Users/dfotesco/Portfolio/portfolio/src/lib`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List content directory

`ls -la /Users/dfotesco/Portfolio/portfolio/content`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./vite.config.ts`

Result:

```
1â†’import { defineConfig } from 'vite'
     2â†’import react from '@vitejs/plugin-react'
     3â†’import yaml from '@rollup/plugin-yaml'
     4â†’
     5â†’// https://vite.dev/config/
     6â†’export default defineConfig({
     7â†’  plugins: [
     8â†’    react(),
     9â†’    yaml()
    10â†’  ],
    11â†’  base: '/',
    12â†’})
    13â†’
```

Result:

```
total 8
drwxr-xr-x@  6 dfotesco  staff   192 Dec 15 19:14 _templates
drwxr-xr-x@ 13 dfotesco  staff   416 Dec 18 06:16 .
drwxr-xr-x@ 27 dfotesco  staff   864 Dec 18 16:33 ..
drwxr-xr-x@  7 dfotesco  staff   224 Dec 15 19:14 blog
drwxr-xr-x@  8 dfotesco  staff   256 Dec 15 19:14 case-studies
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 12:35 certifications
drwxr-xr-x@  3 dfotesco  staff    96 Dec 11 18:24 experience
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 19:14 passion-projects
-rw-r--r--@  1 dfotesco  staff  3358 Dec 15 19:14 profile.yaml
drwxr-xr-x@  3 dfotesco  staff    96 Dec 11 18:24 skills
drwxr-xr-x@  3 dfotesco  staff    96 Dec 15 12:35 social
drwxr-xr-x@  3 dfotesco  staff    96 Dec 14 15:19 testimonials
drwxr-xr-x@  8 dfotesco  staff   256 Dec 18 06:16 variants
```

Result:

```
total 224
drwxr-xr-x@ 10 dfotesco  staff    320 Dec 18 19:36 .
drwxr-xr-x@ 12 dfotesco  staff    384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  14889 Dec 18 19:36 Blog.tsx
-rw-r--r--@  1 dfotesco  staff  41818 Dec 18 05:09 BlogPostModal.tsx
drwxr-xr-x@  9 dfotesco  staff    288 Dec 18 19:36 case-study
drwxr-xr-x@  5 dfotesco  staff    160 Dec 18 19:36 common
-rw-r--r--@  1 dfotesco  staff  20856 Dec 18 05:09 LikeAnalytics.tsx
-rw-r--r--@  1 dfotesco  staff  22186 Dec 18 19:36 Portfolio.tsx
drwxr-xr-x@ 12 dfotesco  staff    384 Dec 18 19:36 sections
-rw-r--r--@  1 dfotesco  staff   2594 Dec 12 10:56 ThemeToggle.tsx
```

Result:

```
total 72
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  4956 Dec 15 19:14 content.ts
-rw-r--r--@  1 dfotesco  staff  6852 Dec 18 05:09 likes.ts
-rw-r--r--@  1 dfotesco  staff  9392 Dec 18 06:16 schemas.ts
-rw-r--r--@  1 dfotesco  staff  4833 Dec 18 06:16 variants.ts
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me check the components/sections to understand the page structure better.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List page sections

`ls -la /Users/dfotesco/Portfolio/portfolio/src/components/sections`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List case study components

`ls -la /Users/dfotesco/Portfolio/portfolio/src/components/case-study`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List pages/routes

`ls -la /Users/dfotesco/Portfolio/portfolio/src/pages`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/App.tsx`

Result:

```
1â†’import { HashRouter, Routes, Route } from 'react-router-dom';
     2â†’import { ThemeProvider } from './context/ThemeContext';
     3â†’import { HelmetProvider } from 'react-helmet-async';
     4â†’import BasePortfolio from './pages/BasePortfolio';
     5â†’import VariantPortfolio from './pages/VariantPortfolio';
     6â†’
     7â†’function App() {
     8â†’  return (
     9â†’    <HelmetProvider>
    10â†’      <ThemeProvider>
    11â†’        <HashRouter>
    12â†’          <Routes>
    13â†’            {/* Base portfolio route */}
    14â†’            <Route path="/" element={<BasePortfolio />} />
    15â†’
    16â†’            {/* Variant portfolio routes: /#/company/role */}
    17â†’            <Route path="/:company/:role" element={<VariantPortfolio />} />
    18â†’          </Routes>
    19â†’        </HashRouter>
    20â†’      </ThemeProvider>
    21â†’    </HelmetProvider>
    22â†’  );
    23â†’}
    24â†’
    25â†’export default App;
    26â†’
```

Result:

```
total 136
drwxr-xr-x@  9 dfotesco  staff    288 Dec 18 19:36 .
drwxr-xr-x@ 10 dfotesco  staff    320 Dec 18 19:36 ..
-rw-r--r--@  1 dfotesco  staff   7051 Dec 15 19:14 CaseStudyContent.tsx
-rw-r--r--@  1 dfotesco  staff  13869 Dec 18 19:36 CaseStudyDrawer.tsx
-rw-r--r--@  1 dfotesco  staff  15068 Dec 15 19:14 CaseStudyFooter.tsx
-rw-r--r--@  1 dfotesco  staff   1829 Dec 12 14:11 CaseStudyHeader.tsx
-rw-r--r--@  1 dfotesco  staff   4397 Dec 15 19:14 CaseStudyHero.tsx
-rw-r--r--@  1 dfotesco  staff  10718 Dec 15 19:14 CaseStudyLinks.tsx
-rw-r--r--@  1 dfotesco  staff   2438 Dec 12 14:11 CaseStudyMetrics.tsx
```

Result:

```
total 192
drwxr-xr-x@ 12 dfotesco  staff    384 Dec 18 19:36 .
drwxr-xr-x@ 10 dfotesco  staff    320 Dec 18 19:36 ..
-rw-r--r--@  1 dfotesco  staff  13859 Dec 18 06:16 AboutSection.tsx
-rw-r--r--@  1 dfotesco  staff  19211 Dec 18 19:36 CaseStudiesSection.tsx
-rw-r--r--@  1 dfotesco  staff   8029 Dec 18 19:36 CertificationsSection.tsx
-rw-r--r--@  1 dfotesco  staff   6248 Dec 18 19:36 ExperienceSection.tsx
-rw-r--r--@  1 dfotesco  staff    967 Dec 12 10:56 FooterSection.tsx
-rw-r--r--@  1 dfotesco  staff   7847 Dec 18 19:36 HeroSection.tsx
-rw-r--r--@  1 dfotesco  staff    557 Dec 12 15:56 index.ts
-rw-r--r--@  1 dfotesco  staff  11697 Dec 18 19:36 PassionProjectsSection.tsx
-rw-r--r--@  1 dfotesco  staff   6563 Dec 15 10:40 SocialSection.tsx
-rw-r--r--@  1 dfotesco  staff   6368 Dec 15 10:40 TestimonialsSection.tsx
```

Result:

```
total 16
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff   382 Dec 18 06:16 BasePortfolio.tsx
-rw-r--r--@  1 dfotesco  staff  2035 Dec 18 06:16 VariantPortfolio.tsx
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Let me also check the context files and types to complete the picture.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List context providers

`ls -la /Users/dfotesco/Portfolio/portfolio/src/context`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List type definitions

`ls -la /Users/dfotesco/Portfolio/portfolio/src/types`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List styles

`ls -la /Users/dfotesco/Portfolio/portfolio/src/styles`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./context/DESIGN.md`

Result:

```
1â†’# Web3 Portfolio Design System
     2â†’
     3â†’A comprehensive design system for a Web3 product manager portfolio featuring dark and light modes with elegant typography and consistent spacing.
     4â†’
     5â†’## Features
     6â†’
     7â†’- ğŸ¨ **Dual Theme Support**: Seamless dark and light mode switching
     8â†’- ğŸ”¤ **Premium Typography**: Instrument Serif & Instrument Sans font pairing
     9â†’- ğŸ“ **Consistent Spacing**: Token-based spacing system
    10â†’- ğŸ§© **Reusable Components**: Production-ready React components
    11â†’- âœ¨ **Smooth Animations**: Premium easing and transitions
    12â†’- ğŸ“± **Fully Responsive**: Mobile, tablet, and desktop optimized
    13â†’
    14â†’## ğŸš¨ Governance ("The Prime Directive")
    15â†’**The Design System is the Single Source of Truth.**
    16â†’*   **Do not** use hardcoded values in components.
    17â†’*   **Do not** add "snowflake" styles without justification.
    18â†’*   **Updates**: If you need a new style, add it to `globals.css` AND document it here first.
    19â†’
    20â†’## Quick Start
    21â†’
    22â†’### Theme System
    23â†’
    24â†’The design system uses CSS custom properties for theming. Toggle between dark and light modes using the `ThemeToggle` component.
    25â†’
    26â†’\```tsx
    27â†’import { ThemeProvider } from './context/ThemeContext';
    28â†’
    29â†’function App() {
    30â†’  return (
    31â†’    <ThemeProvider>
    32â†’      {/* Your app content */}
    33â†’    </ThemeProvider>
    34â†’  );
    35â†’}
    36â†’\```
    37â†’
    38â†’### Using Components
    39â†’
    40â†’All components are available in the `/components` directory:
    41â†’
    42â†’\```tsx
    43â†’import { Button } from './components/Button';
    44â†’import { Tag } from './components/Tag';
    45â†’import { CaseStudyCard } from './components/CaseStudyCard';
    46â†’
    47â†’// Primary button
    48â†’<Button variant="primary" href="#contact">Get in touch</Button>
    49â†’
    50â†’// Secondary button
    51â†’<Button variant="secondary" href="#work">View work</Button>
    52â†’
    53â†’// Tags
    54â†’<Tag>Web3</Tag>
    55â†’<Tag>Product</Tag>
    56â†’\```
    57â†’
    58â†’## Available Components
    59â†’
    60â†’### Buttons
    61â†’
    62â†’- **Primary Button**: Solid background with accent hover
    63â†’- **Secondary Button**: Text link with underline
    64â†’
    65â†’\```tsx
    66â†’<Button variant="primary">Primary Action</Button>
    67â†’<Button variant="secondary">Secondary Action</Button>
    68â†’\```
    69â†’
    70â†’### Cards
    71â†’
    72â†’#### Case Study Card
    73â†’Displays project information with metrics:
    74â†’
    75â†’\```tsx
    76â†’<CaseStudyCard
    77â†’  year="2024"
    78â†’  title="Project Title"
    79â†’  description="Project description"
    80â†’  tags={['Tag1', 'Tag2']}
    81â†’  metrics={[
    82â†’    { label: 'Metric', value: '100K' }
    83â†’  ]}
    84â†’/>
    85â†’\```
    86â†’
    87â†’#### Experience Card
    88â†’Shows work experience with achievements:
    89â†’
    90â†’\```tsx
    91â†’<ExperienceCard
    92â†’  period="2023 â€” Present"
    93â†’  company="Company Name"
    94â†’  role="Role Title"
    95â†’  description="Description"
    96â†’  achievements={['Achievement 1', 'Achievement 2']}
    97â†’/>
    98â†’\```
    99â†’
   100â†’#### Certification Card
```

Result:

```
total 40
drwxr-xr-x@  6 dfotesco  staff   192 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff   343 Dec 10 12:54 blog.ts
-rw-r--r--@  1 dfotesco  staff  7774 Dec 15 19:14 portfolio.ts
-rw-r--r--@  1 dfotesco  staff  1736 Dec 18 06:16 variant.ts
-rw-r--r--@  1 dfotesco  staff   230 Dec 11 18:24 yaml.d.ts
```

Result:

```
total 24
drwxr-xr-x@  4 dfotesco  staff   128 Dec 18 06:16 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  4158 Dec 12 16:09 ThemeContext.tsx
-rw-r--r--@  1 dfotesco  staff  1231 Dec 18 06:16 VariantContext.tsx
```

Result:

```
total 16
drwxr-xr-x@  3 dfotesco  staff    96 Dec 18 19:36 .
drwxr-xr-x@ 12 dfotesco  staff   384 Dec 18 06:16 ..
-rw-r--r--@  1 dfotesco  staff  7218 Dec 18 19:36 globals.css
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Now let me check the test structure and look at some key content files.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** List test structure

`ls -la /Users/dfotesco/Portfolio/portfolio/src/tests`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/lib/content.ts`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./src/types/portfolio.ts`

Result:

```
1â†’/**
     2â†’ * Content Loader with Zod Validation
     3â†’ *
     4â†’ * This module provides type-safe access to all content files.
     5â†’ * YAML files are loaded via @rollup/plugin-yaml.
     6â†’ * Case studies are loaded from markdown files with YAML frontmatter.
     7â†’ */
     8â†’
     9â†’import { z } from 'zod';
    10â†’import YAML from 'yaml';
    11â†’import type { PortfolioContent, CaseStudy } from '../types/portfolio';
    12â†’import {
    13â†’  ProfileSchema,
    14â†’  ExperienceSchema,
    15â†’  TestimonialsSchema,
    16â†’  CertificationsSchema,
    17â†’  SkillsSchema,
    18â†’  SocialSchema,
    19â†’  CaseStudySchema,
    20â†’  PassionProjectsSchema,
    21â†’  BlogPostSchema
    22â†’} from './schemas';
    23â†’
    24â†’// Import YAML content files
    25â†’import profileYaml from '../../content/profile.yaml';
    26â†’import experienceYaml from '../../content/experience/index.yaml';
    27â†’import testimonialsYaml from '../../content/testimonials/index.yaml';
    28â†’import certificationsYaml from '../../content/certifications/index.yaml';
    29â†’import skillsYaml from '../../content/skills/index.yaml';
    30â†’import socialYaml from '../../content/social/index.yaml';
    31â†’import passionProjectsYaml from '../../content/passion-projects/index.yaml';
    32â†’
    33â†’// Auto-discover case studies using import.meta.glob (now markdown files)
    34â†’const caseStudyFiles = import.meta.glob('../../content/case-studies/*.md', { query: '?raw', eager: true });
    35â†’
    36â†’// Re-export schemas for backward compatibility
    37â†’export {
    38â†’  ProfileSchema,
    39â†’  ExperienceSchema,
    40â†’  TestimonialsSchema,
    41â†’  CertificationsSchema,
    42â†’  SkillsSchema,
    43â†’  SocialSchema,
    44â†’  CaseStudySchema,
    45â†’  PassionProjectsSchema,
    46â†’  BlogPostSchema
    47â†’};
    48â†’
    49â†’// ------------------------------------------------------------------
    50â†’// Frontmatter Parsing
    51â†’// ------------------------------------------------------------------
    52â†’
    53â†’function parseFrontmatter(raw: string): { frontmatter: Record<string, unknown>; content: string } {
    54â†’  const match = raw.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    55â†’  if (!match) return { frontmatter: {}, content: raw };
    56â†’
    57â†’  const frontmatterStr = match[1];
    58â†’  const content = match[2].trim();
    59â†’
    60â†’  try {
    61â†’    const frontmatter = YAML.parse(frontmatterStr);
    62â†’    return { frontmatter, content };
    63â†’  } catch (error) {
    64â†’    console.error('Failed to parse frontmatter:', error);
    65â†’    return { frontmatter: {}, content: raw };
    66â†’  }
    67â†’}
    68â†’
    69â†’// ------------------------------------------------------------------
    70â†’// Runtime Validation
    71â†’// ------------------------------------------------------------------
    72â†’
    73â†’function validate<T>(schema: z.ZodSchema<T>, data: unknown, filename: string): T {
    74â†’  try {
    75â†’    return schema.parse(data);
    76â†’  } catch (error) {
    77â†’    if (error instanceof z.ZodError) {
    78â†’      console.error(`âŒ Validation failed for ${filename}:`, error.flatten().fieldErrors);
    79â†’      throw new Error(`Invalid content in ${filename}: ${error.message}`);
    80â†’    }
    81â†’    throw error;
    82â†’  }
    83â†’}
    84â†’
    85â†’// Export validated content
    86â†’export const profile = validate(ProfileSchema, profileYaml, 'profile.yaml');
    87â†’export const experience = validate(ExperienceSchema, experienceYaml, 'experience/index.yaml');
    88â†’export const testimonials = validate(TestimonialsSchema, testimonialsYaml, 'testimonials/index.yaml');
    89â†’export const certifications = validate(CertificationsSchema, certificationsYaml, 'certifications/index.yaml');
    90â†’export const skills = validate(SkillsSchema, skillsYaml, 'skills/index.yaml');
    91â†’export const social = validate(SocialSchema, socialYaml, 'social/index.yaml');
    92â†’export const passionProjectsData = validate(PassionProjectsSchema, passionProjectsYaml, 'passion-projects/index.yaml');
    93â†’export const passionProjects = passionProjectsData.projects;
    94â†’
    95â†’// Parse and validate case studies from markdown files
    96â†’function parseCaseStudies(): CaseStudy[] {
    97â†’  return Object.entries(caseStudyFiles)
    98â†’    .map(([path, module]) => {
    99â†’      const filename = path.split('/').pop() || 'unknown';
   100â†’      const raw = (module as { default: string }).default;
   101â†’      const { frontmatter, content } = parseFrontmatter(raw);
   102â†’      
   103â†’      // Combine frontmatter with content
   104â†’      const caseStudyData = {
   105â†’        ...frontmatter,
   106â†’        content
   107â†’      };
   108â†’      
   109â†’      return validate(CaseStudySchema, caseStudyData, filename);
   110â†’    })
   111â†’    .sort((a, b) => a.id - b.id);
   112â†’}
   113â†’
   114â†’export const caseStudies = parseCaseStudies();
   115â†’
   116â†’// Aggregated content export
   117â†’export const content: PortfolioContent = {
   118â†’  profile,
   119â†’  experience,
   120â†’  testimonials,
   121â†’  certifications,
   122â†’  skills,
   123â†’  social,
   124â†’  caseStudies,
   125â†’  passionProjects,
   126â†’};
   127â†’
   128â†’// Helper functions
   129â†’export function getCaseStudyBySlug(slug: string) {
   130â†’  return caseStudies.find(cs => cs.slug === slug);
   131â†’}
   132â†’
   133â†’export function getCaseStudyById(id: number) {
   134â†’  return caseStudies.find(cs => cs.id === id);
   135â†’}
   136â†’
   137â†’export function getFeaturedTestimonials() {
   138â†’  return testimonials.testimonials.filter(t => t.featured);
   139â†’}
   140â†’
   141â†’export function getFeaturedCertifications() {
   142â†’  return certifications.certifications.filter(c => c.featured);
   143â†’}
   144â†’
   145â†’export function getPrimarySocialLinks() {
   146â†’  return social.links.filter(l => l.primary);
   147â†’}
   148â†’
   149â†’export function isSectionVisible(section: keyof typeof profile.sections): boolean {
   150â†’  return profile.sections[section];
   151â†’}
   152â†’
   153â†’export default content;
   154â†’
```

Result:

```
1â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     2â†’// PROFILE
     3â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     4â†’export interface HeadlineSegment {
     5â†’  text: string;
     6â†’  style: 'italic' | 'muted' | 'accent' | 'normal';
     7â†’}
     8â†’
     9â†’export interface CtaButton {
    10â†’  label: string;
    11â†’  href: string;
    12â†’}
    13â†’
    14â†’export interface Stat {
    15â†’  value: string;
    16â†’  label: string;
    17â†’}
    18â†’
    19â†’export interface Profile {
    20â†’  name: string;
    21â†’  ens: string;
    22â†’  email: string;
    23â†’  location: string;
    24â†’  timezone: string;
    25â†’  photo: string;
    26â†’  hero: {
    27â†’    status: string;
    28â†’    headline: HeadlineSegment[];
    29â†’    subheadline: string;
    30â†’    cta: {
    31â†’      primary: CtaButton;
    32â†’      secondary: CtaButton;
    33â†’    };
    34â†’  };
    35â†’  about: {
    36â†’    tagline: string;
    37â†’    bio: string[];
    38â†’    stats: Stat[];
    39â†’  };
    40â†’  sections: {
    41â†’    beyondWork: boolean;
    42â†’    blog: boolean;
    43â†’    onchainIdentity: boolean;
    44â†’    skills: boolean;
    45â†’    passionProjects: boolean;
    46â†’  };
    47â†’}
    48â†’
    49â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    50â†’// EXPERIENCE
    51â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    52â†’export interface Job {
    53â†’  company: string;
    54â†’  role: string;
    55â†’  period: string;
    56â†’  location: string;
    57â†’  logo?: string | null;
    58â†’  highlights: string[];
    59â†’  tags: string[];
    60â†’  url?: string | null;
    61â†’}
    62â†’
    63â†’export interface Experience {
    64â†’  jobs: Job[];
    65â†’}
    66â†’
    67â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    68â†’// TESTIMONIALS
    69â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    70â†’export interface Testimonial {
    71â†’  quote: string;
    72â†’  author: string;
    73â†’  initials?: string;
    74â†’  role: string;
    75â†’  company: string;
    76â†’  avatar?: string | null;
    77â†’  featured: boolean;
    78â†’}
    79â†’
    80â†’export interface Testimonials {
    81â†’  testimonials: Testimonial[];
    82â†’}
    83â†’
    84â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    85â†’// CERTIFICATIONS
    86â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    87â†’export interface Certification {
    88â†’  name: string;
    89â†’  issuer: string;
    90â†’  date: string;
    91â†’  credentialId?: string | null;
    92â†’  url?: string | null;
    93â†’  logo?: string | null;
    94â†’  featured: boolean;
    95â†’  instructor?: string | null;
    96â†’  instructorRole?: string | null;
    97â†’}
    98â†’
    99â†’export interface Credential {
   100â†’  label: string;
```

Result:

```
total 8
drwxr-xr-x@  8 dfotesco  staff  256 Dec 18 19:36 .
drwxr-xr-x@ 12 dfotesco  staff  384 Dec 18 06:16 ..
drwxr-xr-x@  3 dfotesco  staff   96 Dec 18 05:09 blog
drwxr-xr-x@  3 dfotesco  staff   96 Dec 15 19:14 case-study
drwxr-xr-x@  5 dfotesco  staff  160 Dec 18 19:36 design-system
drwxr-xr-x@  3 dfotesco  staff   96 Dec 18 19:36 mobile
-rw-r--r--@  1 dfotesco  staff  941 Dec 12 12:29 setup.ts
drwxr-xr-x@  3 dfotesco  staff   96 Dec 15 19:14 validation
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Perfect! Now let me get a final overview by checking the git commit history to understand recent work.

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Bash** Show recent git commits

`git -C /Users/dfotesco/Portfolio/portfolio log --oneline -20`

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Tool use: **Read** `./context/STATE_OF_THE_UNION.md`

Result:

```
af16adbc Refine portfolio design: Section delineation, layout cleanup, and alternating backgrounds
e13cec27 docs: consolidate and revise project documentation context
f0b195c8 docs: add state of the union audit and local settings
079fa679 fix: resolve case sensitivity conflict for DEVLOG.md
ae7ee803 Merge pull request #33 from fotescodev/feature/passion-projects-redesign
9e5d5e87 refactor(passion-projects): redesign section to editorial index list
fe8815fe Merge pull request #32 from fotescodev/claude/improve-cv-customization-p3pce
d2071ffa feat: Improve CV customization - preserve signature headline, add experience overrides
e86589a5 feat: Add companyAccent and experience overrides to variant schema
7958c20a Merge pull request #31 from fotescodev/claude/universal-cv-portfolio-Uua4e
410c7b39 docs: Add comprehensive Universal CV documentation
3701127f Merge pull request #30 from fotescodev/claude/universal-cv-portfolio-Uua4e
6e5b88b6 fix: Pass profile prop to sections for variant support
00dfd4ce Merge pull request #29 from fotescodev/claude/universal-cv-portfolio-Uua4e
2b2a0740 fix: Switch to HashRouter for GitHub Pages compatibility
cdf11cfb Merge pull request #28 from fotescodev/claude/universal-cv-portfolio-Uua4e
243ed135 feat: Add Bloomberg and Gensyn personalized portfolio variants
0067984d Merge pull request #27 from fotescodev/claude/evaluate-blog-ux-SfqKl
5f8a5526 feat: Implement Universal CV system for personalized portfolio variants
4d9e7884 docs: Add comprehensive Devlog and update ROADMAP
```

Result:

```
1â†’# State of the Union: Portfolio Audit
     2â†’**Version**: 2.0
     3â†’**Date**: 2024-12-18
     4â†’**Branch**: `regroup`
     5â†’**Auditors**: Claude (Technical), Gemini (Reconciliation)
     6â†’
     7â†’---
     8â†’
     9â†’## Executive Summary
    10â†’
    11â†’The portfolio is **production-ready at 80%** with solid technical foundations. The YAML-to-Zod pipeline is robust, the Blog UX sprint delivered exceptional value, and 187 tests pass. However, **bundle size (467KB)** is a critical performance blocker, and the **Testimonials section** doesn't convey Director-level seniority.
    12â†’
    13â†’**The "Hired-on-Sight" Delta**: Performance optimization + social proof enhancement + one investigation into documentation ghosts.
    14â†’
    15â†’---
    16â†’
    17â†’## Part I: Strategic Audit
    18â†’
    19â†’### 1.1 Technical Health Assessment
    20â†’
    21â†’#### Data Pipeline: YAML â†’ Zod â†’ Components
    22â†’
    23â†’| Component | Location | Status |
    24â†’|-----------|----------|--------|
    25â†’| Schema Definitions | `src/lib/schemas.ts` | âœ… **SOLID** - 9 Zod schemas |
    26â†’| Runtime Validation | `src/lib/content.ts:73-83` | âœ… **SAFE** - `validate()` wraps all imports |
    27â†’| Frontmatter Parser | `src/lib/content.ts:53-67` | âœ… **DEFENSIVE** - Graceful fallback |
    28â†’| Type Exports | `src/types/portfolio.ts` | âœ… **MIRRORED** - Interfaces match schemas |
    29â†’
    30â†’**Type Safety Score**: 9/10
    31â†’**One Escape Hatch**: `src/components/Blog.tsx:72` uses `(module as any).default`
    32â†’
    33â†’#### Build & Test Health
    34â†’
    35â†’\```
    36â†’âœ“ TypeScript:  CLEAN (tsc -b passes)
    37â†’âœ“ Vite Build:  SUCCESS
    38â†’âœ“ Tests:       187 passing
    39â†’âš  Bundle:      467KB gzipped (CRITICAL)
    40â†’âš  Chunk Warn:  1,466KB pre-minification
    41â†’\```
    42â†’
    43â†’#### Technical Debt Inventory
    44â†’
    45â†’| Issue | Severity | Impact |
    46â†’|-------|----------|--------|
    47â†’| **Bundle Size** (467KB) | ğŸ”´ CRITICAL | Poor Core Web Vitals, slow mobile load |
    48â†’| **No Code Splitting** | ğŸ”´ HIGH | Single chunk loads everything |
    49â†’| **Inline Styles** (324 occurrences) | ğŸŸ¡ MEDIUM | Maintainability burden |
    50â†’| **LikeAnalytics.tsx** (505 lines) | ğŸŸ¡ MEDIUM | Unused on first load |
    51â†’| **No `<Image />` component** | ğŸŸ¡ MEDIUM | No lazy load, no blur-up |
    52â†’| **SocialSection.tsx unused** | ğŸŸ¢ LOW | Dead code |
    53â†’| **Manual type duplication** | ğŸŸ¢ LOW | Zod â†’ interfaces redundancy |
    54â†’
    55â†’### 1.2 Design Fidelity Assessment
    56â†’
    57â†’**Premium Quotient**: 7.5/10 â€” "Clean" but not yet "Director-level Editorial"
    58â†’
    59â†’| Aspect | Status | Notes |
    60â†’|--------|--------|-------|
    61â†’| Typography | âœ… Strong | Instrument Serif/Sans pairing, fluid blog scaling |
    62â†’| Color Palette | âœ… Elegant | Warm accent (#c29a6c) feels premium |
    63â†’| Motion | âœ… Good | Framer Motion drawer transitions |
    64â†’| Glassmorphism | âœ… Implemented | Nav and Omnibar with backdrop-blur |
    65â†’| Ambient Effects | âœ… Present | Orbs + grid overlay active |
    66â†’| Whitespace | ğŸŸ¡ Inconsistent | Hero spacious; mid-page denser |
    67â†’| Component Elevation | ğŸŸ¡ Flat | Cards lack shadow depth |
    68â†’| Light Mode | ğŸŸ¡ Afterthought | Flatter feel, lower orb opacity |
    69â†’
    70â†’#### Editorial Layout Gaps
    71â†’
    72â†’1. **Testimonials** â€” Horizontal scroll is functional but not premium. No staggered animations. Uniform card sizes. Missing "pull-quote" treatment.
    73â†’
    74â†’2. **Case Study Grid** â€” List format is clean but lacks visual hierarchy. No "featured" case study with larger treatment.
    75â†’
    76â†’3. **Skills Section** â€” Empty stub exists (`sections.skills && ...`). Either implement or remove.
    77â†’
    78â†’### 1.3 Theme Parity Analysis
    79â†’
    80â†’| Token | Dark | Light | Status |
    81â†’|-------|------|-------|--------|
    82â†’| Background | `#08080a` | `#fafafa` | âœ… |
    83â†’| Text Primary | `#e8e6e3` | `#050505` | âœ… |
    84â†’| Accent | `#c29a6c` | `#8a6642` | âœ… |
    85â†’| Orb Opacity | 0.25 | 0.15 | ğŸŸ¡ Light feels muted |
    86â†’| Card Shadows | Visible | Nearly invisible | ğŸŸ¡ Light feels flat |
    87â†’
    88â†’---
    89â†’
    90â†’## Part II: Onboarding Success
    91â†’
    92â†’## ğŸŸ¢ Executive Summary: "The Engine is Active"
    93â†’**Strategic Update**: The **"Universal CV" Personalization Engine** is **Confirmed Online**.
    94â†’- `src/context/VariantContext.tsx`: âœ… Verified
    95â†’- `scripts/generate-cv.ts`: âœ… Verified
    96â†’- `src/lib/variants.ts`: âœ… Verified
    97â†’
    98â†’The previous "Ghost" finding was an artifact of an outdated branch. The project is effectively a **Dynamic Personalization Engine** ready for optimization.
    99â†’
   100â†’### 2.2 Resolution Requirements
```

_**Agent (claude-haiku-4-5-20251001) (sidechain)**_

Perfect! Now I have a comprehensive understanding of the codebase. Let me provide a concise summary.

## Codebase Architecture Summary

I've thoroughly explored the Dmitrii Fotesco portfolio codebase. Here's a comprehensive overview:

### Project Overview
**Name**: Dmitrii Fotesco's Senior Technical PM Portfolio  
**URL**: https://edgeoftrust.com  
**Status**: Production-ready (80% maturity)  
**Tech Stack**: React 19 + TypeScript + Vite + Framer Motion + Zod  
**Repository**: https://github.com/fotescodev/portfolio

---

### Core Architecture

#### 1. **Directory Structure**
```
portfolio/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Main UI components
â”‚   â”‚   â”œâ”€â”€ sections/        # Page sections (Hero, About, Experience, etc.)
â”‚   â”‚   â”œâ”€â”€ case-study/      # Case study modal & display components
â”‚   â”‚   â””â”€â”€ common/          # Shared UI (Omnibar, AmbientBackground)
â”‚   â”œâ”€â”€ pages/               # Route pages (Base & Variant portfolios)
â”‚   â”œâ”€â”€ context/             # React contexts (Theme, Variant profile injection)
â”‚   â”œâ”€â”€ lib/                 # Utilities (content loader, Zod schemas, variant logic)
â”‚   â”œâ”€â”€ types/               # TypeScript interfaces
â”‚   â”œâ”€â”€ styles/              # CSS variables & globals
â”‚   â””â”€â”€ tests/               # Vitest + Testing Library suite
â”œâ”€â”€ content/                 # YAML & markdown content files
â”‚   â”œâ”€â”€ profile.yaml         # Base profile data
â”‚   â”œâ”€â”€ experience/          # Job history
â”‚   â”œâ”€â”€ case-studies/        # Markdown with YAML frontmatter
â”‚   â”œâ”€â”€ blog/                # Blog posts
â”‚   â”œâ”€â”€ skills/              # Skill categories
â”‚   â””â”€â”€ variants/            # Personalized variants (Bloomberg, Gensyn)
â”œâ”€â”€ scripts/                 # CLI utilities
â”‚   â”œâ”€â”€ validate-content.ts  # Content validation
â”‚   â””â”€â”€ generate-cv.ts       # AI-powered variant generator
â””â”€â”€ context/                 # Documentation & governance
    â”œâ”€â”€ CODEBASE.md          # Architecture docs
    â”œâ”€â”€ DESIGN.md            # Design system specs
    â”œâ”€â”€ STATE_OF_THE_UNION.md # Current audit & status
    â”œâ”€â”€ ROADMAP.md           # Feature roadmap
    â”œâ”€â”€ AGENT_RULES.md       # AI collaboration rules
    â””â”€â”€ DEVLOG.md            # Session history
```

---

### 2. **Key Technologies**

| Category | Technology | Purpose |
|----------|-----------|---------|
| **Core** | React 19 | UI framework |
| **Language** | TypeScript 5.9 | Type safety |
| **Build** | Vite 7.2 | Module bundler |
| **Routing** | React Router DOM 6 (HashRouter) | Client-side routing |
| **Animation** | Framer Motion 12 | Smooth transitions |
| **Validation** | Zod 4.1 | Schema validation |
| **Content** | gray-matter, react-markdown | YAML/markdown parsing |
| **Testing** | Vitest 3.2, Testing Library 16 | Test framework |
| **Styling** | CSS Variables (globals.css) | Design tokens |
| **SEO** | react-helmet-async | Meta tag management |

---

### 3. **Main Components & Pages**

**Page Routes:**
- `/#/` â€” Base portfolio
- `/#/company/role` â€” Personalized variant (e.g., `/#/bloomberg/technical-product-manager`)

**Key Sections:**
- **HeroSection** â€” Animated headline with CTA buttons
- **AboutSection** â€” Tagline + bio + stats
- **ExperienceSection** â€” Job history timeline
- **CaseStudiesSection** â€” Featured projects with drawer modal
- **CertificationsSection** â€” Credentials + instructor info
- **PassionProjectsSection** â€” Side projects gallery
- **TestimonialsSection** â€” Social proof carousel
- **SocialSection** â€” Contact & social links
- **BlogSection** â€” Article listing with modal reader

**Shared Components:**
- **ThemeToggle** â€” Dark/light mode switcher
- **AmbientBackground** â€” Animated orbs + grid overlay
- **Omnibar** â€” Navigation bar with glassmorphism
- **Blog.tsx** â€” Blog post feed with like analytics

---

### 4. **Universal CV System (Variant Engine)**

A personalization system that creates tailored portfolio variants for job applications:

**Data Flow:**
```
URL (/#/company/role)
  â†’ VariantPortfolio.tsx loads variant JSON
  â†’ variants.ts merges base profile + overrides
  â†’ VariantContext injects merged profile
  â†’ Sections receive profile prop â†’ personalized content
```

**Key Files:**
- `src/context/VariantContext.tsx` â€” Profile injection system
- `src/pages/VariantPortfolio.tsx` â€” Dynamic variant loader
- `src/lib/variants.ts` â€” Merging logic
- `scripts/generate-cv.ts` â€” AI CLI generator (uses Claude/Gemini/OpenAI)
- `content/variants/*.{yaml,json}` â€” Variant data

**Live Examples:**
- Base: `https://edgeoftrust.com/#/`
- Bloomberg TPM: `https://edgeoftrust.com/#/bloomberg/technical-product-manager`
- Gensyn TPM: `https://edgeoftrust.com/#/gensyn/technical-product-manager`

---

### 5. **Content Pipeline**

**Data Flow:**
```
YAML/Markdown Files
  â†’ Vite import.meta.glob (eager loading)
  â†’ Frontmatter parser (YAML extraction)
  â†’ Zod validation (runtime type checking)
  â†’ React components (prop-based rendering)
```

**Content Loader (`src/lib/content.ts`):**
- Imports all YAML files
- Parses markdown frontmatter
- Validates against Zod schemas
- Exports aggregated `PortfolioContent` object

**Available Exports:**
- `profile` â€” Hero + about section data
- `experience` â€” Job history
- `caseStudies` â€” Project case studies (from markdown)
- `certifications`, `testimonials`, `skills`, `passionProjects`
- Helper functions: `getCaseStudyBySlug()`, `getFeaturedTestimonials()`, etc.

---

### 6. **Design System**

**CSS Variables (src/styles/globals.css):**

| Token | Dark Mode | Light Mode |
|-------|-----------|------------|
| `--color-background` | #08080a | #fafafa |
| `--color-text-primary` | #e8e6e3 | #050505 |
| `--color-accent` | #c29a6c | #8a6642 |

**Spacing Tokens:** `--space-xs` (4px) â†’ `--space-3xl` (64px)  
**Typography:** `--font-serif` (Instrument Serif), `--font-sans` (Instrument Sans)  
**Transitions:** `--ease-smooth`, `--transition-medium`

**Theme System:**
- Uses `data-theme` attribute on `<html>`
- ThemeContext manages toggle state
- Components reference CSS variables (no hardcoded colors)

---

### 7. **Testing Infrastructure**

**Framework:** Vitest 3.2 + Testing Library 16  
**Coverage:** 187 passing tests

**Test Suites:**
- `design-system/` â€” CSS variables, theme toggle (29 tests)
- `case-study/` â€” Modal interactions
- `mobile/` â€” Responsiveness checks
- `blog/` â€” Blog loading & rendering
- `validation/` â€” Content schema validation

**Commands:**
```bash
npm run test                  # All tests
npm run test:watch           # Watch mode
npm run test:design-system   # Design system only
```

---

### 8. **Performance & Bundle Status**

**Current Metrics:**
- Bundle size: 467KB (gzipped) â€” âš  Critical concern
- Pre-minification: 1,466KB
- Tests: 187 passing
- TypeScript: Clean compilation

**Known Issues:**
- No code splitting (single bundle)
- LikeAnalytics.tsx (505 lines) loaded on first paint
- No lazy image loading
- Bundle size blocks Core Web Vitals improvements

---

### 9. **Key Design Patterns**

1. **Type-Safe Content:** Zod schemas validate all data at runtime
2. **Prop Drilling:** Sections receive `profile` prop for variant support (not direct imports)
3. **CSS Variables:** No hardcoded colors; theme switching is seamless
4. **HashRouter:** GitHub Pages compatible (no server redirects needed)
5. **Lazy Loading:** Variants loaded via `import.meta.glob` with `eager: false`
6. **Frontmatter Parsing:** Markdown files can embed YAML metadata

---

### 10. **Documentation & Governance**

All critical context stored in `/context/`:
- **STATE_OF_THE_UNION.md** â€” Current audit (80% production-ready)
- **CODEBASE.md** â€” Architecture & conventions
- **DESIGN.md** â€” Design system governance
- **AGENT_RULES.md** â€” AI collaboration rules
- **ROADMAP.md** â€” Feature priorities
- **DEVLOG.md** â€” Session-by-session history

---

### Quick Start Commands

```bash
# Development
npm install
npm run dev              # Start local instance
npm run validate         # Check content integrity
npm run test            # Run test suite

# Personalization
npm run generate:cv -- --company "X" --role "Y" --jd "./jd.txt" --provider gemini

# Build & Deploy
npm run build           # TypeScript + Vite
npm run preview         # Test production build
```

---

This is a **well-architected, production-grade portfolio engine** with a sophisticated Universal CV personalization system. The main technical debt is bundle size optimization, but the core content pipeline, type safety, and variant system are solid and extensible.

